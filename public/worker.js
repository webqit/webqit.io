/*! For license information please see worker.js.LICENSE.txt */
(()=>{var e={740:e=>{"use strict";function t(e,t,s){e instanceof RegExp&&(e=r(e,s)),t instanceof RegExp&&(t=r(t,s));var i=n(e,t,s);return i&&{start:i[0],end:i[1],pre:s.slice(0,i[0]),body:s.slice(i[0]+e.length,i[1]),post:s.slice(i[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function n(e,t,r){var n,s,i,a,o,c=r.indexOf(e),l=r.indexOf(t,c+1),u=c;if(c>=0&&l>0){for(n=[],i=r.length;u>=0&&!o;)u==c?(n.push(u),c=r.indexOf(e,u+1)):1==n.length?o=[n.pop(),l]:((s=n.pop())<i&&(i=s,a=l),l=r.indexOf(t,u+1)),u=c<l&&c>=0?c:l;n.length&&(o=[i,a])}return o}e.exports=t,t.range=n},2:(e,t,r)=>{var n=r(179),s=r(740);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),m(function(e){return e.split("\\\\").join(i).split("\\{").join(a).split("\\}").join(o).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(h)):[]};var i="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split(i).join("\\").split(a).join("{").split(o).join("}").split(c).join(",").split(l).join(".")}function p(e){if(!e)return[""];var t=[],r=s("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,a=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var c=p(a);return a.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function f(e){return"{"+e+"}"}function g(e){return/^-?0\d/.test(e)}function d(e,t){return e<=t}function y(e,t){return e>=t}function m(e,t){var r=[],i=s("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var a,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),h=c||l,b=i.body.indexOf(",")>=0;if(!h&&!b)return i.post.match(/,.*\}/)?m(e=i.pre+"{"+i.body+o+i.post):[e];if(h)a=i.body.split(/\.\./);else if(1===(a=p(i.body)).length&&1===(a=m(a[0],!1).map(f)).length)return(_=i.post.length?m(i.post,!1):[""]).map((function(e){return i.pre+a[0]+e}));var v,w=i.pre,_=i.post.length?m(i.post,!1):[""];if(h){var j=u(a[0]),O=u(a[1]),x=Math.max(a[0].length,a[1].length),E=3==a.length?Math.abs(u(a[2])):1,R=d;O<j&&(E*=-1,R=y);var D=a.some(g);v=[];for(var C=j;R(C,O);C+=E){var P;if(l)"\\"===(P=String.fromCharCode(C))&&(P="");else if(P=String(C),D){var S=x-P.length;if(S>0){var k=new Array(S+1).join("0");P=C<0?"-"+k+P.slice(1):k+P}}v.push(P)}}else v=n(a,(function(e){return m(e,!1)}));for(var A=0;A<v.length;A++)for(var q=0;q<_.length;q++){var F=w+v[A]+_[q];(!t||h||F)&&r.push(F)}return r}},179:e=>{e.exports=function(e,r){for(var n=[],s=0;s<e.length;s++){var i=r(e[s],s);t(i)?n.push.apply(n,i):n.push(i)}return n};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},92:e=>{e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},215:(e,t,r)=>{var n=r(92),s={"{":"}","(":")","[":"]"},i=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,a=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;e.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(n(e))return!0;var r,o=i;for(t&&!1===t.strict&&(o=a);r=o.exec(e);){if(r[2])return!0;var c=r.index+r[0].length,l=r[1],u=l?s[l]:null;if(l&&u){var h=e.indexOf(u,c);-1!==h&&(c=h+1)}e=e.slice(c)}return!1}},688:(e,t,r)=>{e.exports=p,p.Minimatch=f;var n={sep:"/"};try{n=r(Object(function(){var e=new Error("Cannot find module 'path'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){}var s=p.GLOBSTAR=f.GLOBSTAR={},i=r(2),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},o="[^/]",c="[^/]*?",l="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),u=/\/+/;function h(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function p(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new f(t,r).match(e))}function f(e,t){if(!(this instanceof f))return new f(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==n.sep&&(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof f?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:i(e)}p.filter=function(e,t){return t=t||{},function(r,n,s){return p(r,e,t)}},p.defaults=function(e){if(!e||!Object.keys(e).length)return p;var t=p,r=function(r,n,s){return t.minimatch(r,n,h(e,s))};return r.Minimatch=function(r,n){return new t.Minimatch(r,h(e,n))},r},f.defaults=function(e){return e&&Object.keys(e).length?p.defaults(e).Minimatch:f},f.prototype.debug=function(){},f.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(u)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0}},f.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=0;if(!this.options.nonegate){for(var n=0,s=e.length;n<s&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},p.braceExpand=function(e,t){return g(e,t)},f.prototype.braceExpand=g,f.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return s;if(""===e)return"";var n,i="",u=!!r.nocase,h=!1,p=[],f=[],g=!1,y=-1,m=-1,b="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function w(){if(n){switch(n){case"*":i+=c,u=!0;break;case"?":i+=o,u=!0;break;default:i+="\\"+n}v.debug("clearStateChar %j %j",n,i),n=!1}}for(var _,j=0,O=e.length;j<O&&(_=e.charAt(j));j++)if(this.debug("%s\t%s %s %j",e,j,i,_),h&&l[_])i+="\\"+_,h=!1;else switch(_){case"/":return!1;case"\\":w(),h=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,j,i,_),g){this.debug("  in class"),"!"===_&&j===m+1&&(_="^"),i+=_;continue}v.debug("call clearStateChar %j",n),w(),n=_,r.noext&&w();continue;case"(":if(g){i+="(";continue}if(!n){i+="\\(";continue}p.push({type:n,start:j-1,reStart:i.length,open:a[n].open,close:a[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(g||!p.length){i+="\\)";continue}w(),u=!0;var x=p.pop();i+=x.close,"!"===x.type&&f.push(x),x.reEnd=i.length;continue;case"|":if(g||!p.length||h){i+="\\|",h=!1;continue}w(),i+="|";continue;case"[":if(w(),g){i+="\\"+_;continue}g=!0,m=j,y=i.length,i+=_;continue;case"]":if(j===m+1||!g){i+="\\"+_,h=!1;continue}if(g){var E=e.substring(m+1,j);try{RegExp("["+E+"]")}catch(e){var R=this.parse(E,d);i=i.substr(0,y)+"\\["+R[0]+"\\]",u=u||R[1],g=!1;continue}}u=!0,g=!1,i+=_;continue;default:w(),h?h=!1:!l[_]||"^"===_&&g||(i+="\\"),i+=_}for(g&&(E=e.substr(m+1),R=this.parse(E,d),i=i.substr(0,y)+"\\["+R[0],u=u||R[1]),x=p.pop();x;x=p.pop()){var D=i.slice(x.reStart+x.open.length);this.debug("setting tail",i,x),D=D.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",D,D,x,i);var C="*"===x.type?c:"?"===x.type?o:"\\"+x.type;u=!0,i=i.slice(0,x.reStart)+C+"\\("+D}w(),h&&(i+="\\\\");var P=!1;switch(i.charAt(0)){case".":case"[":case"(":P=!0}for(var S=f.length-1;S>-1;S--){var k=f[S],A=i.slice(0,k.reStart),q=i.slice(k.reStart,k.reEnd-8),F=i.slice(k.reEnd-8,k.reEnd),T=i.slice(k.reEnd);F+=T;var L=A.split("(").length-1,$=T;for(j=0;j<L;j++)$=$.replace(/\)[+*?]?/,"");var W="";""===(T=$)&&t!==d&&(W="$"),i=A+q+T+W+F}if(""!==i&&u&&(i="(?=.)"+i),P&&(i=b+i),t===d)return[i,u];if(!u)return e.replace(/\\(.)/g,"$1");var B=r.nocase?"i":"";try{var U=new RegExp("^"+i+"$",B)}catch(e){return new RegExp("$.")}return U._glob=e,U._src=i,U};var d={};p.makeRe=function(e,t){return new f(e,t||{}).makeRe()},f.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===s?r:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,r){var n=new f(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},f.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/")),e=e.split(u),this.debug(this.pattern,"split",e);var s,i,a=this.set;for(this.debug(this.pattern,"set",a),i=e.length-1;i>=0&&!(s=e[i]);i--);for(i=0;i<a.length;i++){var o=a[i],c=e;if(r.matchBase&&1===o.length&&(c=[s]),this.matchOne(c,o,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},f.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,a=0,o=e.length,c=t.length;i<o&&a<c;i++,a++){this.debug("matchOne loop");var l,u=t[a],h=e[i];if(this.debug(t,u,h),!1===u)return!1;if(u===s){this.debug("GLOBSTAR",[t,u,h]);var p=i,f=a+1;if(f===c){for(this.debug("** at the end");i<o;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;p<o;){var g=e[p];if(this.debug("\nglobstar while",e,p,t,f,g),this.matchOne(e.slice(p),t.slice(f),r))return this.debug("globstar found match!",p,o,g),!0;if("."===g||".."===g||!n.dot&&"."===g.charAt(0)){this.debug("dot detected!",e,p,t,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",e,p,t,f),p!==o))}if("string"==typeof u?(l=n.nocase?h.toLowerCase()===u.toLowerCase():h===u,this.debug("string match",u,h,l)):(l=h.match(u),this.debug("pattern match",u,h,l)),!l)return!1}if(i===o&&a===c)return!0;if(i===o)return r;if(a===c)return i===o-1&&""===e[i];throw new Error("wtf?")}}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(()=>{"use strict";function e(e){return Array.isArray(e)}function t(e){return e instanceof Number||"number"==typeof e}function n(e){return t(e)||!0!==e&&!1!==e&&null!==e&&""!==e&&!isNaN(1*e)}function s(e){return e instanceof String||"string"==typeof e&&null!==e}function i(e){return!Array.isArray(e)&&"object"==typeof e&&e}function a(e,t,r=!1){if(""==t)return e;var n=r?e.lastIndexOf(t):e.indexOf(t);return-1===n?e:e.substr(0,n)}function o(e,t){return a(e,t,!0)}function c(e,t,r=!1){if(""==t)return e;var n=r?e.lastIndexOf(t):e.indexOf(t);return-1===n?"":e.substr(n+t.length)}function l(e,t){return c(e,t,!0)}function u(e){return arguments.length&&(void 0===e||void 0===e)}function h(e){return"function"==typeof e}function p(e){return Array.isArray(e)||"object"==typeof e&&e||h(e)}function f(e){return function(e){return null===e||""===e}(e)||u(e)||!1===e||0===e||p(e)&&!Object.keys(e).length}function g(t,r=!0){return e(t)?t:!r&&i(t)?[t]:!1!==t&&0!==t&&f(t)?[]:function(e){return!s(e)&&!u(e.length)}(t)?Array.prototype.slice.call(t):i(t)?Object.values(t):[t]}function d(e,t,r,i=!1){if(s(t)&&t.endsWith("]")){var a=o(l(t,"["),"]")||0;return n(a)&&(a=parseInt(a)),n(t=o(t,"[")||0)&&(t=parseInt(t)),d(e,t,((e,t)=>{if(!e[t]){if(!i)return r();e[t]=n(a)?[]:{}}return r(e[t],a)}),i)}return r(e,t)}function y(t,r,s,i=!0){d(t,r,((t,r)=>{n(r)?(r=r||e(t)?t.length:Object.keys(t).filter(n).length,g(s,!1).forEach(((e,n)=>{t[r+n]=e}))):t[r]=i&&r in t?g(t[r],!1).concat(s):s}),!0)}function m(e,t={},r="&"){return((e=e||"").startsWith("?")?e.substr(1):e).split(r).filter((e=>e)).map((e=>e.split("=").map((e=>e.trim())))).forEach((e=>y(t,e[0],decodeURIComponent(e[1])))),t}function b(t,r,n,s=null){!i(r)&&!e(r)||s&&!s(r,t)?n(t,r||0===r?r:""):(e(r),Object.keys(r).forEach((e=>{b(`${t}[${e}]`,r[e],n,s)})))}const v={join(){for(var e=[],t=0,r=0,n=arguments.length;r<n;r++)e=e.concat(arguments[r].split("/"));var s=[];for(r=0,n=e.length;r<n;r++){var i=e[r];i&&"."!==i&&(".."===i?s.length?s.pop():t++:s.push(i))}return""===e[0]&&s.unshift(""),"../".repeat(t)+s.join("/")||(s.length?"/":".")},dirname(e){return this.join(e,"..")}};function w(e){return h(e)||e&&"[object function]"==={}.toString.call(e)}class _ extends class{constructor(t,r,n){this.path=e(t)?t:(t+"").split("/").filter((e=>e)),this.layout=r,this.context=n}async route(t,r,n,i){const a=this,o=async function(t){const r={...a.context};if(!t.trail||t.trail.length<t.destination.length){if(t=await a.readTick(t),r.pathname=`/${t.trail.join("/")}`,r.stepname=t.trail[t.trail.length-1],a.finalizeHandlerContext(r,t),t.exports){const n=g(t.method),i=w(t.exports)&&n.includes("default")?t.exports:n.reduce(((e,r)=>e||t.exports[r.toLowerCase()]),null);if(i){const n=async(...r)=>{const n={...t,arg:r[0]};if(r.length>1){var i,c=r[1],l={...r[2]||{}};if(r[1]instanceof n.event.Request)c=(i=r[1]).url;else if(!s(c))throw new Error("Router redirect url must be a string!");var u=c.startsWith("/")?c:a.pathJoin(`/${t.trail.join("/")}`,c);if(u.startsWith("../"))throw new Error("Router redirect cannot traverse beyond the routing directory! ("+c+" >> "+u+")");l.method&&(n.method=l.method,e(l.method)&&(l.method=l.method[0])),n.event=i?t.event.retarget(i,{...l,_proxy:{url:u}}):t.event.retarget(u,l),n.source=t.destination.join("/"),n.destination=u.split("?").shift().split("/").map((e=>e.trim())).filter((e=>e)),n.trail=r[1].startsWith("/")?[]:t.trail.reduce(((e,t,r)=>e.length===r&&t===n.destination[r]?e.concat(t):e),[]),n.trailOnFile=t.trailOnFile.slice(0,n.trail.length)}return o(n)},c=t.destination.slice(t.trail.length);return n.pathname=c.join("/"),n.stepname=c[0],await i.call(r,t.event,t.arg,n)}return o(t)}if((t.currentSegmentOnFile||{}).dirExists)return o(t)}if(i)return await i.call(r,t.event,t.arg)};return o({destination:this.path,event:r,method:t,arg:n})}}{async readTick(e){var t=this.layout,r=Object.keys(this.layout);return e.trail?(e.currentSegment=e.destination[e.trail.length],e.currentSegmentOnFile=[e.currentSegment,"-"].reduce(((n,s)=>{if(n.index)return n;var i=`/${e.trailOnFile.concat(s).join("/")}`;return t[i]?{seg:s,index:i}:r.filter((e=>e.startsWith(`${i}/`))).length?{seg:s,dirExists:!0}:n}),{seg:null}),e.trail.push(e.currentSegment),e.trailOnFile.push(e.currentSegmentOnFile.seg),e.exports=t[e.currentSegmentOnFile.index]):(e.trail=[],e.trailOnFile=[],e.currentSegmentOnFile={index:"/"},e.exports=t["/"]),e}finalizeHandlerContext(e,t){return e.dirname=t.currentSegmentOnFile.index}pathJoin(...e){return v.join(...e)}}var j=r(215),O=r(688);function x(e){return typeof e}function E(e,...t){globalThis.WebQitInternalsRegistry||(globalThis.WebQitInternalsRegistry=new Map);var r,n,s=globalThis.WebQitInternalsRegistry.get(e);if(!s){if(s=new Map,!1===t[0])return s;globalThis.WebQitInternalsRegistry.set(e,s)}for(;r=t.shift();)if((n=s)&&!(s=s.get(r))){if(s=new Map,!1===t[0])return s;n.set(r,s)}return s}function R(e,t,r=null){return r||!1!==r&&e.dotSafe&&t.dotSafe?e.join(".")===t.join("."):e.length===t.length&&e.reduce(((e,r,n)=>e&&r===t[n]),!0)}function D(t,r,n=null){return e(r)?t.filter((e=>n?r.filter((t=>n(e,t))).length:-1!==r.indexOf(e))):[]}function C(e){return(S(e)?e:g(e).length?[e]:[]).reduce(((e,t)=>e.concat([g(t)])),[]).map((e=>P.resolve(e)))}new Map;class P extends Array{static resolve(e){return e.every((e=>!(e+"").includes(".")))?(new P).concat(e):e}get dotSafe(){return!0}}function S(t){return g(t).reduce(((t,r)=>t||e(r)),!1)}function k(e){return e.filter((e=>e||0===e)).length!==e.length}class A{constructor(e){this.target=e,this.fireables=[],this.currentlyFiring=[]}add(e){return this.fireables.push(e),e}remove(e){this.fireables=this.fireables.filter((t=>t!==e))}removeMatches(e){this.match(e).forEach((e=>{this.fireables=this.fireables.filter((t=>t!==e))}))}match(e){return this.fireables.filter((t=>{var r=C(t.filter),n=g((t.params||{}).tags),s=C(e.filter),i=g((e.params||{}).tags);return(!e.originalHandler||t.handler===e.originalHandler)&&(!s.length||R(s,r))&&(!i.length||i.length===n.length&&D(n,i).length===i.length)}))}static _getFirebase(e,t,r=!0,n=this.__namespace){if(!p(t))throw new Error('Subject must be of type object; "'+x(t)+'" given!');var s=this;return n&&globalThis.WebQitObserverNamespaceRegistry.has(e+"-"+n)&&(s=globalThis.WebQitObserverNamespaceRegistry.get(e+"-"+n),e+="-"+n),!E(t,"firebases").has(e)&&r&&E(t,"firebases").set(e,new s(t)),E(t,"firebases").get(e)}static _namespace(e,t,r=null){if(e+="-"+t,2===arguments.length)return globalThis.WebQitObserverNamespaceRegistry.get(e);if(!(r.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${t} must be a subclass of ${this.name}.`);globalThis.WebQitObserverNamespaceRegistry.set(e,r),r.__namespace=t}}globalThis.WebQitObserverNamespaceRegistry||(globalThis.WebQitObserverNamespaceRegistry=new Map);class q{constructor(e,t){this.target=e,this.handler=t.handler,this.filter=t.filter,this.params=t.params}disconnect(){this.disconnected=!0}}class F extends q{fire(e,t,r){return this.disconnected||this.filter&&!D(g(this.filter),[e.type]).length?t(...Array.prototype.slice.call(arguments,2)):this.handler(e,r,t)}}function T(e,t){var r=void 0;return p(e)&&Object.keys(e).forEach(((s,i)=>{!1!==r&&(r=t(n(s)?parseFloat(s):s,e[s],i))})),r}class L{constructor(e,t){if(this.target=e,!t.type)throw new Error("Action type must be given in definition!");T(t,((e,t)=>{Object.defineProperty(this,e,{value:t,enumerable:!0})})),Object.seal(this)}}class $ extends A{add(e){return super.add(new F(this.target,e))}fire(e,t=null){if(e instanceof L||(e=new L(this.target,e)),this.currentlyFiring.filter((t=>t.type===e.type&&t.name===e.name)).length)return t?t():void 0;this.currentlyFiring.push(e);const r=(n,...s)=>{var i=this.fireables[n];return i?i.fire(e,((...e)=>r(n+1,...e)),...s):t?t(...s):s[0]};var n=r(0);return this.currentlyFiring.pop(),n}static getFirebase(e,t=!0,r=null){return super._getFirebase("interceptor",...arguments)}static namespace(e,t=null){return super._namespace("interceptor",...arguments)}}function W(e){return E(e,!1).get(e)||e}function B(e,t,r={},n={}){if(!t||!p(t))throw new Error("Target must be of type object!");t=W(t);var s,i=function(n){return arguments.length?n:Reflect[e](t,...Object.values(r))};return(s=$.getFirebase(t,!1,n.namespace))?s.fire({type:e,...r},i):i()}function U(e,t,r,n={}){return B("apply",e,{thisArgument:t,argumentsList:r},n)}function I(e,t,r=null,n={}){return B("construct",e,arguments.length>2?{argumentsList:t,newTarget:r}:{argumentsList:t},n)}function M(e,t=1){var r=0;e.forEach((e=>{r++}));var n=e.slice(e.length-r,t);return arguments.length>1?n:n[0]}function N(e,t){return e.reduce(((e,r,n)=>e||t(r,n)),!1)}function z(e,t,r=null){return r||!1!==r&&e.dotSafe&&t.dotSafe?(e.join(".")+".").startsWith(t.join(".")+"."):t.reduce(((t,r,n)=>t&&r===e[n]),!0)}function H(e,t,r=null,n=!1){var s=function(e,t,r=null,n=!1){return t.length>e.length?-1:("number"==typeof r?n?e.slice(0,r+1+(r<0?e.length:0)):e.slice(r):e).reduce(((e,r,s)=>{var[i,a,o]=e;if(!n&&i>-1)return[i,a,o];var c=o+1,l=r===t[c]?0===c?[s,0]:[a,c]:[-1,-1];return l[1]===t.length-1&&(l[1]=-1,l[0]>-1)?[l[0]].concat(l):[i].concat(l)}),[-1,-1,-1])[0]+(n||"number"!=typeof r?0:r>-1?r:e.length-r)}(e,t,r,n);return-1===s?[]:e.slice(s+t.length)}class V{constructor(e,t=!1){this._={},this._.target=e,this._.cancellable=t,this._.propagationStopped=!1,this._.defaultPrevented=!1,this._.promisesInstance=null,this._.promises=[]}get target(){return this._.target}get cancellable(){return this._.cancellable}stopPropagation(){this._.propagationStopped=!0}get propagationStopped(){return this._.propagationStopped}preventDefault(){this._.defaultPrevented=!0}get defaultPrevented(){return this._.defaultPrevented}waitUntil(e){e instanceof Promise&&(this._.promises.push(e),this._.promisesInstance=null)}get promises(){return!this._.promisesInstance&&this._.promises.length&&(this._.promisesInstance=Promise.all(this._.promises)),this._.promisesInstance}respondWith(e){var t,r=i(e)&&!u(e.propagationStopped)&&!u(e.defaultPrevented);!1===e||r&&e.propagationStopped?this.stopPropagation():!1===e||r&&e.defaultPrevented?this.preventDefault():(e instanceof Promise&&(t=e)||r&&(t=e.promises))&&this.waitUntil(t)}}class Q extends q{constructor(e,t){if(super(e,t),this.filters2D=C(this.filter),this.filtersIsOriginally2D=S(this.filter),this.filtersIsDynamic=this.filters2D.filter((e=>k(g(e)))).length>0,this.filtersIsDynamic&&this.filters2D.length>1)throw new Error('Only one "Dynamic Filter" must be observed at a time! "'+this.filters2D.map((e=>"["+e.join(", ")+"]")).join(", ")+'" have been bound together.')}fire(e){if(this.disconnected||this.params.type&&!N(e,(e=>this.params.type===e.type)))return;const t=e=>!["set","def"].includes(e.type)||!this.params.diff||(w(this.params.diff)?this.params.diff(e.value,e.oldValue):e.value!==e.oldValue);var r=new V(this.target);if(this.filters2D.length){var s=e.filter((e=>this.filters2D.filter(((r,s)=>{var i=r.slice();return this.filtersIsDynamic&&e.path.forEach(((e,t)=>{i[t]=i[t]||0===i[t]?i[t]:e})),(!this.filtersIsDynamic||!k(i))&&t(e)&&(!this.params.subtree&&R(i,e.path)||this.params.suptree&&z(i,e.path)&&(!n(this.params.suptree)||H(i,e.path).length<=this.params.suptree)||this.params.subtree&&e.path.length>=i.length&&z(e.path,i)&&(!n(this.params.subtree)||H(e.path,i).length<=this.params.subtree))})).length));if(s.length)if(this.filtersIsOriginally2D||this.params.subtree){var a=s;i(this.filter)&&(a={...this.filter},s.forEach(((e,t)=>{a[e.name]=e}))),r.respondWith(this.handler(a,r))}else s.forEach(((e,t)=>{r.respondWith(this.handler(e,r))}))}else(this.params.subtree||e.filter((e=>R(e.path,[e.name]))).length===e.length)&&e.filter((e=>t(e))).length&&r.respondWith(this.handler(e,r));return r}}class G{constructor(e,t){if(this.target=e,t.originalSubject||(this.originalSubject=e),!("type"in t))throw new Error("Mutation type must be given in definition!");if(!("name"in t))throw new Error("Property name must be given in definition!");T(t,((e,t)=>{"path"===e&&(t=P.resolve(t)),Object.defineProperty(this,e,{value:t,enumerable:!0})})),this.path||Object.defineProperty(this,"path",{value:P.resolve([t.name]),enumerable:!0}),Object.seal(this)}}class J extends A{constructor(e){super(e),this.buffers=[]}add(e){return super.add(new Q(this.target,e))}fire(e,t){var r=new V(this.target,t);return e=g(e,!1).map((e=>e instanceof G?e:new G(this.target,e))),this.buffers.length?(function(e,t=1){return arguments.length>1?M(e.slice().reverse(),t).reverse():M(e.slice().reverse())}(this.buffers)(e),r):(this.currentlyFiring.filter((t=>e.filter((e=>t.type===e.type&&t.name===e.name)).length)).length,this.fireables.forEach((n=>{if(r.propagationStopped&&t)return r;r.respondWith(n.fire(e))})),r)}static getFirebase(e,t=!0,r=null){return super._getFirebase("observer",...arguments)}static namespace(e,t=null){return super._namespace("observer",...arguments)}}function K(t,r,n=null,s={}){if(!(t=n||t)||!p(t))throw new Error("Target must be of type object!");t=W(t);var i=g(r),a=i.map((e=>{var r,a=function(r){return arguments.length?r:E(t,"accessorizedProps").has(e)&&E(t,"accessorizedProps").get(e).touch(!0)?E(t,"accessorizedProps").get(e).get():n?Reflect.get(t,e,n):Reflect.get(t,e)};return(r=$.getFirebase(t,!0,s.namespace))?r.fire({type:"get",name:e,related:i,receiver:n},a):a()}));return e(r)?a:a[0]}function Z(t,r,s=!1,a=!1,o=!1){var c=0,l=t.shift();if((n(l)||!0===l||!1===l)&&(c=l,l=t.shift()),!t.length)throw new Error("_merge() requires two or more array/objects.");return t.forEach(((t,u)=>{var h,f,g;(p(t)||w(t))&&(s?(h=t,g=[],function(t,r){r=(r=r||Object.prototype)&&!e(r)?[r]:r;var n=[];for(t=t;t&&(!r||r.indexOf(t)<0)&&"default"!==t.name;)n.push(t),t=t?Object.getPrototypeOf(t):null;return n}(h,f).forEach((e=>{!function(e,...t){t.forEach((t=>{e.indexOf(t)<0&&e.push(t)}))}(g,...Object.getOwnPropertyNames(e))})),g):Object.getOwnPropertyNames(t)).forEach((h=>{if(r(h,l,t,u)){var p=l[h],f=t[h];if((e(p)&&e(f)||i(p)&&i(f))&&(!0===c||c>0))l[h]=e(p)&&e(f)?[]:{},Z([n(c)?c-1:c,l[h],p,f],r,s,a,o);else if(e(l)&&e(t))a?l[h]=f:l.push(f);else try{o?Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(t,h)):l[h]=t[h]}catch(e){}}}))})),l}function X(...e){return Z(e,((e,t,r)=>!0),!1,!1,!1)}function Y(e,t,r=null,n={}){if(!(e=W(e))||!p(e))throw new Error('Observable subjects must be of type object; "'+x(e)+'" given!');if(w(t)&&(n=arguments.length>2?r:{},r=t,t=null),!w(r))throw new Error('Handler must be a function; "'+x(r)+'" given!');var s,i=J.getFirebase(e,!0,n.namespace),a={filter:t,handler:r,params:n};if((a.filter||"*"===a.params.subtree||a.params.subtree&&ne(e))&&re(e,a.filter,a.params.subtree,n.namespace),a.params.unique&&(s=i.match({filter:t,params:n})).length){if("replace"!==a.params.unique)return s[0];i.remove(s[0])}return i.add(a)}function ee(e,t,r,n=null,s={}){var a;if(e!==r&&(Y(r,((r,n)=>{if(a=J.getFirebase(e,!1,s.namespace)){var i=r.map((r=>{var n=r;do{if(n.target===e)return}while(n=n.src);var s={};return T(r,((e,t)=>{"target"!==e&&"name"!==e&&"path"!==e&&"src"!==e&&(s[e]=t)})),s.name=t,s.path=[t].concat(r.path),s.originalSubject=r.originalSubject,s.src=r,new G(e,s)})).filter((e=>e));if(i.length)return a.fire(i,n.cancellable)}}),{subtree:!0,...s,unique:!0,tags:[te,t,e]}),i(n)&&(a=J.getFirebase(e,!1,s.namespace)))){var o=X({name:t,type:"set",value:r,related:[t]},n);let e=a.fire(o,s.cancellable);if(s.eventTypeReturn)return e}}const te={};function re(e,t=null,r=!1,n=null){if(!e||!p(e))throw new Error("Target must be of type object!");var s=J.getFirebase(e,!0,n);if(s&&!s.build){s.build=r;var i=C(t),a=!i.length||i.filter((e=>!e[0]&&0!==e[0])).length?Object.keys(e):i.map((e=>e[0])),o=i.length?i.map((e=>e.slice(1))).filter((e=>e.length)):null;s.subBuild=o&&o.length?o:null,a.forEach((t=>{var i=K(e,t,null,{namespace:n});try{p(i)&&(ee(e,t,i,null,params),(s.subBuild&&ne(i)||(_isFunction(r)?r(i):r&&ne(i)))&&re(i,s.subBuild,r,n))}catch(e){}}))}}const ne=e=>(e instanceof Object||e instanceof Array||e instanceof Function)&&("undefined"==typeof window||e!==window);function se(e,t,r=null,n={}){if(!(e=W(e))||!p(e))throw new Error('Observable subjects must be of type object; "'+x(e)+'" given!');if(w(t)&&(n=arguments.length>2?r:{},r=t,t=null),r&&!w(r))throw new Error('Handler must be a function; "'+x(r)+'" given!');var s;if(s=J.getFirebase(e,!1,n.namespace))return s.removeMatches({filter:t,originalHandler:r,params:n})}function ie(e,t,r,n=null,s={}){var a;if(se(r,null,null,{...s,tags:[te,t,e]}),i(n)&&(a=J.getFirebase(e,!1,s.namespace))){var o=X({name:t,type:"del",oldValue:r,related:[t]},n);a.fire(o,s.cancellable)}}function ae(e,t,r={}){return B("has",e,{name:t},r)}function oe(r,n,a,o={}){n=a.receiver||n;var c=a.keysOrPayload,l=a.value;if(!n||!p(n))throw new Error("Target must be of type object!");i(c)&&(o=l||{},l=null),n=W(n);var u=$.getFirebase(n,!1,o.namespace),h=J.getFirebase(n,!1,o.namespace);const f=(e,t,s,i)=>{var c,l="set";r&&(l="defineProperty",t=(c=t||{}).value);var f,g=!1;ae(n,e,o)&&(g=!0,f=K(n,e,a.receiver,o));var d={name:e,type:l,value:t,receiver:a.receiver,related:s,detail:i,isUpdate:g,oldValue:f},y=function(r){if(arguments.length&&(c?c=r:t=r),c){if(E(n,"accessorizedProps",!1).has(e)&&!E(n,"accessorizedProps").get(e).restore())return!1;Object.defineProperty(n,e,c)}else if(E(n,"accessorizedProps",!1).has(e))return E(n,"accessorizedProps").get(e).set(t);return n[e]=t,!0};if(u){var m=c?{type:"defineProperty",name:e,descriptor:c,receiver:a.receiver,related:s,detail:i,isUpdate:g,oldValue:f}:{type:"set",name:e,value:t,receiver:a.receiver,related:s,detail:i,isUpdate:g,oldValue:f};d.success=u.fire(m,y)}else d.success=y();return d.success&&d.value!==d.oldValue&&(p(d.oldValue)&&ie(n,e,d.oldValue,null,o),p(d.value)&&(ee(n,e,d.value,null,o),h&&(h.subBuild||h.build&&ne(d.value))&&re(d.value,h.subBuild,h.build,o.namespace))),d};var d,y=[];e(c)||(s(c)||t(c))&&(d=g(c))?y=d.map((e=>f(e,l,d,o.detail))):i(c)&&(d=Object.keys(c))&&(y=d.map((e=>f(e,c[e],d,o.detail))));var m,b=y.filter((e=>!1!==e.success));return h?(m=h.fire(b,o.cancellable)).successCount=b.length:o.eventTypeReturn&&(m=new V(n)),o.eventTypeReturn?m:b.length>0}function ce(e,t,r=null,n={}){return oe(!0,e,{keysOrPayload:t,value:r},n)}function le(e,t,r={}){if(!e||!p(e))throw new Error("Target must be of type object!");e=W(e);var n,s,i=g(t),a=i.map((t=>{var n;ae(e,t,r)&&(n=K(e,t,null,r));var s,a={name:t,type:"deleteProperty",related:i,detail:r.detail,oldValue:n},o=function(r){return arguments.length?r:!(E(e,"accessorizedProps",!1).has(t)&&!E(e,"accessorizedProps").get(t).restore()||(delete e[t],0))};return(s=$.getFirebase(e,!1,r.namespace))?a.success=s.fire({type:"deleteProperty",name:t,oldValue:n,related:i},o):a.success=o(),a.success&&p(a.oldValue)&&ie(e,t,a.oldValue,null,r),a})).filter((e=>!1!==e.success));return(n=J.getFirebase(e,!1,r.namespace))?(s=n.fire(a,r.cancellable)).successCount=a.length:r.eventTypeReturn&&(s=new V(e)),r.eventTypeReturn?s:a.length>0}function ue(e,t,r={}){return B("getOwnPropertyDescriptor",e,{name:t},r)}function he(e,t={}){return B("getPrototypeOf",e,{},t)}function pe(e,t={}){return B("isExtensible",e,{},t)}function fe(e,t={}){return B("ownKeys",e,{},t)}function ge(e,t={}){return B("preventExtensions",e,{},t)}function de(e,t,r=null,n=null,s={}){return oe(!1,e,arguments.length>3?{keysOrPayload:t,value:r,receiver:n}:{keysOrPayload:t,value:r},s)}function ye(e,t,r={}){return B("setPrototypeOf",e,{prototype:t},r)}const me=function(t,r=[],n={}){n=i(r)?r:n;var s=(1===arguments.length?Object.keys(t):g(r)).map((e=>{if(E(t,"accessorizedProps").has(e)&&E(t,"accessorizedProps").get(e).touch(!0))return!1;const r=()=>{for(var r,n=t;!r&&(n=Object.getPrototypeOf(n));)r=Object.getOwnPropertyDescriptor(n,e);return r};var s,i,a=Object.getOwnPropertyDescriptor(t,e);a||(s={writable:!0,enumerable:!(e in t),configurable:!1!==n.configurable});var o={...a||s};"value"in o&&delete o.value,"writable"in o&&delete o.writable,o.get=()=>{if(c.ongoingGets.length)return c.get();c.ongoingGets.push(1);var r=K(t,e,null,n);return c.ongoingGets.pop(),r},o.set=r=>{if(c.ongoingSets.length)return c.set(r);c.ongoingSets.push(1);var s=de(t,e,r,null,n);return c.ongoingSets.pop(),s};var c={ongoingGets:[],ongoingSets:[],get:function(){var e=a;return e||(e=i?s:r()||s),e.get?e.get.call(t):e.value},set:function(e){var n=a;return n||(i?n=s:(n=r())?"value"in n&&(n=s,i=!0):(n=s,i=!0)),n.set||n.get?!!n.set&&n.set.call(t,e):(n.value=e,!0)},restore:function(){try{return this.intact()&&(a||i?Object.defineProperty(t,e,a||s):delete t[e],E(t,"accessorizedProps").delete(e)),!0}catch(e){}return!1},intact:function(){return(Object.getOwnPropertyDescriptor(t,e)||{}).get===o.get},touch:function(e=!1){return this.intact()||!!e&&!this.restore()}};try{return Object.defineProperty(t,e,o),E(t,"accessorizedProps").set(e,c),!0}catch(e){}return!1}));return e(r)?s:s[0]},be=function(e,t={}){if(!p(e))throw new Error('Object must be of type target; "'+x(e)+'" given!');var r=new Proxy(e,{apply:(e,r,n)=>U(e,r,n,t),construct:(e,r,n=null)=>I(e,r,n,t),defineProperty:(e,r,n)=>ce(e,r,n,t),deleteProperty:(e,r)=>le(e,r,t),get:(e,n,s=null)=>{var i=K(e,n,s,t);return!1!==t.proxyAutoBinding&&w(i)&&!function(e){return h(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}(i)?i.bind(r):i},getOwnPropertyDescriptor:(e,r)=>ue(e,r,t),getPrototypeOf:e=>he(e,t),has:(e,r)=>ae(e,r,t),isExtensible:e=>pe(e,t),ownKeys:e=>fe(e,t),preventExtensions:e=>ge(e,t),set:(e,r,n,s=null)=>de(e,r,n,s,t),setPrototypeOf:(e,r)=>ye(e,r,t)});return E(r).set(r,e),r};var ve=(t,r)=>i(t)&&i(r)?ve(Object.keys(t),Object.keys(r))&&ve(Object.values(t),Object.values(r)):e(t)&&e(r)?t.length===r.length&&t.reduce(((e,t,n)=>e&&t===r[n]),!0):t===r;const we=e=>{const t=class extends e{constructor(...e){super(...e);var t=m(this.search);const r=e=>{var t=function(e,t="&",r=null){var n=[];return Object.keys(e).forEach((t=>{b(t,e[t],((e,t)=>{n.push(`${e}=${encodeURIComponent(t)}`)}),r)})),n.join(t)}(e);(t=t?"?"+t:"")!==this.search&&(this.search=t)};this.__query={value:t,proxy:new Proxy(t,{set:(e,t,n)=>(e[t]=n,r(e),!0),deleteProperty:(e,t)=>(delete e[t],r(e),!0)})}}set search(e){super.search=e;var t=m(e);ve(t,this.query)||(this.query=t)}get search(){return super.search}get query(){return this.__query.proxy}};return t.Observable=class extends t{constructor(){super(...arguments),me(this,["protocol","username","password","host","hostname","port","origin","pathname","search","query","hash","href"])}},t},_e=(e,t=null)=>{if(!p(e))return;const r=e[Symbol.toStringTag];return(t||["Uint8Array","Uint16Array","Uint32Array","ArrayBuffer","Blob","File","FormData","Stream"]).reduce(((e,t)=>e||(r===t?t:null)),null)},je=(e,t,r)=>{const n=class extends e{constructor(e,r={}){var n={},s={};("headers"in r&&!(r instanceof t)||"_proxy"in r||"meta"in r)&&(!("headers"in(r={...r}))||r instanceof t||(r.headers=new t(r.headers)),"_proxy"in r&&(n=r._proxy,delete r._proxy),"meta"in r&&(s=r.meta,delete r.meta),arguments[1]=r),super(...arguments),this._proxy=n,this._meta=s}clone(){const e=new this.constructor(super.clone());return e._proxy=this._proxy,e._headers=this._headers,e._typedDataCache=this._typedDataCache,e._meta=this._meta,e}get url(){return"url"in this._proxy?this._proxy.url:super.url}get headers(){return this._headers||(this._headers=new t(super.headers)),this._headers}get original(){return this._typedDataCache.original}get originalType(){return this._typedDataCache.originalType}get meta(){return this._meta||{}}async arrayBuffer(){return this._typedDataCache.arrayBuffer?this._typedDataCache.arrayBuffer:super.arrayBuffer()}async blob(){return this._typedDataCache.blob?this._typedDataCache.blob:super.blob()}async formData(){if(this._typedDataCache.formData)return this._typedDataCache.formData;const e=await super.formData();return e.tee=r.prototype.tee.bind(e),e.json=r.prototype.json.bind(e),e}async json(){return this._typedDataCache.json?this._typedDataCache.json:super.json()}async text(){return this._typedDataCache.text?this._typedDataCache.text:super.text()}jsonBuild(e=!1){return this._typedDataCache.jsonBuild&&!e||(this._typedDataCache.jsonBuild=new Promise((async e=>{var t=this,r=t.headers.get("content-type")||"",n="application/json"===r||this._typedDataCache.json?"json":"application/x-www-form-urlencoded"===r||r.startsWith("multipart/")||this._typedDataCache.formData||!r&&!["get"].includes((t.method||"").toLowerCase())?"formData":"text/plain"===r?"plain":"other";e("formData"===n?(await t.formData()).json():"json"===n?await t.json():"plain"===n?await t.text():t.body)}))),this._typedDataCache.jsonBuild}};return n.Headers=t,n};function Oe(r,n){const a={body:r,original:r};if(s(r)||t(r))return a.originalType="text",a.text=r,a.headers={contentLength:(r+"").length},a;if(a.originalType=_e(r),["Blob","File"].includes(a.originalType))a.blob=r,a.headers={contentType:r.type,contentLength:r.size};else if(["Uint8Array","Uint16Array","Uint32Array","ArrayBuffer"].includes(a.originalType))a.arrayBuffer=r,a.headers={contentLength:r.byteLength};else if("FormData"===a.originalType)a.formData=r,xe(a,r,n);else if(i(r)&&i(l=r)&&Object.getPrototypeOf(l)===Object.prototype||e(r)&&function(t){return e(t)&&Object.getPrototypeOf(t)===Array.prototype}(r)){var o,c=new n.FormData;c.json(r,((e,t,r)=>(o=o||r,!0))),o?(a.formData=c,xe(a,c,n)):(a.json=r,a.body=JSON.stringify(r),a.headers={contentType:"application/json",contentLength:Buffer.byteLength(a.body,"utf8")}),a.jsonBuild=r}var l;return a}const xe=(e,t,r)=>{if(!r.FormDataEncoder||!r.ReadableStream)return;const n=new r.FormDataEncoder(t);e.body=r.ReadableStream.from(n.encode()),e.headers=n.headers},Ee=e=>class extends e{constructor(t={}){t instanceof e?super(t):(super(),this.json(t))}json(e={},t=!0){if(arguments.length){const r=Re(this),n=Object.keys(r).reduce(((e,t)=>e.concat("symbol"!=typeof t&&"set"in r[t]?t:[])),[]);return void Object.keys(e).forEach((r=>{var s=n.reduce(((e,t)=>e||(t===r||t.toLocaleLowerCase()===r?t:null)),null);s?(t||void 0===this[s])&&(this[s]=e[r]):!t&&this.has(r)||this.set(r,e[r])}))}const r={};for(var[n,s]of this)r[n]=s;return r}set cacheControl(e){return this.set("Cache-Control",e)}get cacheControl(){return this.get("Cache-Control")}set contentLength(e){return this.set("Content-Length",e)}get contentLength(){return this.get("Content-Length")}set contentType(e){return this.set("Content-Type",e)}get contentType(){return this.get("Content-Type")}};function Re(e){if(e){const t=Object.getPrototypeOf(e);return t===Object.prototype?{}:{...Re(t),...Object.getOwnPropertyDescriptors(e)}}return Object.create(null)}const De=e=>class extends(Ee(e)){set accept(e){return this.set("Accept",e)}get accept(){const e=(this.get("Accept")||"").split(",").map((e=>[(e=e.trim().split(";").map((e=>e.trim()))).shift(),parseFloat((e.pop()||"1").replace("q=",""))])).sort(((e,t)=>e[1]>t[1]?-1:1));return{match:t=>(t=(t+"").split("/"),e.reduce(((e,r)=>e||(r=r[0].split("/"))&&[0,1].every((e=>t[e]===r[e]||"*"===t[e]||"*"===r[e]))),!1))}}set cookies(e){return this.set("Cookie",e),!0}get cookies(){return this._cookies||(this._cookies=m(this.get("cookie"),{},";")),this._cookies}set cors(e){return this.set("Access-Control-Allow-Origin",!0===e?"*":!1===e?"":e)}get cors(){return this.get("Access-Control-Allow-Origin")}set range(e){return this.set("Range",Array.isArray(e)?`bytes=${e.join("-")}`:e)}get range(){const e=this.get("Range");if(!e)return;const t=c(e,"bytes=").split("-");return t[0]=t[0]?parseInt(t[0],10):0,t[1]=t[1]?parseInt(t[1],10):0,t.clamp=e=>{t[1]>e-1&&(t[1]=e-1)},t}},Ce=e=>class extends(je(e.Request,De(e.Headers),e.FormData)){constructor(t,r={}){var n={};t instanceof e.Request&&((r={...r})._proxy={...t._proxy||{},...r._proxy||{}},t._typedDataCache&&(n=t._typedDataCache),r.method&&t.method!==r.method.toUpperCase()&&["GET","HEAD"].includes(r.method.toUpperCase())&&(t=t.url,["headers","mode","credentials","cache","redirect","referrer","integrity"].forEach((e=>{e in r||(r[e]=t[e])})))),"body"in r&&"body"in(r={...r})&&(n=Oe(r.body,e),r.body=n.body),f(r)?super(t):super(t,r),this._typedDataCache=n,this._typedDataCache.headers&&this.headers.json(this._typedDataCache.headers)}get destination(){return"destination"in this._proxy?this._proxy.destination:super.destination}get referrer(){return"referrer"in this._proxy?this._proxy.referrer:super.referrer}},Pe=e=>class extends(Ee(e)){set contentRange(e){if(Array.isArray(e)){if(2===e.length&&!e[0].includes("-")||e.length<2)throw new Error("A Content-Range array must be in the format: [ 'start-end', 'total' ]");return this.set("Content-Range",`bytes ${e.join("/")}`)}return this.has("Accept-Ranges")||this.set("Accept-Ranges","bytes"),this.set("Content-Range",e)}get contentRange(){const e=this.get("Content-Range");if(e)return c(e,"bytes ").split("/")}set cookies(e){if(!i(cookieJar))throw new Error(`The "cookies" response directive does not support the type: ${x(e)}`);return this.set("Set-Cookie",e),!0}get cookies(){return this.get("Set-Cookie")}set cors(e){return this.set("Access-Control-Allow-Origin",!0===e?"*":!1===e?"":e)}get cors(){return this.get("Access-Control-Allow-Origin")}set attachment(e){if(!s(e=!0===e?"attachment":!1===e?"inline":e))throw new Error(`The "download" response directive does not support the type: ${x(e)}`);return["attachment","inline"].includes(e)||(e=`attachment; filename="${e}"`),this.set("Content-Disposition",e)}get attachment(){var e=(this.get("Content-Disposition")||"").trim();return"attachment"===e||"inline"!==e&&c(o(e,'"'),'filename="')}get redirect(){return this.get("Location")}set redirect(e){return this.set("Location",e)}},Se=e=>class extends(je(e.Response,Pe(e.Headers),e.FormData)){constructor(t=null,r={}){var n={},s={},i={};arguments.length&&(t=(i=Oe(t,e)).body),("_proxy"in r||"meta"in r)&&("_proxy"in(r={...r})&&(n=r._proxy,delete r._proxy),"meta"in r&&(s=r.meta,delete r.meta)),f(r)?super(t):super(t,r),this._proxy=n,this._meta=s,this._typedDataCache=i,this._typedDataCache.headers&&this.headers.json(this._typedDataCache.headers)}get ok(){return"ok"in this._proxy?this._proxy.ok:super.ok}get redirected(){return"redirected"in this._proxy?this._proxy.redirected:super.redirected}},ke=(e=>{const t=we(e.URL),r=Ce(e),n=Se(e),s=class{constructor(s,i=null){this._request=s,this._session=i,this.URL=t,this.Request=r,this.Request.sourceEvent=this,this.Response=n,this.Response.sourceEvent=this,this.globals=e}get url(){return this._url||(this._url=new t(this._request.url)),this._url}get request(){return this._request}get session(){return this._session}retarget(e,t={}){var r;return e instanceof s.Request?r=f(t)?e:new s.Request(e,t):((t={_proxy:{},...t})._proxy.url=`${this.url.origin}${e}`,t._proxy.referrer=this.request.url,r=new s.Request(this._request,t)),new s(r,this._session)}};return s.URL=t,s.Request=r,s.Response=n,s.globals=e,s})({URL,Request,Response,Headers,FormData:(Ae=FormData,class extends Ae{tee(e=null){const t=new this.constructor,r=new this.constructor;for(var[n,s]of this.entries()){const i=i(s);e&&e(s,n,i)||!e&&!i?t.append(n,s):r.append(n,s)}return[t,r]}json(e={},t=null){if(!arguments.length){var r;for(var[s,i]of this.entries())r||(r=n(a(s,"["))?[]:{}),y(r,s,i);return r}Object.keys(e).forEach((r=>{b(r,e[r],((e,r)=>{t&&!t(e,r,p(r))||this.append(e,r)}),(e=>!_e(e)))}))}}),File,Blob,ReadableStream});var Ae;(function(e,t){e={...e},t={...t};const r=Object.create(null);Object.create(null),self.addEventListener("install",(e=>{t.skip_waiting&&self.skipWaiting(),t.cache_name&&t.static_caching_list&&e.waitUntil(self.caches.open(t.cache_name).then((e=>{t.lifecycle_logs&&console.log("[ServiceWorker] Pre-caching resources.");const r=(t.cache_only_url_list||[]).map((e=>e.trim())).filter((e=>e));return e.addAll(r.filter((e=>!j(e)&&!l(e,".").includes("/"))))})))})),self.addEventListener("activate",(e=>{e.waitUntil(new Promise((async e=>{t.skip_waiting&&await self.clients.claim(),t.cache_name&&await self.caches.keys().then((e=>Promise.all(e.map((e=>{if(e!==t.cache_name&&e!==t.cache_name+"_json")return t.lifecycle_logs&&console.log("[ServiceWorker] Removing old cache:",e),self.caches.delete(e)}))))),e()})))})),self.addEventListener("fetch",(async t=>{t.request.url.startsWith("http")&&t.respondWith((async t=>{if(t.request.url.startsWith(self.origin)&&("navigate"===t.request.mode||"@webqit/webflo"===t.request.headers.get("X-Powered-By"))){const s=be(r[t.clientId]||{}),i=new ke(new ke.Request(t.request),s),o=new _(a(t.request.url,"?"),e,{layout:e}),c=t.request.method.toLowerCase(),l=await o.route(["delete"===c?"del":c,"default"],i,null,((e,r)=>n(t)));return l instanceof Response?l:new ke.Response(l)}return n(t)})(t))}));const n=function(e){return N((t.cache_only_url_list||[]).map((e=>e.trim())).filter((e=>e)),(t=>O.Minimatch(e.request.url,t)))?i(e):"navigate"===e.request.mode&&"force-cache"===e.request.cache&&"document"===e.request.destination||N((t.cache_first_url_list||[]).map((e=>e.trim())).filter((e=>e)),(t=>O.Minimatch(e.request.url,t)))?i(e,!0):N((t.network_first_url_list||[]).map((e=>e.trim())).filter((e=>e)),(t=>O.Minimatch(e.request.url,t)))?o(e,!0):o(e)},s=e=>"application/json"===e.headers.get("Accept")?t.cache_name+"_json":t.cache_name,i=(e,t=!1)=>self.caches.open(s(e.request)).then((r=>r.match(e.request).then((r=>r?(t&&self.fetch(e.request).then((t=>c(e.request,t))),r):self.fetch(e.request).then((t=>c(e.request,t))))))),o=(e,t)=>t?self.fetch(e.request).then((t=>c(e.request,t))).catch((t=>self.caches.open(s(e.request)).then((t=>t.match(e.request))))):self.fetch(e.request),c=(e,r)=>{if("GET"!==(e._method||e.method)||!r||200!==r.status||"basic"!==r.type&&"cors"!==r.type)return r;var n=r.clone();return self.caches.open(s(e)).then((r=>{t.lifecycle_logs&&console.log("[ServiceWorker] Refreshing cache:",e.url),r.put(e,n)})),r};self.addEventListener("message",(t=>{const r=new _("/",e,{layout:e});t.waitUntil(r.route("postmessage",t,null,(function(){return self})))})),self.addEventListener("push",(t=>{const r=new _("/",e,{layout:e});t.waitUntil(r.route("push",t,null,(function(){return self})))})),self.addEventListener("notificationclick",(t=>{const r=new _("/",e,{layout:e});t.waitUntil(r.route("notificationclick",t,null,(function(){return self})))})),self.addEventListener("notificationclose",(t=>{const r=new _("/",e,{layout:e});t.waitUntil(r.route("notificationclose",t,null,(function(){return self})))}))}).call(null,{},{scope:"/",cache_name:"cache_v2",cache_only_url_list:[""],cache_first_url_list:[""],network_first_url_list:["/*"],network_only_url_list:[""],skip_waiting:!1,lifecycle_logs:!1,support_push:!1})})()})();