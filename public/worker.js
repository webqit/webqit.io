/** @webqit/webflo */(async () => {
var _r=Object.defineProperty;var yr=(e,t)=>()=>(e&&(t=e(e=0)),t);var xr=(e,t)=>{for(var r in t)_r(e,r,{get:t[r],enumerable:!0})};var qt={};xr(qt,{URLPattern:()=>Wt});function Rr(e,t){return(t?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(e)}function At(e,t=!1){let r=[],i=0;for(;i<e.length;){let n=e[i],s=function(o){if(!t)throw new TypeError(o);r.push({type:"INVALID_CHAR",index:i,value:e[i++]})};if(n==="*"){r.push({type:"ASTERISK",index:i,value:e[i++]});continue}if(n==="+"||n==="?"){r.push({type:"MODIFIER",index:i,value:e[i++]});continue}if(n==="\\"){r.push({type:"ESCAPED_CHAR",index:i++,value:e[i++]});continue}if(n==="{"){r.push({type:"OPEN",index:i,value:e[i++]});continue}if(n==="}"){r.push({type:"CLOSE",index:i,value:e[i++]});continue}if(n===":"){let o="",a=i+1;for(;a<e.length;){let f=e.substr(a,1);if(a===i+1&&Cr.test(f)||a!==i+1&&Ar.test(f)){o+=e[a++];continue}break}if(!o){s(`Missing parameter name at ${i}`);continue}r.push({type:"NAME",index:i,value:o}),i=a;continue}if(n==="("){let o=1,a="",f=i+1,u=!1;if(e[f]==="?"){s(`Pattern cannot start with "?" at ${f}`);continue}for(;f<e.length;){if(!Rr(e[f],!1)){s(`Invalid character '${e[f]}' at ${f}.`),u=!0;break}if(e[f]==="\\"){a+=e[f++]+e[f++];continue}if(e[f]===")"){if(o--,o===0){f++;break}}else if(e[f]==="("&&(o++,e[f+1]!=="?")){s(`Capturing groups are not allowed at ${f}`),u=!0;break}a+=e[f++]}if(u)continue;if(o){s(`Unbalanced pattern at ${i}`);continue}if(!a){s(`Missing pattern at ${i}`);continue}r.push({type:"PATTERN",index:i,value:a}),i=f;continue}r.push({type:"CHAR",index:i,value:e[i++]})}return r.push({type:"END",index:i,value:""}),r}function Rt(e,t={}){let r=At(e),{prefixes:i="./"}=t,n=`[^${le(t.delimiter||"/#?")}]+?`,s=[],o=0,a=0,f="",u=new Set,c=E=>{if(a<r.length&&r[a].type===E)return r[a++].value},l=()=>{let E=c("MODIFIER");return E||c("ASTERISK")},p=E=>{let j=c(E);if(j!==void 0)return j;let{type:A,index:M}=r[a];throw new TypeError(`Unexpected ${A} at ${M}, expected ${E}`)},m=()=>{let E="",j;for(;j=c("CHAR")||c("ESCAPED_CHAR");)E+=j;return E},F=E=>E,$=t.encodePart||F;for(;a<r.length;){let E=c("CHAR"),j=c("NAME"),A=c("PATTERN");if(!j&&!A&&c("ASTERISK")&&(A=".*"),j||A){let S=E||"";i.indexOf(S)===-1&&(f+=S,S=""),f&&(s.push($(f)),f="");let k=j||o++;if(u.has(k))throw new TypeError(`Duplicate name '${k}'.`);u.add(k),s.push({name:k,prefix:$(S),suffix:"",pattern:A||n,modifier:l()||""});continue}let M=E||c("ESCAPED_CHAR");if(M){f+=M;continue}if(c("OPEN")){let S=m(),k=c("NAME")||"",H=c("PATTERN")||"";!k&&!H&&c("ASTERISK")&&(H=".*");let je=m();p("CLOSE");let vt=l()||"";if(!k&&!H&&!vt){f+=S;continue}if(!k&&!H&&!S)continue;f&&(s.push($(f)),f=""),s.push({name:k||(H?o++:""),pattern:k&&!H?n:H,prefix:$(S),suffix:$(je),modifier:vt});continue}f&&(s.push($(f)),f=""),p("END")}return s}function le(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function kt(e){return e&&e.sensitive?"u":"ui"}function kr(e,t){if(!t)return e;let r=/\((?:\?<(.*?)>)?(?!\?)/g,i=0,n=r.exec(e.source);for(;n;)t.push({name:n[1]||i++,prefix:"",suffix:"",modifier:"",pattern:""}),n=r.exec(e.source);return e}function jr(e,t,r){let i=e.map(n=>Lt(n,t,r).source);return new RegExp(`(?:${i.join("|")})`,kt(r))}function Lr(e,t,r){return jt(Rt(e,r),t,r)}function jt(e,t,r={}){let{strict:i=!1,start:n=!0,end:s=!0,encode:o=c=>c}=r,a=`[${le(r.endsWith||"")}]|$`,f=`[${le(r.delimiter||"/#?")}]`,u=n?"^":"";for(let c of e)if(typeof c=="string")u+=le(o(c));else{let l=le(o(c.prefix)),p=le(o(c.suffix));if(c.pattern)if(t&&t.push(c),l||p)if(c.modifier==="+"||c.modifier==="*"){let m=c.modifier==="*"?"?":"";u+=`(?:${l}((?:${c.pattern})(?:${p}${l}(?:${c.pattern}))*)${p})${m}`}else u+=`(?:${l}(${c.pattern})${p})${c.modifier}`;else c.modifier==="+"||c.modifier==="*"?u+=`((?:${c.pattern})${c.modifier})`:u+=`(${c.pattern})${c.modifier}`;else u+=`(?:${l}${p})${c.modifier}`}if(s)i||(u+=`${f}?`),u+=r.endsWith?`(?=${a})`:"$";else{let c=e[e.length-1],l=typeof c=="string"?f.indexOf(c[c.length-1])>-1:c===void 0;i||(u+=`(?:${f}(?=${a}))?`),l||(u+=`(?=${f}|${a})`)}return new RegExp(u,kt(r))}function Lt(e,t,r){return e instanceof RegExp?kr(e,t):Array.isArray(e)?jr(e,t,r):Lr(e,t,r)}function Nr(e,t){return e.length?e[0]==="/"?!0:!t||e.length<2?!1:(e[0]=="\\"||e[0]=="{")&&e[1]=="/":!1}function It(e,t){return e.startsWith(t)?e.substring(t.length,e.length):e}function Dr(e,t){return e.endsWith(t)?e.substr(0,e.length-t.length):e}function Ft(e){return!e||e.length<2?!1:e[0]==="["||(e[0]==="\\"||e[0]==="{")&&e[1]==="["}function Dt(e){if(!e)return!0;for(let t of Nt)if(e.test(t))return!0;return!1}function $r(e,t){if(e=It(e,"#"),t||e==="")return e;let r=new URL("https://example.com");return r.hash=e,r.hash?r.hash.substring(1,r.hash.length):""}function Ur(e,t){if(e=It(e,"?"),t||e==="")return e;let r=new URL("https://example.com");return r.search=e,r.search?r.search.substring(1,r.search.length):""}function Mr(e,t){return t||e===""?e:Ft(e)?Mt(e):Ut(e)}function Hr(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.password=e,r.password}function Wr(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.username=e,r.username}function qr(e,t,r){if(r||e==="")return e;if(t&&!Nt.includes(t))return new URL(`${t}:${e}`).pathname;let i=e[0]=="/";return e=new URL(i?e:"/-"+e,"https://example.com").pathname,i||(e=e.substring(2,e.length)),e}function Br(e,t,r){return $t(t)===e&&(e=""),r||e===""?e:Ht(e)}function zr(e,t){return e=Dr(e,":"),t||e===""?e:ct(e)}function $t(e){switch(e){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function ct(e){if(e==="")return e;if(/^[-+.A-Za-z0-9]*$/.test(e))return e.toLowerCase();throw new TypeError(`Invalid protocol '${e}'.`)}function Gr(e){if(e==="")return e;let t=new URL("https://example.com");return t.username=e,t.username}function Vr(e){if(e==="")return e;let t=new URL("https://example.com");return t.password=e,t.password}function Ut(e){if(e==="")return e;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(e))throw new TypeError(`Invalid hostname '${e}'`);let t=new URL("https://example.com");return t.hostname=e,t.hostname}function Mt(e){if(e==="")return e;if(/[^0-9a-fA-F[\]:]/g.test(e))throw new TypeError(`Invalid IPv6 hostname '${e}'`);return e.toLowerCase()}function Ht(e){if(e===""||/^[0-9]*$/.test(e)&&parseInt(e)<=65535)return e;throw new TypeError(`Invalid port '${e}'.`)}function Qr(e){if(e==="")return e;let t=new URL("https://example.com");return t.pathname=e[0]!=="/"?"/-"+e:e,e[0]!=="/"?t.pathname.substring(2,t.pathname.length):t.pathname}function Kr(e){return e===""?e:new URL(`data:${e}`).pathname}function Xr(e){if(e==="")return e;let t=new URL("https://example.com");return t.search=e,t.search.substring(1,t.search.length)}function Zr(e){if(e==="")return e;let t=new URL("https://example.com");return t.hash=e,t.hash.substring(1,t.hash.length)}function Ct(e,t){if(typeof e!="string")throw new TypeError("parameter 1 is not of type 'string'.");let r=new URL(e,t);return{protocol:r.protocol.substring(0,r.protocol.length-1),username:r.username,password:r.password,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search!=""?r.search.substring(1,r.search.length):void 0,hash:r.hash!=""?r.hash.substring(1,r.hash.length):void 0}}function Ee(e,t,r){let i;if(typeof t.baseURL=="string")try{i=new URL(t.baseURL),e.protocol=i.protocol?i.protocol.substring(0,i.protocol.length-1):"",e.username=i.username,e.password=i.password,e.hostname=i.hostname,e.port=i.port,e.pathname=i.pathname,e.search=i.search?i.search.substring(1,i.search.length):"",e.hash=i.hash?i.hash.substring(1,i.hash.length):""}catch{throw new TypeError(`invalid baseURL '${t.baseURL}'.`)}if(typeof t.protocol=="string"&&(e.protocol=zr(t.protocol,r)),typeof t.username=="string"&&(e.username=Wr(t.username,r)),typeof t.password=="string"&&(e.password=Hr(t.password,r)),typeof t.hostname=="string"&&(e.hostname=Mr(t.hostname,r)),typeof t.port=="string"&&(e.port=Br(t.port,e.protocol,r)),typeof t.pathname=="string"){if(e.pathname=t.pathname,i&&!Nr(e.pathname,r)){let n=i.pathname.lastIndexOf("/");n>=0&&(e.pathname=i.pathname.substring(0,n+1)+e.pathname)}e.pathname=qr(e.pathname,e.protocol,r)}return typeof t.search=="string"&&(e.search=Ur(t.search,r)),typeof t.hash=="string"&&(e.hash=$r(t.hash,r)),e}function Te(e){return e.replace(/([+*?:{}()\\])/g,"\\$1")}function ei(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function ti(e,t){let r=".*",i=`[^${ei(t.delimiter||"/#?")}]+?`,n=/[$_\u200C\u200D\p{ID_Continue}]/u,s="";for(let o=0;o<e.length;++o){let a=e[o],f=o>0?e[o-1]:null,u=o<e.length-1?e[o+1]:null;if(typeof a=="string"){s+=Te(a);continue}if(a.pattern===""){if(a.modifier===""){s+=Te(a.prefix);continue}s+=`{${Te(a.prefix)}}${a.modifier}`;continue}let c=typeof a.name!="number",l=t.prefixes!==void 0?t.prefixes:"./",p=a.suffix!==""||a.prefix!==""&&(a.prefix.length!==1||!l.includes(a.prefix));if(!p&&c&&a.pattern===i&&a.modifier===""&&u&&!u.prefix&&!u.suffix)if(typeof u=="string"){let m=u.length>0?u[0]:"";p=n.test(m)}else p=typeof u.name=="number";if(!p&&a.prefix===""&&f&&typeof f=="string"&&f.length>0){let m=f[f.length-1];p=l.includes(m)}p&&(s+="{"),s+=Te(a.prefix),c&&(s+=`:${a.name}`),a.pattern===r?!c&&(!f||typeof f=="string"||f.modifier||p||a.prefix!=="")?s+="*":s+=`(${r})`:a.pattern===i?c||(s+=`(${i})`):s+=`(${a.pattern})`,a.pattern===i&&c&&a.suffix!==""&&n.test(a.suffix[0])&&(s+="\\"),s+=Te(a.suffix),p&&(s+="}"),s+=a.modifier}return s}var Cr,Ar,V,Ir,Fr,Nt,Yr,Jr,G,Wt,Bt=yr(()=>{Cr=/[$_\p{ID_Start}]/u,Ar=/[$_\u200C\u200D\p{ID_Continue}]/u;V={delimiter:"",prefixes:"",sensitive:!0,strict:!0},Ir={delimiter:".",prefixes:"",sensitive:!0,strict:!0},Fr={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};Nt=["ftp","file","http","https","ws","wss"];Yr=class{constructor(e){this.tokenList=[],this.internalResult={},this.tokenIndex=0,this.tokenIncrement=1,this.componentStart=0,this.state=0,this.groupDepth=0,this.hostnameIPv6BracketDepth=0,this.shouldTreatAsStandardURL=!1,this.input=e}get result(){return this.internalResult}parse(){for(this.tokenList=At(this.input,!0);this.tokenIndex<this.tokenList.length;this.tokenIndex+=this.tokenIncrement){if(this.tokenIncrement=1,this.tokenList[this.tokenIndex].type==="END"){if(this.state===0){this.rewind(),this.isHashPrefix()?this.changeState(9,1):this.isSearchPrefix()?(this.changeState(8,1),this.internalResult.hash=""):(this.changeState(7,0),this.internalResult.search="",this.internalResult.hash="");continue}else if(this.state===2){this.rewindAndSetState(5);continue}this.changeState(10,0);break}if(this.groupDepth>0)if(this.isGroupClose())this.groupDepth-=1;else continue;if(this.isGroupOpen()){this.groupDepth+=1;continue}switch(this.state){case 0:this.isProtocolSuffix()&&(this.internalResult.username="",this.internalResult.password="",this.internalResult.hostname="",this.internalResult.port="",this.internalResult.pathname="",this.internalResult.search="",this.internalResult.hash="",this.rewindAndSetState(1));break;case 1:if(this.isProtocolSuffix()){this.computeShouldTreatAsStandardURL();let e=7,t=1;this.shouldTreatAsStandardURL&&(this.internalResult.pathname="/"),this.nextIsAuthoritySlashes()?(e=2,t=3):this.shouldTreatAsStandardURL&&(e=2),this.changeState(e,t)}break;case 2:this.isIdentityTerminator()?this.rewindAndSetState(3):(this.isPathnameStart()||this.isSearchPrefix()||this.isHashPrefix())&&this.rewindAndSetState(5);break;case 3:this.isPasswordPrefix()?this.changeState(4,1):this.isIdentityTerminator()&&this.changeState(5,1);break;case 4:this.isIdentityTerminator()&&this.changeState(5,1);break;case 5:this.isIPv6Open()?this.hostnameIPv6BracketDepth+=1:this.isIPv6Close()&&(this.hostnameIPv6BracketDepth-=1),this.isPortPrefix()&&!this.hostnameIPv6BracketDepth?this.changeState(6,1):this.isPathnameStart()?this.changeState(7,0):this.isSearchPrefix()?this.changeState(8,1):this.isHashPrefix()&&this.changeState(9,1);break;case 6:this.isPathnameStart()?this.changeState(7,0):this.isSearchPrefix()?this.changeState(8,1):this.isHashPrefix()&&this.changeState(9,1);break;case 7:this.isSearchPrefix()?this.changeState(8,1):this.isHashPrefix()&&this.changeState(9,1);break;case 8:this.isHashPrefix()&&this.changeState(9,1);break;case 9:break;case 10:break}}}changeState(e,t){switch(this.state){case 0:break;case 1:this.internalResult.protocol=this.makeComponentString();break;case 2:break;case 3:this.internalResult.username=this.makeComponentString();break;case 4:this.internalResult.password=this.makeComponentString();break;case 5:this.internalResult.hostname=this.makeComponentString();break;case 6:this.internalResult.port=this.makeComponentString();break;case 7:this.internalResult.pathname=this.makeComponentString();break;case 8:this.internalResult.search=this.makeComponentString();break;case 9:this.internalResult.hash=this.makeComponentString();break;case 10:break}this.changeStateWithoutSettingComponent(e,t)}changeStateWithoutSettingComponent(e,t){this.state=e,this.componentStart=this.tokenIndex+t,this.tokenIndex+=t,this.tokenIncrement=0}rewind(){this.tokenIndex=this.componentStart,this.tokenIncrement=0}rewindAndSetState(e){this.rewind(),this.state=e}safeToken(e){return e<0&&(e=this.tokenList.length-e),e<this.tokenList.length?this.tokenList[e]:this.tokenList[this.tokenList.length-1]}isNonSpecialPatternChar(e,t){let r=this.safeToken(e);return r.value===t&&(r.type==="CHAR"||r.type==="ESCAPED_CHAR"||r.type==="INVALID_CHAR")}isProtocolSuffix(){return this.isNonSpecialPatternChar(this.tokenIndex,":")}nextIsAuthoritySlashes(){return this.isNonSpecialPatternChar(this.tokenIndex+1,"/")&&this.isNonSpecialPatternChar(this.tokenIndex+2,"/")}isIdentityTerminator(){return this.isNonSpecialPatternChar(this.tokenIndex,"@")}isPasswordPrefix(){return this.isNonSpecialPatternChar(this.tokenIndex,":")}isPortPrefix(){return this.isNonSpecialPatternChar(this.tokenIndex,":")}isPathnameStart(){return this.isNonSpecialPatternChar(this.tokenIndex,"/")}isSearchPrefix(){if(this.isNonSpecialPatternChar(this.tokenIndex,"?"))return!0;if(this.tokenList[this.tokenIndex].value!=="?")return!1;let e=this.safeToken(this.tokenIndex-1);return e.type!=="NAME"&&e.type!=="PATTERN"&&e.type!=="CLOSE"&&e.type!=="ASTERISK"}isHashPrefix(){return this.isNonSpecialPatternChar(this.tokenIndex,"#")}isGroupOpen(){return this.tokenList[this.tokenIndex].type=="OPEN"}isGroupClose(){return this.tokenList[this.tokenIndex].type=="CLOSE"}isIPv6Open(){return this.isNonSpecialPatternChar(this.tokenIndex,"[")}isIPv6Close(){return this.isNonSpecialPatternChar(this.tokenIndex,"]")}makeComponentString(){let e=this.tokenList[this.tokenIndex],t=this.safeToken(this.componentStart).index;return this.input.substring(t,e.index)}computeShouldTreatAsStandardURL(){let e={};Object.assign(e,V),e.encodePart=ct;let t=Lt(this.makeComponentString(),void 0,e);this.shouldTreatAsStandardURL=Dt(t)}},Jr=["protocol","username","password","hostname","port","pathname","search","hash"],G="*";Wt=class{constructor(e={},t){this.regexp={},this.keys={},this.component_pattern={};try{if(typeof e=="string"){let n=new Yr(e);if(n.parse(),e=n.result,t)if(typeof t=="string")e.baseURL=t;else throw new TypeError("'baseURL' parameter is not of type 'string'.");else if(typeof e.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.")}else if(t)throw new TypeError("parameter 1 is not of type 'string'.");if(!e||typeof e!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");let r={pathname:G,protocol:G,username:G,password:G,hostname:G,port:G,search:G,hash:G};this.pattern=Ee(r,e,!0),$t(this.pattern.protocol)===this.pattern.port&&(this.pattern.port="");let i;for(i of Jr){if(!(i in this.pattern))continue;let n={},s=this.pattern[i];switch(this.keys[i]=[],i){case"protocol":Object.assign(n,V),n.encodePart=ct;break;case"username":Object.assign(n,V),n.encodePart=Gr;break;case"password":Object.assign(n,V),n.encodePart=Vr;break;case"hostname":Object.assign(n,Ir),Ft(s)?n.encodePart=Mt:n.encodePart=Ut;break;case"port":Object.assign(n,V),n.encodePart=Ht;break;case"pathname":Dt(this.regexp.protocol)?(Object.assign(n,Fr),n.encodePart=Qr):(Object.assign(n,V),n.encodePart=Kr);break;case"search":Object.assign(n,V),n.encodePart=Xr;break;case"hash":Object.assign(n,V),n.encodePart=Zr;break}try{let o=Rt(s,n);this.regexp[i]=jt(o,this.keys[i],n),this.component_pattern[i]=ti(o,n)}catch{throw new TypeError(`invalid ${i} pattern '${this.pattern[i]}'.`)}}}catch(r){throw new TypeError(`Failed to construct 'URLPattern': ${r.message}`)}}test(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return!1;try{typeof e=="object"?r=Ee(r,e,!1):r=Ee(r,Ct(e,t),!1)}catch{return!1}let i;for(i in this.pattern)if(!this.regexp[i].exec(r[i]))return!1;return!0}exec(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return;try{typeof e=="object"?r=Ee(r,e,!1):r=Ee(r,Ct(e,t),!1)}catch{return null}let i={};t?i.inputs=[e,t]:i.inputs=[e];let n;for(n in this.pattern){let s=this.regexp[n].exec(r[n]);if(!s)return null;let o={};for(let[a,f]of this.keys[n].entries())if(typeof f.name=="string"||typeof f.name=="number"){let u=s[a+1];o[f.name]=u}i[n]={input:r[n]||"",groups:o}}return i}get protocol(){return this.component_pattern.protocol}get username(){return this.component_pattern.username}get password(){return this.component_pattern.password}get hostname(){return this.component_pattern.hostname}get port(){return this.component_pattern.port}get pathname(){return this.component_pattern.pathname}get search(){return this.component_pattern.search}get hash(){return this.component_pattern.hash}};globalThis.URLPattern||(globalThis.URLPattern=Wt)});var ye=class{constructor(t,r=null){Object.defineProperty(this,"dict",{value:Object.create(t)});for(let i in this.dict)i in this||(this[i]=this.dict[i]);arguments.length>1&&Object.defineProperty(this.dict,"CWD",{get:()=>r})}get name(){return"webflo"}static create(...t){return new this(...t)}get CWD(){return this.dict.CWD||""}get meta(){return this.dict.meta||{}}get app(){return this.dict.app||{}}get config(){return this.dict.config||{}}get flags(){return this.dict.flags||{}}set flags(t){this.dict.flags=t}get layout(){return this.dict.layout||{}}set layout(t){this.dict.layout=t}get logger(){return this.dict.logger}set logger(t){this.dict.logger=t}};var xe=class extends ye{};var we=class extends xe{};function W(e,t,r=!1){if(t=="")return e;var i=r?e.lastIndexOf(t):e.indexOf(t);return i===-1?"":e.substr(i+t.length)}function fe(e,t,r=null,i=!1){return t.length>e.length?-1:(typeof r=="number"?i?e.slice(0,r+1+(r<0?e.length:0)):e.slice(r):e).reduce((n,s,o)=>{var[a,f,u]=n;if(!i&&a>-1)return[a,f,u];var c=u+1,l=s===t[c]?c===0?[o,0]:[f,c]:[-1,-1];return l[1]===t.length-1&&(l[1]=-1,l[0]>-1)?[l[0]].concat(l):[a].concat(l)},[-1,-1,-1])[0]+(i||typeof r!="number"?0:r>-1?r:e.length-r)}function ue(e,t,r=null,i=!1){var n=fe(e,t,r,i);return n===-1?[]:e.slice(n+t.length)}function be(e,t){return e.reduce((r,i,n)=>r||t(i,n),!1)}function ce(e,t,r=!1){if(t=="")return e;var i=r?e.lastIndexOf(t):e.indexOf(t);return i===-1?e:e.substr(0,i)}function L(e){return arguments.length&&(e===void 0||typeof e>"u")}function ee(e){return typeof e=="function"}function _(e){return ee(e)||e&&{}.toString.call(e)==="[object function]"}function Le(e,...t){return t.forEach(r=>{e.indexOf(r)<0&&e.push(r)}),e}function h(e){return Array.isArray(e)}function R(e){return e instanceof String||typeof e=="string"&&e!==null}function it(e){return!R(e)&&!L(e.length)}function Ie(e){return e===null||e===""}function g(e){return Array.isArray(e)||typeof e=="object"&&e||ee(e)}function B(e){return Ie(e)||L(e)||e===!1||e===0||g(e)&&!Object.keys(e).length}function d(e){return!Array.isArray(e)&&typeof e=="object"&&e}function y(e,t=!0){return h(e)?e:!t&&d(e)?[e]:e!==!1&&e!==0&&B(e)?[]:it(e)?Array.prototype.slice.call(e):d(e)?Object.values(e):[e]}function z(e,t,r=null){return r||r!==!1&&e.dotSafe&&t.dotSafe?e.join(".")===t.join("."):e.length===t.length&&e.reduce((i,n,s)=>i&&n===t[s],!0)}function ve(e,t=1){var r=0;e.forEach(n=>{r++});var i=e.slice(e.length-r,t);return arguments.length>1?i:i[0]}function q(e){return e instanceof Number||typeof e=="number"}function w(e){return q(e)||e!==!0&&e!==!1&&e!==null&&e!==""&&!isNaN(e*1)}function Oe(e,t,r=null){return h(t)?e.filter(i=>r?t.filter(n=>r(i,n)).length:t.indexOf(i)!==-1):[]}function Se(e,t=1){return arguments.length>1?ve(e.slice().reverse(),t).reverse():ve(e.slice().reverse())}function U(e,t){var r=void 0;return g(e)&&Object.keys(e).forEach((i,n)=>{r!==!1&&(r=t(w(i)?parseFloat(i):i,e[i],n))}),r}function Pe(e,t,r=null){return r||r!==!1&&e.dotSafe&&t.dotSafe?(e.join(".")+".").startsWith(t.join(".")+"."):t.reduce((i,n,s)=>i&&n===e[s],!0)}function nt(e){let t=(r,i,n)=>n.indexOf(r)===i;return e.filter(t)}function b(e){return typeof e}function x(e,...t){globalThis.WebQitInternalsRegistry||(globalThis.WebQitInternalsRegistry=new Map);var r=globalThis.WebQitInternalsRegistry.get(e);if(!r){if(r=new Map,t[0]===!1)return r;globalThis.WebQitInternalsRegistry.set(e,r)}for(var i,n;i=t.shift();)if((n=r)&&!(r=r.get(i))){if(r=new Map,t[0]===!1)return r;n.set(i,r)}return r}function st(e){return ee(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}function ot(e){return h(e)&&Object.getPrototypeOf(e)===Array.prototype}function Fe(e){return d(e)&&Object.getPrototypeOf(e)===Object.prototype}function at(i,t){t=t||Object.prototype,t=t&&!h(t)?[t]:t;for(var r=[],i=i;i&&(!t||t.indexOf(i)<0)&&i.name!=="default";)r.push(i),i=i?Object.getPrototypeOf(i):null;return r}function ft(e,t){var r=[];return at(e,t).forEach(i=>{Le(r,...Object.getOwnPropertyNames(i))}),r}function N(e,t,r=!1,i=!1,n=!1){var s=0,o=e.shift();if((w(o)||o===!0||o===!1)&&(s=o,o=e.shift()),!e.length)throw new Error("_merge() requires two or more array/objects.");return e.forEach((a,f)=>{!g(a)&&!_(a)||(r?ft(a):Object.keys(a)).forEach(u=>{if(!!t(u,o,a,f)){var c=o[u],l=a[u];if((h(c)&&h(l)||d(c)&&d(l))&&(s===!0||s>0))o[u]=h(c)&&h(l)?[]:{},N([w(s)?s-1:s,o[u],c,l],t,r,i,n);else if(h(o)&&h(a))i?o[u]=l:o.push(l);else try{n?Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(a,u)):o[u]=a[u]}catch{}}})}),o}function te(...e){return N(e,(t,r,i)=>!0,!1,!1,!1)}function ut(e,t){return W(e,t,!0)}function re(e,t){return ce(e,t,!0)}typeof URLPattern>"u"&&await Promise.resolve().then(()=>(Bt(),qt));function zt(e,t,r,i=!1){if(R(t)&&t.endsWith("]")){var n=re(ut(t,"["),"]")||0;return w(n)&&(n=parseInt(n)),t=re(t,"[")||0,w(t)&&(t=parseInt(t)),zt(e,t,(s,o)=>{if(!s[o]){if(!i)return r();s[o]=w(n)?[]:{}}return r(s[o],n)},i)}else return r(e,t)}function Ne(e,t,r,i=!0){zt(e,t,(n,s)=>{w(s)?(s=s||h(n)?n.length:Object.keys(n).filter(w).length,y(r,!1).forEach((o,a)=>{n[s+a]=o})):n[s]=i&&s in n?y(n[s],!1).concat(r):r},!0)}function ie(e,t={},r="&"){return e=e||"",(e.startsWith("?")?e.substr(1):e).split(r).filter(i=>i).map(i=>i.split("=").map(n=>n.trim())).forEach(i=>Ne(t,i[0],decodeURIComponent(i[1]))),t}function De(e,t,r,i=null){if((d(t)||h(t))&&(!i||i(t,e))){var n=h(t);Object.keys(t).forEach(s=>{De(`${e}[${s}]`,t[s],r,i)})}else r(e,!t&&t!==0?"":t)}function pe(e,t="&",r=null){var i=[];return Object.keys(e).forEach(n=>{De(n,e[n],(s,o)=>{i.push(`${s}=${encodeURIComponent(o)}`)},r)}),i.join(t)}var lt=(e,t=null)=>({pattern:new URLPattern(e,t),isPattern(){return Object.keys(this.pattern.keys||{}).some(r=>this.pattern.keys[r].length)},test(...r){return this.pattern.test(...r)},exec(...r){let i=this.pattern.exec(...r);if(!!i)return i.vars=Object.keys(this.pattern.keys).reduce(({named:n,unnamed:s},o)=>(this.pattern.keys[o].forEach(a=>{let f=i[o].groups[a.name];typeof a.name=="number"?s.push(f):n[a.name]=f}),{named:n,unnamed:s}),{named:{},unnamed:[]}),i.render=n=>n.replace(/\$(\$|[0-9A-Z]+)/gi,(s,o)=>o==="$"?"$":(w(o)?i.vars.unnamed[o-1]:i.vars.named[o])||""),i}});var Ce=class{constructor(){this.messaging={post:(t,r=this.client)=>{if(!r)throw new Error("No client for this operation.");return r.postMessage(t),this.post},listen:(t,r=this.client)=>r?(r.addEventListener("message",t),this.post):(self.addEventListener("message",i=>{this.client=i.source,t(i)}),this.post),request:(t,r=this.client)=>{if(!r)throw new Error("No client for this operation.");return new Promise(i=>{let n=new MessageChannel;r.postMessage(t,[n.port2]),n.port1.onmessage=s=>i(s.data)})},channel(t){this.channels.has(t)||this.channels.set(t,new BroadcastChannel(r));let r=this.channels.get(t);return{broadcast:i=>r.postMessage(i),listen:i=>r.addEventListener("message",i)}},channels:new Map},this.notifications={fire:(t,r={})=>new Promise((i,n)=>{if(!(self.Notification&&self.Notification.permission==="granted"))return n(self.Notification&&self.Notification.permission);s.addEventListener("error",n);let s=new self.Notification(t,r);s.addEventListener("click",i),s.addEventListener("close",i)}),handle:t=>(self.addEventListener("notificationclick",t),this.notifications)},this.push={listen:t=>(self.addEventListener("push",t),this.post)}}setCurrentClient(t){this.client=t}};function ne(e){return(pt(e)?e:y(e).length?[e]:[]).reduce((t,r)=>t.concat([y(r)]),[]).map(t=>Q.resolve(t))}var Q=class extends Array{static resolve(t){return t.every(r=>!(r+"").includes("."))?new Q().concat(t):t}get dotSafe(){return!0}};function pt(e){return y(e).reduce((t,r)=>t||h(r),!1)}function ht(e){return e.filter(t=>t||t===0).length!==e.length}function Gt(e){return e.filter(t=>ht(y(t))).length>0}var se=class{constructor(t){this.target=t,this.fireables=[],this.currentlyFiring=[]}add(t){return this.fireables.push(t),t}remove(t){this.fireables=this.fireables.filter(r=>r!==t)}removeMatches(t){this.match(t).forEach(r=>{this.fireables=this.fireables.filter(i=>i!==r)})}match(t){return this.fireables.filter(r=>{var i=ne(r.filter),n=y((r.params||{}).tags),s=ne(t.filter),o=y((t.params||{}).tags);return(!t.originalHandler||r.handler===t.originalHandler)&&(!s.length||z(s,i))&&(!o.length||o.length===n.length&&Oe(n,o).length===o.length)})}static _getFirebase(t,r,i=!0,n=this.__namespace){if(!g(r))throw new Error('Subject must be of type object; "'+b(r)+'" given!');var s=this;return n&&globalThis.WebQitObserverNamespaceRegistry.has(t+"-"+n)&&(s=globalThis.WebQitObserverNamespaceRegistry.get(t+"-"+n),t+="-"+n),!x(r,"firebases").has(t)&&i&&x(r,"firebases").set(t,new s(r)),x(r,"firebases").get(t)}static _namespace(t,r,i=null){if(t+="-"+r,arguments.length===2)return globalThis.WebQitObserverNamespaceRegistry.get(t);if(!(i.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${r} must be a subclass of ${this.name}.`);globalThis.WebQitObserverNamespaceRegistry.set(t,i),i.__namespace=r}};globalThis.WebQitObserverNamespaceRegistry||(globalThis.WebQitObserverNamespaceRegistry=new Map);var oe=class{constructor(t,r){this.target=t,this.handler=r.handler,this.filter=r.filter,this.params=r.params}disconnect(){this.disconnected=!0}};var Ae=class extends oe{fire(t,r,i){return this.disconnected||this.filter&&!Oe(y(this.filter),[t.type]).length?r(...Array.prototype.slice.call(arguments,2)):this.handler(t,i,r)}};function $e(e,t=[],r=!0){var i=0;return w(arguments[0])&&g(arguments[1])&&(i=arguments[0],e=arguments[1],t=arguments[2]||[]),N([i,{},e],(n,s,o)=>_(t)?t(n):h(t)&&t.length?t.indexOf(n)>-1:!0,!1,!1,r)}var he=class{constructor(t,r){if(this.target=t,!r.type)throw new Error("Action type must be given in definition!");U(r,(i,n)=>{Object.defineProperty(this,i,{value:n,enumerable:!0})}),Object.seal(this)}};var T=class extends se{add(t){return super.add(new Ae(this.target,t))}fire(t,r=null){if(t instanceof he||(t=new he(this.target,t)),this.currentlyFiring.filter(s=>s.type===t.type&&s.name===t.name).length)return r?r():void 0;this.currentlyFiring.push(t);let i=(s,...o)=>{var a=this.fireables[s];return a?a.fire(t,(...f)=>i(s+1,...f),...o):r?r(...o):o[0]};var n=i(0);return this.currentlyFiring.pop(),n}static getFirebase(t,r=!0,i=null){return super._getFirebase("interceptor",...arguments)}static namespace(t,r=null){return super._namespace("interceptor",...arguments)}};function P(e){return x(e,!1).get(e)||e}function C(e,t,r={},i={}){if(!t||!g(t))throw new Error("Target must be of type object!");t=P(t);var n,s=function(o){return arguments.length?o:Reflect[e](t,...Object.values(r))};return(n=T.getFirebase(t,!1,i.namespace))?n.fire({type:e,...r},s):s()}function Me(e,t,r,i={}){return C("apply",e,{thisArgument:t,argumentsList:r},i)}function He(e,t,r=null,i={}){return C("construct",e,arguments.length>2?{argumentsList:t,newTarget:r}:{argumentsList:t},i)}var D=class{constructor(t,r=!1){this._={},this._.target=t,this._.cancellable=r,this._.propagationStopped=!1,this._.defaultPrevented=!1,this._.promisesInstance=null,this._.promises=[]}get target(){return this._.target}get cancellable(){return this._.cancellable}stopPropagation(){this._.propagationStopped=!0}get propagationStopped(){return this._.propagationStopped}preventDefault(){this._.defaultPrevented=!0}get defaultPrevented(){return this._.defaultPrevented}waitUntil(t){t instanceof Promise&&(this._.promises.push(t),this._.promisesInstance=null)}get promises(){return!this._.promisesInstance&&this._.promises.length&&(this._.promisesInstance=Promise.all(this._.promises)),this._.promisesInstance}respondWith(t){var r,i=d(t)&&!L(t.propagationStopped)&&!L(t.defaultPrevented);t===!1||i&&t.propagationStopped?this.stopPropagation():t===!1||i&&t.defaultPrevented?this.preventDefault():(t instanceof Promise&&(r=t)||i&&(r=t.promises))&&this.waitUntil(r)}};var Re=class extends oe{constructor(t,r){if(super(t,r),this.filters2D=ne(this.filter),this.filtersIsOriginally2D=pt(this.filter),this.filtersIsDynamic=Gt(this.filters2D),this.filtersIsDynamic&&this.filters2D.length>1)throw new Error('Only one "Dynamic Filter" must be observed at a time! "'+this.filters2D.map(i=>"["+i.join(", ")+"]").join(", ")+'" have been bound together.')}fire(t){if(this.disconnected||this.params.type&&!be(t,o=>this.params.type===o.type))return;let r=o=>!["set","def"].includes(o.type)||!this.params.diff||(_(this.params.diff)?this.params.diff(o.value,o.oldValue):o.value!==o.oldValue);var i=new D(this.target);if(this.filters2D.length){var n=t.filter(o=>this.filters2D.filter((a,f)=>{var u=a.slice();return this.filtersIsDynamic&&o.path.forEach((c,l)=>{u[l]=u[l]||u[l]===0?u[l]:c}),(!this.filtersIsDynamic||!ht(u))&&r(o)&&(!this.params.subtree&&z(u,o.path)||this.params.suptree&&Pe(u,o.path)&&(!w(this.params.suptree)||ue(u,o.path).length<=this.params.suptree)||this.params.subtree&&o.path.length>=u.length&&Pe(o.path,u)&&(!w(this.params.subtree)||ue(o.path,u).length<=this.params.subtree))}).length);if(n.length)if(this.filtersIsOriginally2D||this.params.subtree){var s=n;d(this.filter)&&(s={...this.filter},n.forEach((o,a)=>{s[o.name]=o})),i.respondWith(this.handler(s,i))}else n.forEach((o,a)=>{i.respondWith(this.handler(o,i))})}else(this.params.subtree||t.filter(o=>z(o.path,[o.name])).length===t.length)&&t.filter(o=>r(o)).length&&i.respondWith(this.handler(t,i));return i}};var K=class{constructor(t,r){if(this.target=t,r.originalSubject||(this.originalSubject=t),!("type"in r))throw new Error("Mutation type must be given in definition!");if(!("name"in r))throw new Error("Property name must be given in definition!");U(r,(i,n)=>{i==="path"&&(n=Q.resolve(n)),Object.defineProperty(this,i,{value:n,enumerable:!0})}),this.path||Object.defineProperty(this,"path",{value:Q.resolve([r.name]),enumerable:!0}),Object.seal(this)}};var v=class extends se{constructor(t){super(t),this.buffers=[]}add(t){return super.add(new Re(this.target,t))}fire(t,r){var i=new D(this.target,r);return t=y(t,!1).map(n=>n instanceof K?n:new K(this.target,n)),this.buffers.length?(Se(this.buffers)(t),i):(this.currentlyFiring.filter(n=>t.filter(s=>n.type===s.type&&n.name===s.name).length).length,this.fireables.forEach(n=>{if(i.propagationStopped&&r)return i;i.respondWith(n.fire(t))}),i)}static getFirebase(t,r=!0,i=null){return super._getFirebase("observer",...arguments)}static namespace(t,r=null){return super._namespace("observer",...arguments)}};function I(e,t,r=null,i={}){if(e=r||e,!e||!g(e))throw new Error("Target must be of type object!");e=P(e);var n=y(t),s=n.map(o=>{var a,f=function(u){return arguments.length?u:x(e,"accessorizedProps").has(o)&&x(e,"accessorizedProps").get(o).touch(!0)?x(e,"accessorizedProps").get(o).get():r?Reflect.get(e,o,r):Reflect.get(e,o)};return(a=T.getFirebase(e,!0,i.namespace))?a.fire({type:"get",name:o,related:n,receiver:r},f):f()});return h(t)?s:s[0]}function We(e,t,r=null,i={}){if(e=P(e),!e||!g(e))throw new Error('Observable subjects must be of type object; "'+b(e)+'" given!');if(_(t)&&(i=arguments.length>2?r:{},r=t,t=null),!_(r))throw new Error('Handler must be a function; "'+b(r)+'" given!');var n,s=v.getFirebase(e,!0,i.namespace),o={filter:t,handler:r,params:i};if((o.filter||o.params.subtree==="*"||o.params.subtree&&me(e))&&X(e,o.filter,o.params.subtree,i.namespace),o.params.unique&&(n=s.match({filter:t,params:i})).length){if(o.params.unique!=="replace")return n[0];s.remove(n[0])}return s.add(o)}function Z(e,t,r,i=null,n={}){if(e!==r){var s;if(We(r,(a,f)=>{if(s=v.getFirebase(e,!1,n.namespace)){var u=a.map(c=>{var l=c;do if(l.target===e)return;while(l=l.src);var p={};return U(c,(m,F)=>{m!=="target"&&m!=="name"&&m!=="path"&&m!=="src"&&(p[m]=F)}),p.name=t,p.path=[t].concat(c.path),p.originalSubject=c.originalSubject,p.src=c,new K(e,p)}).filter(c=>c);if(u.length)return s.fire(u,f.cancellable)}},{subtree:!0,...n,unique:!0,tags:[dt,t,e]}),d(i)&&(s=v.getFirebase(e,!1,n.namespace))){var o=te({name:t,type:"set",value:r,related:[t]},i);let a=s.fire(o,n.cancellable);if(n.eventTypeReturn)return a}}}var dt={};function X(e,t=null,r=!1,i=null){if(!e||!g(e))throw new Error("Target must be of type object!");var n=v.getFirebase(e,!0,i);if(!(!n||n.build)){n.build=r;var s=ne(t),o=!s.length||s.filter(f=>!f[0]&&f[0]!==0).length?Object.keys(e):s.map(f=>f[0]),a=s.length?s.map(f=>f.slice(1)).filter(f=>f.length):null;n.subBuild=a&&a.length?a:null,o.forEach(f=>{var u=I(e,f,null,{namespace:i});try{g(u)&&(Z(e,f,u,null,params),(n.subBuild&&me(u)||(_isFunction(r)?r(u):r&&me(u)))&&X(u,n.subBuild,r,i))}catch{}})}}var me=e=>(e instanceof Object||e instanceof Array||e instanceof Function)&&(typeof window>"u"||e!==window);function qe(e,t,r=null,i={}){if(e=P(e),!e||!g(e))throw new Error('Observable subjects must be of type object; "'+b(e)+'" given!');if(_(t)&&(i=arguments.length>2?r:{},r=t,t=null),r&&!_(r))throw new Error('Handler must be a function; "'+b(r)+'" given!');var n;if(n=v.getFirebase(e,!1,i.namespace))return n.removeMatches({filter:t,originalHandler:r,params:i})}function Y(e,t,r,i=null,n={}){qe(r,null,null,{...n,tags:[dt,t,e]});var s;if(d(i)&&(s=v.getFirebase(e,!1,n.namespace))){var o=te({name:t,type:"del",oldValue:r,related:[t]},i);s.fire(o,n.cancellable)}}function J(e,t,r={}){return C("has",e,{name:t},r)}function Be(e,t,r,i={}){t=r.receiver||t;var n=r.keysOrPayload,s=r.value;if(!t||!g(t))throw new Error("Target must be of type object!");d(n)&&(i=s||{},s=null),t=P(t);var o=T.getFirebase(t,!1,i.namespace),a=v.getFirebase(t,!1,i.namespace);let f=(m,F,$,E)=>{var j="set",A;e&&(j="defineProperty",A=F||{},F=A.value);var M=!1,_e;J(t,m,i)&&(M=!0,_e=I(t,m,r.receiver,i));var S={name:m,type:j,value:F,receiver:r.receiver,related:$,detail:E,isUpdate:M,oldValue:_e},k=function(je){return arguments.length&&(A?A=je:F=je),A?x(t,"accessorizedProps",!1).has(m)&&!x(t,"accessorizedProps").get(m).restore()?!1:(Object.defineProperty(t,m,A),!0):x(t,"accessorizedProps",!1).has(m)?x(t,"accessorizedProps").get(m).set(F):(t[m]=F,!0)};if(o){var H=A?{type:"defineProperty",name:m,descriptor:A,receiver:r.receiver,related:$,detail:E,isUpdate:M,oldValue:_e}:{type:"set",name:m,value:F,receiver:r.receiver,related:$,detail:E,isUpdate:M,oldValue:_e};S.success=o.fire(H,k)}else S.success=k();return S.success&&S.value!==S.oldValue&&(g(S.oldValue)&&Y(t,m,S.oldValue,null,i),g(S.value)&&(Z(t,m,S.value,null,i),a&&(a.subBuild||a.build&&me(S.value))&&X(S.value,a.subBuild,a.build,i.namespace))),S};var u,c=[];h(n)||(R(n)||q(n))&&(u=y(n))?c=u.map(m=>f(m,s,u,i.detail)):d(n)&&(u=Object.keys(n))&&(c=u.map(m=>f(m,n[m],u,i.detail)));var l=c.filter(m=>m.success!==!1),p;return a?(p=a.fire(l,i.cancellable),p.successCount=l.length):i.eventTypeReturn&&(p=new D(t)),i.eventTypeReturn?p:l.length>0}function ze(e,t,r=null,i={}){return Be(!0,e,{keysOrPayload:t,value:r},i)}function Ge(e,t,r={}){if(!e||!g(e))throw new Error("Target must be of type object!");e=P(e);var i=y(t),n=i.map(f=>{var u;J(e,f,r)&&(u=I(e,f,null,r));var c={name:f,type:"deleteProperty",related:i,detail:r.detail,oldValue:u},l,p=function(m){return arguments.length?m:x(e,"accessorizedProps",!1).has(f)&&!x(e,"accessorizedProps").get(f).restore()?!1:(delete e[f],!0)};return(l=T.getFirebase(e,!1,r.namespace))?c.success=l.fire({type:"deleteProperty",name:f,oldValue:u,related:i},p):c.success=p(),c.success&&g(c.oldValue)&&Y(e,f,c.oldValue,null,r),c}),s=n.filter(f=>f.success!==!1),o,a;return(o=v.getFirebase(e,!1,r.namespace))?(a=o.fire(s,r.cancellable),a.successCount=s.length):r.eventTypeReturn&&(a=new D(e)),r.eventTypeReturn?a:s.length>0}function Ve(e,t,r={}){return C("getOwnPropertyDescriptor",e,{name:t},r)}function Qe(e,t={}){return C("getPrototypeOf",e,{},t)}function Ke(e,t={}){return C("isExtensible",e,{},t)}function Xe(e,t={}){return C("ownKeys",e,{},t)}function Ze(e,t={}){return C("preventExtensions",e,{},t)}function de(e,t,r=null,i=null,n={}){return Be(!1,e,arguments.length>3?{keysOrPayload:t,value:r,receiver:i}:{keysOrPayload:t,value:r},n)}function Ye(e,t,r={}){return C("setPrototypeOf",e,{prototype:t},r)}function Vt(e,t=[],r={}){r=d(t)?t:r;var i=(arguments.length===1?Object.keys(e):y(t)).map(n=>{if(x(e,"accessorizedProps").has(n)&&x(e,"accessorizedProps").get(n).touch(!0))return!1;let s=()=>{for(var p,m=e;!p&&(m=Object.getPrototypeOf(m));)p=Object.getOwnPropertyDescriptor(m,n);return p};var o=Object.getOwnPropertyDescriptor(e,n),a,f;o||(a={writable:!0,enumerable:!(n in e),configurable:r.configurable!==!1});var u={...o||a};"value"in u&&delete u.value,"writable"in u&&delete u.writable,u.get=()=>{if(l.ongoingGets.length)return l.get();l.ongoingGets.push(1);var p=I(e,n,null,r);return l.ongoingGets.pop(),p};var c;u.set=p=>{if(l.ongoingSets.length)return l.set(p);l.ongoingSets.push(1);var m=de(e,n,p,null,r);return l.ongoingSets.pop(),m};var l={ongoingGets:[],ongoingSets:[],get:function(){var p=o;return p||(f?p=a:p=s()||a),p.get?p.get.call(e):p.value},set:function(p){var m=o;return m||(f?m=a:(m=s())?"value"in m&&(m=a,f=!0):(m=a,f=!0)),m.set||m.get?m.set?m.set.call(e,p):!1:(m.value=p,!0)},restore:function(){try{return this.intact()&&(o||f?Object.defineProperty(e,n,o||a):delete e[n],x(e,"accessorizedProps").delete(n)),!0}catch{}return!1},intact:function(){return(Object.getOwnPropertyDescriptor(e,n)||{}).get===u.get},touch:function(p=!1){return this.intact()||(p?!this.restore():!1)}};try{return Object.defineProperty(e,n,u),x(e,"accessorizedProps").set(n,l),!0}catch{}return!1});return h(t)?i:i[0]}function Qt(e,t=[],r={}){r=d(t)?t:r;var i=(arguments.length===1?Object.keys(e):y(t)).map(n=>x(e,"accessorizedProps",!1).has(n)?x(e,"accessorizedProps").get(n).restore():!0);return h(t)?i:i[0]}function Kt(e,t={}){if(!g(e))throw new Error('Object must be of type target; "'+b(e)+'" given!');var r=new Proxy(e,{apply:(i,n,s)=>Me(i,n,s,t),construct:(i,n,s=null)=>He(i,n,s,t),defineProperty:(i,n,s)=>ze(i,n,s,t),deleteProperty:(i,n)=>Ge(i,n,t),get:(i,n,s=null)=>{var o=I(i,n,s,t);return t.proxyAutoBinding!==!1&&_(o)&&!st(o)?o.bind(r):o},getOwnPropertyDescriptor:(i,n)=>Ve(i,n,t),getPrototypeOf:i=>Qe(i,t),has:(i,n)=>J(i,n,t),isExtensible:i=>Ke(i,t),ownKeys:i=>Xe(i,t),preventExtensions:i=>Ze(i,t),set:(i,n,s,o=null)=>de(i,n,s,o,t),setPrototypeOf:(i,n)=>Ye(i,n,t)});return x(r).set(r,e),r}function Xt(e,t,r={}){if(e=P(e),!g(e))throw new Error('Object must be of type target; "'+b(handler)+'" given!');var i={},n=!0;d(t)||(_(t)?t={"":t}:_(r)&&(t={[t]:r},r=arguments.length>3?arguments[3]:{}),n=!1);var s=T.getFirebase(e,!0,r.namespace);return Object.keys(t).forEach(o=>{if(!_(t[o]))throw new Error("Callback"+(o===null?"":" for "+o)+' must be a function; "'+b(t[o])+'" given!');var a={filter:o,handler:t[o],params:r},f;if(a.params.unique&&(f=s.match(a)).length){if(a.params.unique!=="replace")return f[0];s.remove(f[0])}n?i[o]=s.add(a):i=s.add(a)}),i}function Zt(e,t=null,r={}){if(e=P(e),!e||!g(e))throw new Error('Object must be of type target; "'+b(e)+'" given!');var i=T.getFirebase(e,!1,r.namespace);_isObject(t)||(_(t)?t={[null]:t}:_(r)&&(t={[t]:r},r=arguments.length>3?arguments[3]:{}),isOriginallyObj=!1),(i=T.getFirebase(e,!1,r.namespace))&&Object.keys(t).forEach(n=>{if(!_(t[n]))throw new Error("Callback"+(n===null?"":" for "+n)+' must be a function; "'+b(t[n])+'" given!');var s={filter:n,originalHandler:t[n],params:r};return i.removeMatches(s)})}function Yt(e,...t){var r=t.map(s=>{if(s=P(s),!g(s))throw new Error("Target must be of type object!");return{target:s,subjectCopy:h(s)?s.slice(0):$e(s)}}),i=e(...t);let n=()=>{r.map(s=>{var o=Object.keys(s.subjectCopy),a=Object.keys(s.target),f=[],u=nt(o.concat(a)).map(l=>{if(s.subjectCopy[l]!==s.target[l]){f.push(l);var p={name:l,related:f,buffered:!0};return a.includes(l)?(p.type="set",p.value=s.target[l],o.includes(l)&&(p.isUpdate=!0)):p.type="del",o.includes(l)&&(p.oldValue=s.subjectCopy[l]),g(s.subjectCopy[l])&&Y(s.target,l,s.subjectCopy[l]),g(s.target[l])&&Z(s.target,l,s.target[l]),p}}).filter(l=>l),c;if(u.length&&(c=v.getFirebase(s.target,!1)))return c.fire(u)})};return i instanceof Promise?i.then(n):n(),i}var O={apply:Me,construct:He,defineProperty:ze,deleteProperty:Ge,get:I,getOwnPropertyDescriptor:Ve,getPrototypeOf:Qe,has:J,isExtensible:Ke,ownKeys:Xe,preventExtensions:Ze,set:de,setPrototypeOf:Ye,accessorize:Vt,unaccessorize:Qt,proxy:Kt,unproxy:P,observe:We,unobserve:qe,intercept:Xt,unintercept:Zt,closure:Yt,build:X,link:Z,unlink:Y,Observers:v,Interceptors:T};var{URL:Jt,fetch:er,Headers:gt,Request:tr,Response:rr,FormData:ir,ReadableStream:si,File:ud,Blob:_t}=globalThis;var ai=e=>{let t=class extends e{constructor(...r){super(...r);var i=ie(this.search);let n=s=>{var o=pe(s);o=o?"?"+o:"",o!==this.search&&(this.search=o)};this.__query={value:i,proxy:new Proxy(i,{set(s,o,a){return s[o]=a,n(s),!0},deleteProperty(s,o){return delete s[o],n(s),!0}})}}set search(r){super.search=r;var i=ie(r);yt(i,this.query)||(this.query=i)}get search(){return super.search}get query(){return this.__query.proxy}};return t.Observable=class extends t{constructor(){super(...arguments);let{Observer:r}=WebQit;r.accessorize(this,["protocol","username","password","host","hostname","port","origin","pathname","search","query","hash","href"])}},t},yt=(e,t)=>d(e)&&d(t)?yt(Object.keys(e),Object.keys(t))&&yt(Object.values(e),Object.values(t)):h(e)&&h(t)?e.length===t.length&&e.reduce((r,i,n)=>r&&i===t[n],!0):e===t,nr=ai;var fi=e=>class extends e{tee(t=null){let r=new this.constructor,i=new this.constructor;for(var[n,s]of this.entries()){let o=o(s);t&&t(s,n,o)||!t&&!o?r.append(n,s):i.append(n,s)}return[r,i]}json(t={},r=null){if(arguments.length){Object.keys(t).forEach(o=>{De(o,t[o],(a,f)=>{(!r||r(a,f,g(f)))&&this.append(a,f)},a=>!xt(a))});return}var i;for(var[n,s]of this.entries())i||(i=w(ce(n,"["))?[]:{}),Ne(i,n,s);return i}},sr=fi,xt=(e,t=null)=>{if(!g(e))return;let r=e[Symbol.toStringTag];return(t||["Uint8Array","Uint16Array","Uint32Array","ArrayBuffer","Blob","File","FormData","Stream"]).reduce((i,n)=>i||(r===n?n:null),null)};var ui=e=>class extends e{constructor(t={}){t instanceof e?super(t):(super(),this.json(t))}json(t={},r=!0){if(arguments.length){let o=or(this),a=Object.keys(o).reduce((f,u)=>f.concat(typeof u!="symbol"&&"set"in o[u]?u:[]),[]);Object.keys(t).forEach(f=>{var u=a.reduce((c,l)=>c||(l===f||l.toLocaleLowerCase()===f?l:null),null);u?(r||this[u]===void 0)&&(this[u]=t[f]):(r||!this.has(f))&&this.set(f,t[f])});return}let i={};for(var[n,s]of this)i[n]=s;return i}set cacheControl(t){return this.set("Cache-Control",t)}get cacheControl(){return this.get("Cache-Control")}set contentLength(t){return this.set("Content-Length",t)}get contentLength(){return this.get("Content-Length")}set contentType(t){return this.set("Content-Type",t)}get contentType(){return this.get("Content-Type")}},Je=ui;function or(e){if(e){let t=Object.getPrototypeOf(e);return t===Object.prototype?{}:{...or(t),...Object.getOwnPropertyDescriptors(e)}}else return Object.create(null)}var ci=e=>class extends Je(e){set accept(t){return this.set("Accept",t)}get accept(){let t=this.get("Accept"),r=t&&t.split(",").map(i=>(i=i.trim().split(";").map(n=>n.trim()),[i.shift(),parseFloat((i.pop()||"1").replace("q=",""))])).sort((i,n)=>i[1]>n[1]?-1:1)||[];return{match(i){return i=(i+"").split("/"),r.reduce((n,s)=>n||(s=s[0].split("/"))&&[0,1].every(o=>i[o]===s[o]||i[o]==="*"||s[o]==="*"),!1)},toString(){return t}}}set cookies(t){if(!d(t))throw new Error(`Cookies must be of type object. Received type: ${b(t)}.`);return this.set("Cookie",pe(t,";")),this._cookies=null,!0}get cookies(){return this._cookies||(this._cookies=ie(this.get("cookie"),{},";")),this._cookies}set range(t){let r=[];return y(t).forEach((i,n)=>{let s=Array.isArray(i)?i.join("-"):i+"";n===0&&!s.includes("bytes=")&&(s=`bytes=${s}`),r.push(s)}),this.set("Range",r.join(", "))}get range(){let t=this.get("Range");return t?W(t,"bytes=").split(",").map(i=>{let n=i.trim().split("-");return n[0]=n[0]?parseInt(n[0],10):void 0,n[1]&&(n[1]=parseInt(n[1],10)),n.clamp=s=>{(n[1]>s-1||n[1]===void 0)&&(n[1]=s-1),n[0]===void 0&&(n[0]=n[1]?s-n[1]-1:0)},n}):void 0}set cors(t){return this.set("Access-Control-Allow-Origin",t===!0?"*":t===!1?"":t)}get cors(){return this.get("Access-Control-Allow-Origin")}},ar=ci;var li=e=>class extends Je(e){set cookies(t){if(!d(t))throw new Error(`The "cookies" response directive cannot be of type: ${b(t)}`);for(let r in t){let i=t[r];if(d(i)){let n=[i.value];for(let s in i){if(s==="value")continue;let o=s[0].toUpperCase()+s.substring(1);o==="MaxAge"&&(o="Max-Age"),n.push(i[s]===!0?o:`${o}=${i[s]}`)}i=n.join("; ")}this.append("Set-Cookie",`${r}=${i}`)}return!0}get cookies(){let t=this.get("Set-Cookie");return t&&t.split(",").reduce((r,i)=>{let[n,s]=i.split(";"),[o,a]=n.trim().split("=");return r[o]={value:a},s&&(s||"").split(/\;/g).map(f=>f.trim().split("=")).forEach(f=>{r[o][f[0][0].toLowerCase()+f[0].substring(1).replace("-","")]=f.length===1?!0:f[1]}),r},{})}set contentRange(t){if(Array.isArray(t)){if(t.length===2&&!t[0].includes("-")||t.length<2)throw new Error("A Content-Range array must be in the format: [ 'start-end', 'total' ]");return this.set("Content-Range",`bytes ${t.join("/")}`)}return this.set("Content-Range",t)}get contentRange(){let t=this.get("Content-Range");return t&&W(t,"bytes ").split("/")}set cors(t){return this.set("Access-Control-Allow-Origin",t===!0?"*":t===!1?"":t)}get cors(){return this.get("Access-Control-Allow-Origin")}set attachment(t){if(t=t===!0?"attachment":t===!1?"inline":t,!R(t))throw new Error(`The "download" response directive does not support the type: ${b(t)}`);return["attachment","inline"].includes(t)||(t=`attachment; filename="${t}"`),this.set("Content-Disposition",t)}get attachment(){var t=(this.get("Content-Disposition")||"").trim();return t=t==="attachment"?!0:t==="inline"?!1:W(re(t,'"'),'filename="'),t}get location(){return this.get("Location")}set location(t){return this.set("Location",t)}get redirect(){return this.get("Location")}set redirect(t){return this.set("Location",t)}},fr=li;var pi=(e,t,r)=>{let i=class extends e{constructor(n,s,o){"headers"in s&&!(s.headers instanceof t)&&(s={...s},s.headers=new t(s.headers),arguments[1]=s),B(s)?super(n):super(n,s),this._headers=s.headers,o.headers&&this.headers.json(o.headers);let a={};Object.defineProperty(this,"attrs",{get:()=>a}),Object.defineProperty(this,"bodyAttrs",{get:()=>o})}clone(){return new this.constructor(super.clone())}get headers(){return this._headers||(this._headers=new t(super.headers)),this._headers}get attrs(){return this.attrs}get url(){return"url"in this.attrs?this.attrs.url:super.url}async arrayBuffer(){return this.bodyAttrs.arrayBuffer?this.bodyAttrs.arrayBuffer:super.arrayBuffer()}async blob(){return this.bodyAttrs.blob?this.bodyAttrs.blob:super.blob()}async formData(){if(this.bodyAttrs.formData)return this.bodyAttrs.formData;let n=await super.formData();return n.tee=r.prototype.tee.bind(n),n.json=r.prototype.json.bind(n),n}async json(){return this.bodyAttrs.json?this.bodyAttrs.json:super.json()}async text(){return this.bodyAttrs.text?this.bodyAttrs.text:super.text()}jsonfy(n=!1){return(!this.bodyAttrs.jsonfied||n)&&(this.bodyAttrs.jsonfied=new Promise(async(s,o)=>{var a=this,f,u=a.headers.get("content-type")||"",c=u==="application/json"||this.bodyAttrs.json?"json":u==="application/x-www-form-urlencoded"||u.startsWith("multipart/form-data")||this.bodyAttrs.formData?"formData":u==="text/plain"?"plain":"other";try{c==="formData"?f=(await a.formData()).json():f=c==="json"?await a.json():c==="plain"?await a.text():a.body,s(f)}catch(l){o(l)}})),this.bodyAttrs.jsonfied}};return i.Headers=t,i},et=pi;function tt(e,t,r){let i={body:e,input:e},n=(a,f)=>{if(!t.encode)return;let[u,c]=t.encode(f);a.body=u,a.headers=c};if(R(e)||q(e))return i.inputType="text",i.text=e,i.headers={contentLength:(e+"").length},i;if(i.inputType=xt(e),["Blob","File"].includes(i.inputType))i.blob=e,i.headers={contentType:e.type,contentLength:e.size};else if(["Uint8Array","Uint16Array","Uint32Array","ArrayBuffer"].includes(i.inputType))i.arrayBuffer=e,i.headers={contentLength:e.byteLength};else if(i.inputType==="FormData")i.formData=e,n(i,e);else if(d(e)&&Fe(e)||h(e)&&ot(e)){i.inputType="object";var s,o=new t;o.json(e,(a,f,u)=>(s=s||u,!0)),s?(i.formData=o,n(i,o)):(i.json=e,i.body=JSON.stringify(e),i.headers={contentType:"application/json",contentLength:new r([i.body]).size}),i.jsonfied=e}return i}var hi=(e,t,r,i)=>class extends et(e,t,r){constructor(n,s={}){s={...s};let o={};n instanceof e&&(s.method&&n.method!==s.method.toUpperCase()&&["GET","HEAD"].includes(s.method.toUpperCase())?(n=n.url,["headers","mode","credentials","cache","redirect","referrer","integrity"].forEach(f=>{f in s||(s[f]=n[f])})):o=n.bodyAttrs||{}),"body"in s&&(o=tt(s.body,r,i),s.body=o.body);let a;s.mode==="navigate"&&(a=!0,s={...s},delete s.mode),super(n,s,o),a&&(this.attrs.mode="navigate")}get mode(){return"mode"in this.attrs?this.attrs.mode:super.mode}get cache(){return"cache"in this.attrs?this.attrs.cache:super.cache}get destination(){return"destination"in this.attrs?this.attrs.destination:super.destination}get referrer(){return"referrer"in this.attrs?this.attrs.referrer:super.referrer}static compat(n,s=null){return n instanceof e?Object.setPrototypeOf(n,new this):new this(s,n)}},ur=hi;var mi=(e,t,r,i)=>class extends et(e,t,r){constructor(n=null,s={}){let o={},a;arguments.length&&(n instanceof e?(a=n,s={status:n.status,statusText:n.statusText,headers:n.headers,...s},n.status===0&&delete s.status,o=n.bodyAttrs||{},n=n.body):(o=tt(n,r,i),n=o.body)),super(n,s,o),a&&(this.attrs.url=a.url,this.attrs.ok=a.ok,this.attrs.status=a.status,this.attrs.type=a.type,this.attrs.redirected=a.redirected)}get ok(){return"ok"in this.attrs?this.attrs.ok:super.ok}get status(){return"status"in this.attrs?this.attrs.status:super.status}get statusText(){return"statusText"in this.attrs?this.attrs.statusText:super.statusText}get type(){return"type"in this.attrs?this.attrs.type:super.type}get redirected(){return"redirected"in this.attrs?this.attrs.redirected:super.redirected}static compat(n){return n instanceof e?Object.setPrototypeOf(n,new this):new this(n)}},cr=mi;var di=e=>e,lr=di;var gi=(e,t,r)=>{let i=class{constructor(n,s,o){this._request=n,this._detail=s||{},this._sessionFactory=o,this.Request=e,this.Response=t,this.URL=r,this.port={listeners:[],post(a){let f=this.listeners.map(u=>u(a)).filter(u=>u instanceof Promise);if(process.length)return Promise.all(f)},listen(a){this.listeners.push(a)}}}get url(){return this._url||(this._url=new this.URL(this._request.url)),this._url}get request(){return this._request}get detail(){return this._detail}get session(){return this._session||(this._session=this.sessionFactory().get()),this._session}sessionFactory(...n){return this._sessionFactory(...n)}retarget(n,s={}){var o;return n instanceof e?B(s)?o=n:o=new e(n,s):(o=new e(this._request,s),o.attrs.url=`${this.url.origin}${n}`,o.attrs.referrer=this.request.url),new i(o,this.detail)}};return i},pr=gi;var hr=nr(Jt),wt=sr(ir);var mr=ar(gt),dr=fr(gt),rt=ur(tr,mr,wt,_t),ge=cr(rr,dr,wt,_t),_i=lr(er),bt=pr(rt,ge,hr);var ae=class{constructor(t,r){this.cx=t,this.clients=new Map,this.mockSessionStore={},this.cx.runtime=this;let i=r(this.cx,"*");if(!i||!i.handle)throw new Error('Application instance must define a ".handle()" method.');this.clients.set("*",i),self.addEventListener("install",s=>{this.cx.params.skip_waiting&&self.skipWaiting(),this.cx.params.cache_name&&(this.cx.params.cache_only_urls||[]).length&&s.waitUntil(self.caches.open(this.cx.params.cache_name).then(o=>{this.cx.logger&&this.cx.logger.log("[ServiceWorker] Pre-caching resources.");let a=(this.cx.params.cache_only_urls||[]).map(f=>f.trim()).filter(f=>f&&!lt(f,self.origin).isPattern());return o.addAll(a)}))}),self.addEventListener("activate",s=>{s.waitUntil(new Promise(async o=>{this.cx.params.skip_waiting&&await self.clients.claim(),this.cx.params.cache_name&&await self.caches.keys().then(a=>Promise.all(a.map(f=>{if(f!==this.cx.params.cache_name&&f!==this.cx.params.cache_name+"_json")return this.cx.logger&&this.cx.logger.log("[ServiceWorker] Removing old cache:",f),self.caches.delete(f)}))),o()}))}),self.addEventListener("fetch",s=>{!s.request.url.startsWith("http")||s.respondWith((async(o,a)=>{let f=await self.clients.get(s.clientId);this.workport.setCurrentClient(f);let u=["method","headers","mode","credentials","cache","redirect","referrer","integrity"].reduce((c,l)=>({[l]:o[l],...c}),{});return["GET","HEAD"].includes(o.method)||(u.body=await o.text()),o.cache==="force-cache"&&(u.cache="default"),this.go(o.url,u,{event:a})})(s.request,s))});let n=new Ce;O.set(this,"workport",n),n.messaging.listen(async s=>{let o=s.ports[0],a=this.clients.get("*"),f=a.alert&&await a.alert(s);o&&(f instanceof Promise?f.then(u=>{o.postMessage(u)}):o.postMessage(f))}),n.notifications.listen(async s=>{let o=this.clients.get("*");o.alert&&await o.alert(s)}),n.push.listen(async s=>{let o=this.clients.get("*");o.alert&&await o.alert(s)}),O.set(this,"location",{}),O.set(this,"network",{}),O.observe(this.network,s=>{})}async go(t,r={},i={}){t=typeof t=="string"?new URL(t):t,r={referrer:this.location.href,...r};let n=await this.generateRequest(t.href,r);i.event&&Object.defineProperty(i.event,"request",{value:n});let s=new bt(n,i,(f=null,u=!1)=>this.getSession(s,f,u));s.port.listen(f=>{if(f.$type==="handler:hints"&&f.session)return Promise.resolve()});let o;return s.request.url.startsWith(self.origin)?o=await this.clients.get("*").handle(s,(...f)=>this.remoteFetch(...f)):o=await this.remoteFetch(s.request),this.handleResponse(s,o)}generateRequest(t,r){return new rt(t,r)}getSession(t,r=null,i=!1){return{get:()=>this.mockSessionStore,set:n=>{this.mockSessionStore=n}}}remoteFetch(t,...r){arguments.length>1&&(t=this.generateRequest(t,...r));let i=(o,a)=>be((o||[]).map(f=>f.trim()).filter(f=>f),f=>lt(f,self.origin).test(a)),s=(()=>{if(!this.cx.params.default_fetching_strategy||this.cx.params.default_fetching_strategy==="network-first"||i(this.cx.params.network_first_urls,t.url))return O.set(this.network,"strategy","network-first"),this.networkFetch(t,{cacheFallback:!0,cacheRefresh:!0});if(this.cx.params.default_fetching_strategy==="cache-first"||i(this.cx.params.cache_first_urls,t.url))return O.set(this.network,"strategy","cache-first"),this.cacheFetch(t,{networkFallback:!0,cacheRefresh:!0});if(this.cx.params.default_fetching_strategy==="network-only"||i(this.cx.params.network_only_urls,t.url))return O.set(this.network,"strategy","network-only"),this.networkFetch(t,{cacheFallback:!1,cacheRefresh:!1});if(this.cx.params.default_fetching_strategy==="cache-only"||i(this.cx.params.cache_only_urls,t.url))return O.set(this.network,"strategy","cache-only"),this.cacheFetch(t,{networkFallback:!1,cacheRefresh:!1})})(t);return s.catch(o=>O.set(this.network,"error",o.message)),s.then(o=>ge.compat(o))}networkFetch(t,r={}){return r.cacheFallback?self.fetch(t).then(i=>(r.cacheRefresh&&this.refreshCache(t,i),O.set(this.network,"remote",!0),i)).catch(()=>this.getRequestCache(t).then(i=>(O.set(this.network,"cache",!0),i.match(t)))):(O.set(this.network,"remote",!0),self.fetch(t))}cacheFetch(t,r={}){return this.getRequestCache(t).then(i=>i.match(t).then(n=>!n&&r.networkFallback?this.networkFetch(t,{...r,cacheFallback:!1}):(n&&r.cacheRefresh&&this.networkFetch(t,{...r,justRefreshing:!0}),O.set(this.network,"cache",!0),n)))}refreshCache(t,r){if(t.method!=="GET"||!r||r.status!==200||r.type!=="basic"&&r.type!=="cors")return r;var i=r.clone();return this.getRequestCache(t).then(n=>{O.set(this.network,"cacheRefresh",!0),n.put(t,i)}),r}getRequestCache(t){let r=t.headers.get("Accept")==="application/json"?this.cx.params.cache_name+"_json":this.cx.params.cache_name;return self.caches.open(r)}handleResponse(t,r){return r instanceof ge||(r=ge.compat(r)),r}};var ke=class{constructor(t){this.cx=t}async handle(t,r){let i=new ae(this.cx,t.url.pathname);return(async()=>{let s=t.request.method.toLowerCase(),o=await i.route([s==="delete"?"del":s,"default"],t,{},async a=>r(a.request),r);return o instanceof t.Response||(o=t.Response.compat(o)),o})()}};async function gr(e=null){let t=this||{},r=i=>new ke(i);return new ae(we.create(t),(...i)=>e?e(...i.concat(r)):r(...i))}var xi={},wi={cache_name:"cache_v0",default_fetching_strategy:"network-first",network_first_urls:[],cache_first_urls:[],network_only_urls:[],cache_only_urls:[],skip_waiting:!1,support_push:!1,push_registration_url:"",push_deregistration_url:"",push_public_key:"",routing:{root:"/",subroots:[],targets:5}};gr.call({layout:xi,params:wi});
})();
