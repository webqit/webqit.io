
<div class="line-numbers match-braces" exportgroup="README-1.md">
	<h1 id="project-layout">Project Layout</h1>
	<p>It's a good practice to locate certain project files in conventional places. Webflo is thus able to automatically identify them at runtime. Here's an overview (keep in mind that everything below is optional, and/or can be renamed):</p>
	<ul>
	<li><a href="#the-public-directory"><code>/public</code></a></li>
	<li><a href="#the-server-directory"><code>/server</code></a></li>
	<li><a href="#the-client-directory"><code>/client</code></a></li>
	<li><a href="#the-worker-directory"><code>/worker</code></a></li>
	</ul>
	<p>Let's now see what goes into each directory, and how they're all related.</p>
	<h3 id="the-public-directory">The <code>/public</code> Directory</h3>
	<p>If you intend to have static files (like images or CSS files) that should be served automatically, place them in this directory.</p>
	<p>Your application's start page - <code>index.html</code> - should also be here.</p>
	<ul>
	<li><code>/public</code><ul>
	<li><code>/index.html</code> - <em>Try add some Hello World greeting.</em></li></ul></li>
	</ul>
	<p>Now, when you start the Webflo server and navigate to <code>http://localhost:3000/</code> (or <code>http://localhost:3000/index.html</code>) on your browser, the start page is shown.</p>
	<pre class="language-bash" tabindex="0"><code class="bash language-bash">webflo start</code></pre>
	<blockquote>
	  <p>Ensure that you are at your project root <code>webflo-app</code> in the terminal to run the above Webflo command, and subsequent ones.</p>
	</blockquote>
	<blockquote>
	  <p>Now, if all you're creating is a static site, your work ends in this directory!</p>
	</blockquote>
	<p>Webflo serves static files by simply mapping URL paths to filesystem paths. For example, the request URL <code>/</code> (or <code>/index.html</code>) would be mapped to the file <code>/public/index.html</code>, and the request URL <code>/products</code> (or <code>/products/index.html</code>) would be mapped to the file <code>/public/products/index.html</code>, and so on.</p>
	<h3 id="the-server-directory">The <code>/server</code> Directory</h3>
	<p>If you intend to have JavaScript files that handle dynamic routing on the server, place them in this directory.</p>
	<ul>
	<li><code>/server</code><ul>
	<li><code>/index.js</code> - <em>This is a server-side route handler.</em></li></ul></li>
	</ul>
	<p>Now, what happens is, when you navigate to <code>http://localhost:3000/</code> (or <code>http://localhost:3000/index.html</code>) on your browser, the route handler in <code>index.js</code> is hit first with the HTTP request. It then decides to either return its own response (in object format) or simply allow the request to <em>flow</em> to the default <code>/public/index.html</code> file, in which case an <em>HTML response</em> is returned.</p>
	<ul>
	<li>-&gt; enter <code>/server</code><ul>
	<li>-&gt; call <code>index.js</code>; continue?</li></ul></li>
	<li>-&gt; enter <code>/public</code> if exists; match <code>index.html</code></li>
	</ul>
	<p>So, route handlers can both return <em>response data</em> of their own and act as a gateway for the request/response flow. As we will see shortly, response data returned from route handlers can either serve as <em>automatic JSON (API) responses</em> or get rendered into the default <code>/public/index.html</code> file and returned as a rendered <em>HTML response</em>.</p>
	<p>So far, with just two files - <code>/public/index.html</code> and <code>/server/index.js</code> - we can already return either of three responses for the URL <code>http://localhost:3000/</code>: a JSON API response, a static HTML response, or a dynamically-rendered HTML response. Code examples ahead.</p>
	<blockquote>
	  <p>Now, if all you're creating is a traditional server-side application or simply an API backend, your work ends in this directory! Routing is covered in <a href="#routing">the next section</a>. And <a href="/tooling/webflo/docs/public/tooling/webflo/docs/learn/server-side-routing">here</a> are server-side routing examples.</p>
	</blockquote>
	<h3 id="the-client-directory">The <code>/client</code> Directory</h3>
	<p>If you intend to have JavaScript files that handle routing (e.g navigation requests) in the browser, place them in this directory.</p>
	<ul>
	<li><code>/client</code><ul>
	<li><code>/index.js</code> - <em>This is a client-side route handler.</em></li></ul></li>
	</ul>
	<p>Next, run a Webflo command that automatically <em>builds</em> these files into a single script that you can include on your <code>/public/index.html</code> page.</p>
	<pre class="language-bash" tabindex="0"><code class="bash language-bash">webflo build</code></pre>
	<blockquote>
	  <p>Client builds are covered later on. But let's assume for now that the generated JavaScript file is now included in the HTML page.</p>
	</blockquote>
	<p>Now, what happens is, when you navigate to <code>http://localhost:3000/</code> (or <code>http://localhost:3000/index.html</code>) on your browser, this client-side route handler is hit first with the HTTP request. It then decides to either return an in-browser <em>response data</em> that's rendered to the UI or simply allow the request to <em>flow</em> to the server - all while preventing the browser from performing a page reload.</p>
	<ul>
	<li>-&gt; enter <code>/client</code><ul>
	<li>-&gt; call <code>index.js</code>; continue?</li></ul></li>
	<li>-&gt; enter <code>/server</code> if exists<ul>
	<li>-&gt; call <code>index.js</code>; continue?</li></ul></li>
	<li>-&gt; enter <code>/public</code> if exists; match <code>index.html</code></li>
	</ul>
	<p>As we will see, being able to either return an in-browser response data or act as a gateway for the request/response flow is a powerful way to create fast and smooth client-side experiences.</p>
	<p>At this point, with just three files - <code>/public/index.html</code>, <code>/server/index.js</code> and <code>/client/index.js</code> - we can already have either a static site, an API backend, a server-side app, a client-side app, or a combination of all of these. Code examples ahead.</p>
	<blockquote>
	  <p>Okay, if all you're creating is a client-side application, your work ends in this directory! Routing is covered in <a href="#routing">the next section</a>. And <a href="/tooling/webflo/docs/public/tooling/webflo/docs/learn/client-side-routing">here</a> are client-side routing examples.</p>
	</blockquote>
	<h3 id="the-worker-directory">The <code>/worker</code> Directory</h3>
	<p>What happens here is quite advanced and you can ignore this until you really need it. But if you already know about application Service Workers and intend to enhance your app's client-side experience with Service Workers, Webflo lets you implement routing at the service-worker level, and you place your route handlers in this directory.</p>
	<ul>
	<li><code>/worker</code><ul>
	<li><code>/index.js</code> - <em>This is a worker-level route handler.</em></li></ul></li>
	</ul>
	<p>Next, run a Webflo command that automatically <em>builds</em> these files into a single script that will form part of the service worker file for your page.</p>
	<pre class="language-bash" tabindex="0"><code class="bash language-bash">webflo build</code></pre>
	<blockquote>
	  <p>Worker builds are covered later on. But let's assume for now that the generated JavaScript file is now part of the service worker file for your page.</p>
	</blockquote>
	<p>Now, what happens is, when you navigate to <code>http://localhost:3000/</code> (or <code>http://localhost:3000/index.html</code>) on your browser, <em>and the HTTP navigation request is passed on from the initial client-side route handler <code>/client/index.js</code>, where exists</em>, the request next enters the Service orker layer and hits this route handler. This handler then decides to either return an in-browser <em>response data</em> that's rendered to the UI or simply allow the request to finally <em>flow</em> to the server.</p>
	<ul>
	<li>-&gt; enter <code>/client</code> if exists<ul>
	<li>-&gt; call <code>index.js</code>; continue?</li></ul></li>
	<li>-&gt; enter <code>/worker</code><ul>
	<li>-&gt; call <code>index.js</code>; continue?</li></ul></li>
	<li>-&gt; enter <code>/server</code> if exists<ul>
	<li>-&gt; call <code>index.js</code>; continue?</li></ul></li>
	<li>-&gt; enter <code>/public</code> if exists; match <code>index.html</code></li>
	</ul>
	<p>Woohoo! With a combition of just four files - <code>/public/index.html</code>, <code>/server/index.js</code>, <code>/client/index.js</code> and <code>/worker/index.js</code> - we can already have any type of application with great offline experiences.</p>
	<blockquote>
	  <p>It is even just possible to build an entire app out of the <code>/worker</code> directory alone, if all you're building is a client-side, offline-capable app! Routing is covered in <a href="#routing">the next section</a>. And <a href="/tooling/webflo/docs/public/tooling/webflo/docs/learn/worker-level-routing">here</a> are worker-level routing examples. Service Workers are covered in detail in <a href="/tooling/webflo/docs/public/tooling/webflo/docs/learn/progressive-web-apps">the Progressive Web Apps (PWA) tutorial</a>.</p>
	</blockquote>
	<p>Webflo lets us follow the traditional filesystem layout for a project. The concept of routing is simply drawn on this layout. It is all about the <em>request/response flow and what happens along the path it takes</em>. Webflo's <em>skillfulness with flows</em> is probabbly the best thing about its name.</p>
	<p>If we've grasped the concept of <a href="#project-layout">project layout</a> above, we've done routing in Webflo, basically. What we will now cover is orchestrating routes along the request/response flow.</p>
	<p>In Webflo, we can implement routing at <em>vertical layers</em> between the client and the server. And in a routing layer, we can lay out route handlers in <em>horizontal steps</em> for URL paths of more than one level (e.g <code>/a/b/c</code>).</p>
	<ul>
	<li><a href="#vertical-routing-layers">Vertical Routing Layers</a></li>
	<li><a href="#horizontal-routing-steps">Horizontal Routing Steps</a></li>
	<li><a href="#route-handlers">Route Handlers</a></li>
	</ul>
	<h2 id="vertical-routing-layers">Vertical Routing Layers</h2>
	<p>Each directory discussed in the <a href="#project-layout">Project Layout</a> section above lives at a point on a vertical path between the client and the server. Here's that layout now in the order of request/response flow.</p>
	<ul>
	<li>-&gt; enter <code>/client</code> if exists; continue?</li>
	<li>-&gt; enter <code>/worker</code> if exists; continue?</li>
	<li>-&gt; enter <code>/server</code> if exists; continue?</li>
	<li>-&gt; enter <code>/public</code> if exists; match a static file.</li>
	</ul>
	<p>As seen in the <a href="#project-layout">Project Layout</a> section above, the type of application you're building will determine where you choose to implement routing. It could be just client-side routing, just server-side routing or fullstack routing in any combination of it, as we will see soon.</p>
	<h2 id="horizontal-routing-steps">Horizontal Routing Steps</h2>
	<p>In a routing directory, we can lay out route handlers in a way that represents the structure of the URLs that they will handle. If we chose to do routing in the <code>/server</code> directory, for a example, we would place a route handler at <code>/server/index.js</code> to handle the request URL <code>/</code>, and a route handler at <code>/server/products/index.js</code> to handle the request URL <code>/products</code>, and so on. So, each level of an URL path (e.g <code>/a/b/c</code>) is a place to implement a route handler.</p>
	<p>But in Webflo, requests are processed in steps along an URL path, that is, are made to <em>flow</em> through every handler in the route path until it hits the final handler. Here, the request URL <code>/products</code> would actually flow like this:</p>
	<ul>
	<li>-&gt; enter <code>/server</code><ul>
	<li>-&gt; call <code>/index.js</code>; continue?</li>
	<li>-&gt; enter <code>/products</code><ul>
	<li>-&gt; call <code>/index.js</code>; return response.</li></ul></li></ul></li>
	</ul>
	<p>This is called <em>step routing</em>, and its the most-empowering way to orchestrate routes. </p>
	<h2 id="route-handlers">Route Handlers</h2>
	<p>Route handlers are <code>index.js</code> files that are laid out in the routing directory to handle the application's request/response flow. The most important content of these files are a simple function that is exported as the <em>default export</em> of the file.</p>
	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">flo<span class="token punctuation">,</span> received<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span></code></pre>
	<p>This function is what is called when a request flow hits a route.</p>
	<p>Of the three parameters of a route handler, the <code>next</code> parameter is what it uses to forward a request, if it chooses to. This is the concept of flow control.</p>
	<h2 id="flow-control">Flow Control</h2>
	<p>Given the following route hierarchy…</p>
	<ul>
	<li><code>/server</code><ul>
	<li><code>/index.js</code></li>
	<li><code>/products</code><ul>
	<li><code>/index.js</code></li></ul></li></ul></li>
	</ul>
	<p>Here is how our route handlers could look:</p>
	<p><code>file: /server/index.js</code></p>
	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">process<span class="token punctuation">,</span> received<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Hello World'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span></code></pre>
	<p><code>file: /server/products/index.js</code></p>
	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">process<span class="token punctuation">,</span> received<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Our Products'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span></code></pre>
	<p>In the first handler, we started by asking if the route path has another step ahead. For a path like <code>/products</code>, the answer is yes, and the flow is forwarded to the next handler in the path.</p>
	<p>In the second handler, we again started by asking if the route path has another step ahead. This time, the answer is no, and <em>reponse data</em> is returned here for the request.</p>
	<p>Flow control is especially important for root-level handlers, i.e handlers that handle the application's root URL <code>/</code>, since they act as the <em>gateway</em> to all of the application's routes - both static and dynamic routes.</p>
	<p>Given the following layout…</p>
	<ul>
	<li><code>/server</code><ul>
	<li><code>/index.js</code></li></ul></li>
	<li><code>/public</code><ul>
	<li><code>/index.html</code></li>
	<li><code>/assets</code><ul>
	<li><code>/main.css</code></li></ul></li></ul></li>
	</ul>
	<p>The request URL <code>/index.html</code> would flow this way:</p>
	<ul>
	<li>-&gt; enter <code>/server</code><ul>
	<li>-&gt; call <code>/index.js</code>; continue? Yes! (test <code>next.pathname</code>: <code>'index.html'</code>; then <code>next()</code>)</li></ul></li>
	<li>-&gt; enter <code>/public</code>; match <code>index.html</code></li>
	</ul>
	<p>While, the client request URL <code>/</code> would flow this way:</p>
	<ul>
	<li>-&gt; enter <code>/server</code><ul>
	<li>-&gt; call <code>/index.js</code>; continue? No! (test <code>next.pathname</code>: <code>''</code>; return <code>{ title: 'Hello World', }</code>)</li></ul></li>
	</ul>
	<p>This way, <em>static file URLs</em> are properly allowed at this critical point in the application's URL-handling. Also noteworthy is that the <em>static file URL</em>  <code>/index.html</code> is still handled differently from the <em>path URL</em> <code>/</code>. Thanks to <code>next.pathname</code> and <code>next()</code>.</p>
	<blockquote>
	  <p>As we would expect, if we had no route handlers intercepting the request, both URLs - <code>/index.html</code> and <code>/</code> - would be mapping directly to <code>/public/index.html</code>.</p>
	</blockquote>
	<blockquote>
	  <p>Try figuring out on your own the flow for the URL <code>/assets/main.css</code>.</p>
	</blockquote>
	<p>As a general rule, it is good to always use <code>next.pathname</code>and <code>next()</code> to properly manage the flow, even when writing the last handler for a given route hierarchy. There are many important advantages to this:</p>
	<ul>
	<li><p>Given an earlier example, while the last handler in our route hierarchy is designed for the URL <code>/products</code>, our flow control code in there would make an unexpected, extended URL like <code>/products/specials</code> trigger the <code>next()</code> function; and since nothing like that really exists ahead, an empty respone would be returned, which Webflo gracefully translates into a <code>404</code> HTTP response. Without that check in place, an invalid URL would be returning a <em>falsely-valid</em> response.</p></li>
	<li><p>Furthermore, if, or when, we do eventually place a handler there for that level of the route path, our flow control code in the current handler would have already ensured that requests can flow through to the new level.</p></li>
	<li><p>Or, where another routing layer exists below the given routing layer, our flow control code in this last handler for the route would be forwarding those requests to the next layer.</p>
	<p>In the layout below, the request URL <code>/products/specials</code> that is non-existent in the upper routing layer is actually existent in the lower routing layer.</p>
	<ul>
	<li><code>/server</code><ul>
	<li><code>/index.js</code></li>
	<li><code>/products</code><ul>
	<li><code>/index.js</code></li></ul></li></ul></li>
	<li><code>/public</code><ul>
	<li><code>/products</code><ul>
	<li><code>/specials</code><ul>
	<li><code>/index.html</code></li></ul></li></ul></li></ul></li></ul>
	<p>Calling <code>next()</code> at the last handler for the URL will forward the flow off the <code>/server</code> routing layer into the <code>/public</code> routing layer, and the HTML file is served for the URL.</p>
	<p>Here is how that would flow:</p>
	<ul>
	<li>-&gt; enter <code>/server</code><ul>
	<li>-&gt; call <code>/index.js</code>; continue? Yes! (test <code>next.pathname</code>: <code>'products/specials/index.html'</code>; then <code>next()</code>)</li>
	<li>-&gt; enter <code>/products</code><ul>
	<li>-&gt; call <code>/index.js</code>; continue? Yes! (test <code>next.pathname</code>: <code>'specials/index.html'</code>; then <code>next()</code>)</li></ul></li></ul></li>
	<li>-&gt; enter <code>/public</code>; match <code>products/specials/index.html</code></li></ul>
	<blockquote>
	  <p>A side benefit we've enjoyed with this <code>products/specials</code> URL is the convenience of having it begin life as a static route until we can make it dynamic by creating a route handler for it.</p>
	</blockquote></li>
	</ul>
	<h3 id="parameter-passing">Parameter Passing</h3>
	<p>While being used to forward a request, the <code>next()</code> function can help to pass on anything to the next handler.</p>
	<p><code>file: /server/index.js</code></p>
	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">process<span class="token punctuation">,</span> received<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Hello World'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span></code></pre>
	<p><code>file: /server/products/index.js</code></p>
	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">process<span class="token punctuation">,</span> received<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>received<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
	    <span class="token keyword">if</span> <span class="token punctuation">(</span>received<span class="token punctuation">.</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token comment">// Show recommended products</span>
	        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Recommended Products For You'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Our Products'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span></code></pre>
	<p>In the first handler, we passed an object via the <code>next()</code> function. In the second handler, we received it on the <code>received</code> parameter.</p>
	<p>Parameter passing is a great way to implement one source of truth for subsequent handlers in the route hierarchy. Think authentication, certain database or external API queries, etc. Doing these at the earliest level in the route hierarchy and passing tokens or objects down is a perfect way to avoid repeating code down the hierarchy.</p>
	<h3 id="the-process-object">The <code>process</code> Object</h3>
	<p>When called, route handlers recieve very useful information about the ongoing HTTP process. This and a few other metadata are passed together as an object into the first parameter of the handler - the <code>process</code> parameter.</p>
</div>
<div class="line-numbers match-braces" exportgroup="README.md">
	<h1 id="webflo-documentation">Webflo Documentation</h1>
	<p>Welcome to the Webflo documentation. We hope you find it easy to understand and navigate.</p>
	<p>If you have questions about anything related to the Webflo, you're always welcome to ask on our <a href="https://github.com/webqit/webflo/discussions">GitHub Discussions</a>.</p>
	<h2 id="explore-the-docs">Explore the Docs</h2>
</div>
<template name="api">
    <div class="line-numbers match-braces" exportgroup="README.md">
    	<h1 id="api">API</h1>
    	<p>The Webflo API reference.</p>
    </div>
    <template name="route-handlers">
        <template name="NavigationEvent">
            <div class="line-numbers match-braces" exportgroup="README.md">
            	<h1 id="class-navigationevent-"><code>class NavigationEvent {}</code></h1>
            	<p>This is the <code>NavigationEvent</code> that is fired on every request which route handlers receive on their <code>event</code> parameter.</p>
            	<h2 id="properties">Properties</h2>
            	<ul>
            	<li><strong><code>url: URL</code></strong> - An object representing the request URL. <em>(See class <a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/route-handlers/URL"><code>URL</code></a>.)</em></li>
            	<li><strong><code>request: Request</code></strong> - The incoming request object. <em>(See interface <a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/route-handlers/Request"><code>Request</code></a>.)</em> On the client side, this would be an extended instance of the standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a> interface. On the server side, this would be an extended instance of node.js's <a href="https://nodejs.org/api/http.html#http_class_http_incomingmessage"><code>http.IncomingMessage</code></a> class.</li>
            	<li><strong><code>Response: Class</code></strong> - A <em>class</em> for instantiating a new reponse. <em>(See class <a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/route-handlers/Response"><code>event.Response</code></a>.)</em></li>
            	</ul>
            </div>
        </template>
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="route-handlers">Route Handlers</h1>
        	<p>Route handlers are simple <em>export</em> functions that are designed to intercept a request and return a response. Webflo sticks with one way to define route handlers across all routing layers.</p>
        	<p><strong>Syntax</strong></p>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token punctuation">}</span></code></pre>
        	<p>The syntax also supports naming a handler after a specific HTTP method, where that level of modularity is needed.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token punctuation">}</span></code></pre>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token punctuation">}</span></code></pre>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token punctuation">}</span></code></pre>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token punctuation">}</span></code></pre>
        	<p><em>The default handler will always be called where no method-specific handlers exist.</em></p>
        	<p><strong>Parameters</strong></p>
        	<ul>
        	<li><p><strong><code>event: NavigationEvent</code></strong> - A <a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/route-handlers/NavigationEvent"><code>NavigationEvent</code></a> instance fired for the request.</p></li>
        	<li><p><strong><code>app: Any</code></strong> - Any incoming value being passed by a parent handler. <em>(See <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/routing#parameter-passing">Parameter Passing</a>.)</em></p></li>
        	<li><p><strong><code>next: Function</code></strong> - The function to call to forward a request.</p>
        	<p><strong>Syntax</strong></p>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">[</span>app<span class="token punctuation">[</span><span class="token punctuation">,</span> pathname<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><strong>Parameters</strong></p>
        	<ul>
        	<li><strong><code>app: Any</code></strong> - An optional value to pass to child handler. <em>(See <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/routing#parameter-passing">Parameter Passing</a>.)</em></li>
        	<li><strong><code>pathname: String</code></strong> - An optional pathname specifying the direction of the flow. <em>(See <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/routing#route-bending">Route Bending</a>.)</em></li></ul>
        	<p><strong>Return Value</strong></p>
        	<ul>
        	<li><strong><code>response: Promise&lt;Object|event.Response&gt;</code></strong> - A promise that resolves to the return value from child handler. <em>(Handler return values just ahead.)</em></li></ul></li>
        	</ul>
        	<p><strong>Contextual Parameters</strong></p>
        	<ul>
        	<li><strong><code>this.stepname: String</code></strong> - The exact name of the current step in the URL path.</li>
        	<li><strong><code>this.pathname: String</code></strong> - The pathname to the current step in the URL path.</li>
        	<li><strong><code>this.dirname: String</code></strong> - (Available only in server-side handlers.) The file name of the current handler.</li>
        	<li><strong><code>this.env: Object</code></strong> - (Available only in server-side handlers.) Any environmental variables defined in an <code>.env</code> file at project root.</li>
        	<li><strong><code>this.layout: Object</code></strong> - (Available only in server-side handlers.) An object that exposes the filesystem layout of the project as configured via <code>$ webflo config layout</code>.</li>
        	<li><strong><code>next.stepname: String</code></strong> - The exact name of the next step in the URL path.</li>
        	<li><strong><code>next.pathname: String</code></strong> - The pathname for the rest of the steps in the URL path.</li>
        	</ul>
        	<p><strong>Return Value</strong></p>
        	<ul>
        	<li><strong><code>Any</code></strong> - A plain JavaScript object or array (JSON-stringifiable) may be returned and will translate to the <em>reponse data</em> (stringified JSON) where the request is an <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/requests-and-responses#api-calls-and-page-requests">API Call</a>, or the <em>rendering data</em> where the request is a <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/requests-and-responses#api-calls-and-page-requests">Page Request</a>. (For example: <code>return { title: 'Home | Co' }</code>). Any other value, e.g. <code>0</code>, may be returned, and Webflo will try to send it as-is.</li>
        	<li><strong><code>undefined</code></strong> - An <code>undefined</code> will translate to a <code>404 - Not Found</code> HTTP response.</li>
        	<li><strong><code>Response</code></strong> - An instance of <a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/route-handlers/Response"><code>event.Response</code></a> with a <code>.body</code> property being any of the above may be returned. (For example: <code>return new event.Response({ body: { title: 'Home | Co' }, headers: {...} })</code>).</li>
        	<li><strong><code>Promise</code></strong> - A promise that resolves to any of the above may be returned. (Route handlers can thus be an <code>async</code> function.)</li>
        	</ul>
        	<h2 id="associated-apis">Associated APIs</h2>
        </div>
        <template name="Request">
            <div class="line-numbers match-braces" exportgroup="README.md">
            	<h1 id="interface-request-"><code>interface Request {}</code></h1>
            	<p>This is an interface that is additionally implemented by the incoming request instances that route handlers receive on their <code>event.request</code> parameter. (Client-side <code>event.request</code> objects are an instance of the standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a> interface. Server-side <code>event.request</code> objects are an instance of node.js's <a href="https://nodejs.org/api/http.html#http_class_http_incomingmessage"><code>http.IncomingMessage</code></a> class.)</p>
            	<h2 id="properties">Properties</h2>
            	<ul>
            	<li><strong><code>cookies: Object</code></strong> - An object representing the request <em>cookies</em>. This is an object model of the submitted cookies. Cookie names in path notation are written to their equivalent path in the object. For example, the cookie <code>q7[sublevel1]=deepvalue</code> will be accessed as <code>event.request.cookies.q7.sublevel1</code>;</li>
            	<li><strong><code>accepts: Object</code></strong> - (Available only in server-side instances.) An <em>accepts</em> object for the request as returned by <a href="https://www.npmjs.com/package/accepts">Accepts</a>.</li>
            	</ul>
            	<h2 id="methods">Methods</h2>
            	<ul>
            	<li><p><strong><code>parse(): &lt;Promise&gt;Object</code></strong> - This returns a promise that resolves to the request payload.</p>
            	<p><strong>Syntax</strong></p>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> submits <span class="token operator">=</span> <span class="token keyword">await</span> event<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
            	<p><strong>Return Value</strong></p>
            	<ul>
            	<li><strong><code>submits: Object</code></strong> - The parsed request data. <em>(See <a href="#submits">Submits</a> below.)</em></li></ul></li>
            	</ul>
            	<h2 id="inheritance">Inheritance</h2>
            	<ul>
            	<li><em>For client-side <code>event.request</code> objects, see the standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a> interface.</em></li>
            	<li><em>For server-side <code>event.request</code> objects, see node.js's <a href="https://nodejs.org/api/http.html#http_class_http_incomingmessage"><code>http.IncomingMessage</code></a> class.</em></li>
            	</ul>
            	<h2 id="submits">Submits</h2>
            	<p>This is the object returned by <code>await event.request.parse()</code>, containing the below details of the request payload.</p>
            	<ul>
            	<li><strong>type: String</strong> - The content type of the request payload, based on the <code>Content-Type</code> header of the request. This would be <code>form-data</code> for <code>Content-Type === 'application/x-www-form-urlencoded'</code> or <code>Content-Type === 'multipart/form-data'</code>, <code>json</code> for <code>Content-Type === 'application/json'</code>, <code>plain</code> for <code>Content-Type === 'text/plain'</code>, <code>other</code> for other <code>Content-Type</code> values.</li>
            	<li><strong>payload: Any</strong> - The parsed contents of the request body. This would be <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData"><code>FormData</code></a> for <code>submits.type === 'form-data'</code>, JSON (object, array, or primitive) for <code>submits.type === 'json'</code>, plain text for <code>submits.type === 'text'</code>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array"><code>Uint8Array</code></a> for <code>submits.type === 'other'</code>.</li>
            	<li><strong>inputs: Object</strong> - An object representing the request <em>inputs</em>, as taken from <code>submits.payload</code>, where <code>submits.payload</code> is <code>FormData</code> or where <code>submits.payload</code> is a JSON object or array.</li>
            	<li><strong>files: Object</strong> - An object representing the uploaded <em>files</em>, as taken from <code>submits.payload</code>, where <code>submits.payload</code> is <code>FormData</code>.</li>
            	</ul>
            	<p>The <code>inputs</code> and <code>files</code> properties above are object models of the submitted fields. Field names in path notation are written to their equivalent path in the object.</p>
            	<p>The fields below…</p>
            	<pre class="language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user[profile][visibility]<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>public<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
            	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user[profile][pics][]<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">multiple</span> <span class="token punctuation">/&gt;</span></span></code></pre>
            	<p>…will be accessed in the application as:</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js">lat payload <span class="token operator">=</span> <span class="token keyword">await</span> event<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token keyword">let</span> profileVisibility <span class="token operator">=</span> submits<span class="token punctuation">.</span>inputs<span class="token punctuation">.</span>user<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>visibility<span class="token punctuation">;</span>
            	<span class="token keyword">let</span> profilePics <span class="token operator">=</span> submits<span class="token punctuation">.</span>files<span class="token punctuation">.</span>user<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>pics<span class="token punctuation">;</span></code></pre>
            </div>
        </template>
        <template name="Response">
            <div class="line-numbers match-braces" exportgroup="README.md">
            	<h1 id="class-response-"><code>class Response {}</code></h1>
            	<p>This class is used for returning responses from route handlers. It is available to route handlers on their <code>event.Response</code> parameter.</p>
            	<p>Returning responses with this class allows a handler to include an HTTP status code and some HTTP headers.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	    <span class="token punctuation">}</span>
            	    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            	        <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
            	        <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            	        <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">prop1</span><span class="token operator">:</span> value1<span class="token punctuation">,</span> <span class="token punctuation">}</span>
            	    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token punctuation">}</span></code></pre>
            	<p>But in many cases, creating an <code>event.Response</code> instance will not be necessary as Webflo will dynamically figure out an appropriate HTTP status code along with a <code>Content-Type</code> header for the response as detailed in: <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/requests-and-responses#api-calls-and-page-requests">API Calls and Page Requests</a>. Here, returning the plain data object will just suffice.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	    <span class="token punctuation">}</span>
            	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">prop1</span><span class="token operator">:</span> value1<span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
            	<span class="token punctuation">}</span></code></pre>
            	<blockquote>
            	  <p>With the first handler above returning a <code>Content-Type</code> header, no automatic content negotiation will be made by Webflo.</p>
            	</blockquote>
            	<h2 id="constructor-NaN">Constructor</h2>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
            	<p><strong>Parameters</strong></p>
            	<ul>
            	<li><p><strong><code>params: Object</code></strong> - The response parameters.</p>
            	<ul>
            	<li><p><strong>Fundamental parameters</strong></p></li>
            	<li><p><strong><code>status: Number</code></strong> - An HTTP response code.</p></li>
            	<li><p><strong><code>headers: Object</code></strong> - HTTP header definitions, in the format: <code>{ &lt;Header-Name&gt;: &lt;header-value&gt; }</code>. (For the <code>Set-Cookie</code> header, <code>&lt;header-value&gt;</code> must be an object - <a href="#cookies">as shown below</a>.)</p></li>
            	<li><p><strong><code>body: Any</code></strong> - The respone payload.</p></li>
            	<li><p><strong>Occasional parameters</strong></p></li>
            	<li><p><strong><code>filename: String</code></strong> - Required where <code>body</code> is a <code>File</code> object read from the filesystem.</p></li></ul></li>
            	</ul>
            	<h2 id="properties">Properties</h2>
            	<p><em>The constructor 's <code>params</code> automatically become instance properties. See <a href="#header-shortcuts">Header Shortcuts</a> below for predefined properties.</em></p>
            	<h2 id="methods">Methods</h2>
            	<h3 id="setheadername-value"><code>setHeader(name, value)</code></h3>
            	<p>This method sets an HTTP header.</p>
            	<p><strong>Parameters</strong></p>
            	<ul>
            	<li><strong><code>name: String</code></strong> - The header name - case-insensitive.</li>
            	<li><strong><code>value: Any</code></strong> - The header value. (For the <code>Set-Cookie</code> header, this must be an object - <a href="#cookies">as shown below</a>.)</li>
            	</ul>
            	<p><strong>Return Value</strong></p>
            	<ul>
            	<li><strong><code>this</code></strong> - The <code>response</code> instance.</li>
            	</ul>
            	<h3 id="getheadername"><code>getHeader(name)</code></h3>
            	<p>This method retrieves an HTTP header.</p>
            	<p><strong>Parameters</strong></p>
            	<ul>
            	<li><strong><code>name: String</code></strong> - The header name - case-insensitive.</li>
            	</ul>
            	<p><strong>Return Value</strong></p>
            	<ul>
            	<li><strong><code>Any</code></strong> - The header's value.</li>
            	</ul>
            	<h2 id="header-shortcuts">Header Shortcuts</h2>
            	<p>This class exposes certain properties that make it easier to set and access common HTTP headers. Values assigned to these properties are automatically translated to the corresponding headers under the hood; values obtained from these properties are automatically taken from those same headers.</p>
            	<h3 id="content-type">Content-Type</h3>
            	<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type"><code>Content-Type</code></a> header may be set and accessed using the <code>contentType</code> property of the response object, and may be provided as the <code>contentType</code> field of the constructor's input.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            	    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token string">'Hello Webflo!'</span><span class="token punctuation">,</span>
            	    <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">'text/plain'</span>
            	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { 'Content-Type': 'text/plain' }</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>contentType<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// text/plain</span></code></pre>
            	<h3 id="redirect">Redirect</h3>
            	<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Location"><code>Location</code></a> header may be set and accessed using the <code>redirect</code> property of the response object, and may be provided as the <code>redirect</code> field of the constructor's input.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            	    <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/new-location'</span><span class="token punctuation">,</span>
            	    <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">301</span><span class="token punctuation">,</span>
            	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { Location: '/new-location' }</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>redirect<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// /new-location</span></code></pre>
            	<p>Where no <code>status</code> code is given, the <code>302</code> (temporary redirect) is used.</p>
            	<h3 id="download">Download</h3>
            	<p>The <a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/route-handlers/Response/Content-Disposition"><code>Content-Disposition</code></a> header may be set and accessed using the <code>download</code> property of the response object, and may be provided as the <code>download</code> field of the constructor's input.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            	    <span class="token literal-property property">body</span><span class="token operator">:</span> blob<span class="token punctuation">,</span>
            	    <span class="token literal-property property">download</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { 'Content-Disposition': 'attachment' }</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>download<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// true</span></code></pre>
            	<p>A filename may be added to the download directive.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js">response<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">'filename.jpg'</span><span class="token punctuation">;</span>
            	
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { 'Content-Disposition': 'attachment; filename="filename.jpg"' }</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>download<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// filename.jpg</span></code></pre>
            	<p>Where <code>download</code> is set to <code>false</code>, the default value <code>inline</code> for the header is used.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js">response<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            	
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { 'Content-Disposition': 'inline' }</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>download<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// false</span></code></pre>
            	<h3 id="cache-control">Cache-Control</h3>
            	<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control"><code>Cache-Control</code></a> header may be set and accessed using the <code>cacheControl</code> property of the response object, and may be provided as the <code>cacheControl</code> field of the constructor's input.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            	    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token string">'John Doe.'</span><span class="token punctuation">,</span>
            	    <span class="token literal-property property">cacheControl</span><span class="token operator">:</span> <span class="token string">'no-store'</span><span class="token punctuation">,</span>
            	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { 'Cache-Control': 'no-store' }</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>cacheControl<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// no-store</span></code></pre>
            	<h3 id="cross-origin-requests-cors">Cross-Origin Requests (CORs)</h3>
            	<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin"><code>Access-Control-Allow-Origin</code></a> header may be set and accessed using the <code>cors</code> property of the response object, and may be provided as the <code>cors</code> field of the constructor's input.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            	    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token string">'John Doe.'</span><span class="token punctuation">,</span>
            	    <span class="token literal-property property">cors</span><span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span>
            	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { 'Access-Control-Allow-Origin': '*' }</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>cors<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// *</span></code></pre>
            	<p>Where <code>cors</code> is set to <code>true</code>, the wildcard <code>*</code> is used. Where <code>false</code>, an empty string <code>''</code> is used.</p>
            	<h3 id="cookies">Cookies</h3>
            	<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie"><code>Set-Cookie</code></a> header may be set and accessed using the <code>cookies</code> property of the response object, and may be provided as the <code>cookies</code> field of the constructor's input.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            	    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token string">'John Doe.'</span><span class="token punctuation">,</span>
            	    <span class="token literal-property property">cookies</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            	        <span class="token literal-property property">cookie1</span><span class="token operator">:</span> <span class="token string">'value1'</span><span class="token punctuation">,</span>
            	        <span class="token literal-property property">cookie2</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'value12'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            	    <span class="token punctuation">}</span><span class="token punctuation">,</span>
            	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { 'Set-Cookie': { cookie1: 'value1', cookie2: { value: 'value12' } } }</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>cookies<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { cookie1: 'value1', cookie2: { value: 'value12' } }</span></code></pre>
            	<p>Cookie attributes may be set - in camel-case names.</p>
            	<pre class="language-js" tabindex="0"><code class="js language-js">response<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>cookie2<span class="token punctuation">.</span>secure <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            	response<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>cookie2<span class="token punctuation">.</span>sameSite <span class="token operator">=</span> <span class="token string">'Strict'</span><span class="token punctuation">;</span>
            	response<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>cookie2<span class="token punctuation">.</span>maxAge <span class="token operator">=</span> <span class="token number">2592000</span><span class="token punctuation">;</span></code></pre>
            	<p>Where <code>value</code> is set to <code>false</code> and no <code>maxAge</code> attribute is set, a <code>maxAge</code> of <code>0</code> is implied, effectively expiring the cookie immediately.</p>
            </div>
        </template>
        <template name="URL">
            <div class="line-numbers match-braces" exportgroup="README.md">
            	<h1 id="class-url-"><code>class URL {}</code></h1>
            	<p>This is an interface that is additionally implemented by the request URL objects that route handlers receive on their <code>event.url</code> parameter. (Both client-side and server-side <code>event.url</code> objects are instances of the standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL"><code>URL</code></a> interface.)</p>
            	<h2 id="properties">Properties</h2>
            	<ul>
            	<li><p><strong><code>query: Object</code></strong> - An object model of the URL query parameters. This maintains a live, two-way relationship between itself and the <code>.search</code> string property of its base URL object. Changes made on one end are automatically reflected on the other.</p>
            	<p><strong>Case:</strong></p>
            	<blockquote>
            	  <p><em><code>event.url.href</code>: <code>https://example.com/path?q1=value1&amp;q2=value2</code></em></p>
            	</blockquote>
            	<p><em>Modify the query string:</em></p>
            	<pre class="language-js" tabindex="0"><code class="js language-js">event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>search <span class="token operator">+=</span> <span class="token string">'&amp;q3=value3'</span><span class="token punctuation">;</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { q1: 'value1', q2: 'value2', q3: 'value3' }</span></code></pre>
            	<p><em>Replace the query object:</em></p>
            	<pre class="language-js" tabindex="0"><code class="js language-js">event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>query <span class="token operator">+=</span> <span class="token punctuation">{</span> <span class="token literal-property property">q4</span><span class="token operator">:</span> <span class="token string">'value4'</span><span class="token punctuation">,</span> <span class="token literal-property property">q5</span><span class="token operator">:</span> <span class="token string">'value5'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// ?q4=value4&amp;q5=value5</span></code></pre>
            	<p><em>Modify the query object in-place:</em></p>
            	<pre class="language-js" tabindex="0"><code class="js language-js">event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>query<span class="token punctuation">.</span>q6 <span class="token operator">=</span> <span class="token string">'value6'</span><span class="token punctuation">;</span>
            	<span class="token keyword">delete</span> event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>query<span class="token punctuation">.</span>q4<span class="token punctuation">;</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// ?q5=value5&amp;q6=value6</span></code></pre>
            	<p>Additionally, query parameter names in path notation are written to their equivalent path in the object model.</p>
            	<p><strong>Case:</strong></p>
            	<blockquote>
            	  <p><em><code>event.url.href</code>: <code>https://example.com/path</code></em></p>
            	</blockquote>
            	<p><em>Set an path parameter that resolves to an object:</em></p>
            	<pre class="language-js" tabindex="0"><code class="js language-js">event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>search <span class="token operator">=</span> <span class="token string">'q7[sublevel1][sublevel2]=deepvalue'</span><span class="token punctuation">;</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { q7: { sublevel1: { sublevel2: 'deepvalue' } } }</span></code></pre>
            	<p><em>Set an path parameter that resolves to an array:</em></p>
            	<pre class="language-js" tabindex="0"><code class="js language-js">event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>search <span class="token operator">=</span> <span class="token string">'q7[sublevel1][sublevel2][]=deepvalue'</span><span class="token punctuation">;</span>
            	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>url<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	<span class="token comment">// { q7: { sublevel1: { sublevel2: [ 'deepvalue' ] } } }</span></code></pre></li>
            	</ul>
            	<h2 id="inheritance">Inheritance</h2>
            	<ul>
            	<li><em>See the standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL"><code>URL</code></a> interface.</em></li>
            	</ul>
            </div>
        </template>
    </template>
</template>
<template name="build-system">
    <div class="line-numbers match-braces" exportgroup="README.md">
    	<h1 id="build-system">Build System</h1>
    </div>
    <template name="javascript">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="javascript-bundling">JavaScript Bundling</h1>
        </div>
    </template>
    <template name="static-build">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="static-site-generation">Static Site Generation</h1>
        </div>
    </template>
</template>
<template name="cli">
    <div class="line-numbers match-braces" exportgroup="README.md">
    	<h1 id="command-line">Command-Line</h1>
    	<p>The Webflo Command-Line reference.</p>
    </div>
    <template name="build">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="-webflo-config"><code>&gt; webflo config</code></h1>
        </div>
    </template>
    <template name="cert">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="self-hosting">Self Hosting</h1>
        </div>
    </template>
    <template name="config">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="-webflo-build"><code>&gt; webflo build</code></h1>
        </div>
    </template>
    <template name="deploy">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="-webflo-deploy"><code>&gt; webflo deploy</code></h1>
        </div>
    </template>
    <template name="help">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="-webflo-help"><code>&gt; webflo help</code></h1>
        </div>
    </template>
    <template name="server">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="-webflo-server"><code>&gt; webflo :server</code></h1>
        	<!--Server lifecycle management.-->
        </div>
    </template>
</template>
<template name="client-runtime">
    <div class="line-numbers match-braces" exportgroup="README.md">
    	<h1 id="client-runtime">Client Runtime</h1>
    </div>
    <template name="navigation">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="navigation">Navigation</h1>
        	<!--
        	## Links
        	
        	+ History back and forward
        	+ Target links, and keypressed links are unintercepted
        	+ Anchor Links are unintercepted
        	+ Query parameters are simply reactive URLs
        	
        	## Forms/Submits
        	
        	### The Get Method and query parameters and hash, files
        	
        	## Indicators
        	+ Network: Loading/Progress, Error
        	+ Online/Offline
        	
        	
        	## Scroll-to-start
        	-->
        </div>
    </template>
    <template name="pwa">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="progressive-web-apps">Progressive Web Apps</h1>
        	<!--
        	Manifests
        	Service Workers
        	Worker-Level Routing
        	Worker-Level Events
        	Caching Strategies
        	Push Notifications
        	Installation
        	-->
        </div>
    </template>
</template>
<template name="deployment">
    <div class="line-numbers match-braces" exportgroup="README.md">
    	<h1 id="deployment">Deployment</h1>
    </div>
    <template name="managed-hosting">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="managed-hosting">Managed Hosting</h1>
        </div>
    </template>
    <template name="self-hosting">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="self-hosting">Self Hosting</h1>
        </div>
    </template>
</template>
<template name="fundamentals">
    <div class="line-numbers match-braces" exportgroup="README.md">
    	<h1 id="fundamentals">Fundamentals</h1>
    </div>
    <template name="rendering">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="rendering">Rendering</h1>
        </div>
    </template>
    <template name="requests-and-responses">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="http-requests-and-responses">HTTP Requests and Responses</h1>
        	<p>Routes in Webflo can be designed for different types of requests and responses.</p>
        	<h2 id="api-calls-and-page-requests">API Calls and Page Requests</h2>
        	<p>HTTP requests are capable of specifying (using the <code>Accept</code> header) in which format a response should be returned by the server. Webflo makes it possible to use this medium to access the <em>data component</em> of a route differently from its <em>HTML component</em>. Routes in Webflo are therefore designed to treat data as a standalone component from HTML, enabling reusability for both.</p>
        	<p>A route handler would simply concern itself with data.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js">webflo<span class="token operator">-</span>app
        	  ├⏤server
        	     ├⏤index<span class="token punctuation">.</span>js
        	        <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	            <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	                <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	            <span class="token punctuation">}</span>
        	            <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	        <span class="token punctuation">}</span></code></pre>
        	<p>The data returned would be returned as-is - a JSON response - where the <code>Accept</code> header of the request  does not match <code>text/html</code> but matches <code>application/json</code>. This would be taken as an <em>API call</em>. The response header is automatically given <code>Content-Type: 'application/json'</code>.</p>
        	<p>For API endpoints, the above would be everything for the request and response flow. For routes that will deliver a rendered HTML response, the HTML to render would be a standalone file in the <code>/public</code> directory.</p>
        	<pre class="language-html" tabindex="0"><code class="html language-html">webflo-app
        	  ├⏤public
        	    ├⏤index.html <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Webflo knows to find a <code>/public/index.html</code> file for <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/rendering">rendering</a> the data returned by <code>/server/index.js</code>. Nested routes are given the choice to either have their own <code>index.html</code> file at the corresponding location in the <code>/public</code> directory or inherit the closest one up in their ancestrial line.</p>
        	<p>A rendered HTML page is therefore returned where the <code>Accept</code> header of the request matches <code>text/html</code> (as a web browser would normally have it for page navigation). This would be taken as a <em>page request</em>. The response header is automatically given <code>Content-Type: 'text/html'</code>.</p>
        	<p>The general rule for this content negotiation therefore becomes: a rendered HTML response for <em>page requests</em> (<code>Accept</code> header matching <code>text/html</code>), and a JSON response for API calls (<code>Accept</code> header not matching <code>text/html</code> but matching <code>application/json</code>).</p>
        	<blockquote>
        	  <p>An automatic <code>Accept: application/json</code> header - <a href="#automatic-headers">just ahead</a> - can always be used on API-only endpoints to tell Webflo to always return a JSON response.</p>
        	</blockquote>
        	<p>As for the static <code>index.html</code> file in the <code>/public</code> directory, being in the <code>/public</code> directory means that a direct access would still be possible, as it is with all the files in this directory. But route handlers will have a chance to intercept this direct access, where actually necessary.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js">webflo<span class="token operator">-</span>app
        	  ├⏤server
        	  │  ├⏤index<span class="token punctuation">.</span>js
        	  │     <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	  │         <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname <span class="token operator">&amp;&amp;</span> next<span class="token punctuation">.</span>stepname <span class="token operator">!==</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	  │             <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	  │         <span class="token punctuation">}</span>
        	  │         <span class="token comment">// Both URLs "/" and "/index.html" will lead here </span>
        	  │         <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	  │     <span class="token punctuation">}</span>
        	  ├⏤<span class="token keyword">public</span>
        	    │  <span class="token comment">// No more direct access to this file</span>
        	    ├⏤index<span class="token punctuation">.</span>html <span class="token operator">&lt;</span>html<span class="token operator">&gt;</span><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span><span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span></code></pre>
        	<p>Overall, this approach lets us <em>reuse more</em> and <em>repeat less</em>. A route handler alone gives us data; an <code>index.html</code> file alone gives us static HTML; a combination gives us the choice of either data, static HTML or rendered HTML - in just simple <em>content negotiation</em>.</p>
        	<p>Now, where a route handler returns a value other than an array or an object, no content negotiation takes place (and no automatic <code>Content-Type</code> header). Webflo will try to make a string response of the returned value.</p>
        	<h2 id="other-types-of-responses">Other Types of Responses</h2>
        	<p>Route handlers may return an instance of the <a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/event_Response"><code>event.Response</code></a> class as a response. And Webflo's automatic content negotiation can still take place.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        	        <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        	    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<p>The response data will be available in the <code>.body</code> property of the instance. Parent handlers may test for this type of response object to obtain the actual reponse data.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token keyword">let</span> childResponse <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	        <span class="token keyword">if</span> <span class="token punctuation">(</span>childResponse <span class="token keyword">instanceof</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	            childResponse <span class="token operator">=</span> childResponse<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
        	            <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	        <span class="token punctuation">}</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<p>HTTP status codes and headers may be returned with the instance via the <code>status</code> and <code>headers</code> fields respectively.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        	    <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        	    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        	    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>The <code>Content-Type</code> header is a special header that will mark the response as final; no automatic content negotiation will take place. This is also the case with the <code>Location</code> header, used to initiate a redirect.</p>
        	<p><a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/event_Response#header-shortcuts">Header Shortcuts</a> may also be used to more conveniently set and access common headers.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">event<span class="token punctuation">.</span>Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        	    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">'X-Custom-Header'</span><span class="token operator">:</span> <span class="token string">'some value'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        	    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// JSON Boolean value</span>
        	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	response<span class="token punctuation">.</span>contentType <span class="token operator">=</span> <span class="token string">'application/json'</span><span class="token punctuation">;</span>
        	response<span class="token punctuation">.</span>cacheControl <span class="token operator">=</span> <span class="token string">'no-store'</span><span class="token punctuation">;</span></code></pre>
        	<pre class="language-js" tabindex="0"><code class="js language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token comment">// { 'X-Custom-Header': 'some value', 'Content-Type': 'application/json', 'Cache-Control': 'no-store' }</span>
        	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>contentType<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token comment">// 'application/json'</span>
        	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>cacheControl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token comment">// 'no-store'</span></code></pre>
        	<p>And the <code>.setHeader()</code> and <code>.getHeader()</code> methods can always be used to set and access headers in a case-insensitive manner.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">'x-custom-Header'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token comment">// 'some value'</span></code></pre>
        	<p>Put together, any type of response can be conveniently returned this way.</p>
        	<p>Now, where a route handler returns nothing, Webflo will know to return a <code>404</code> HTTP response.</p>
        	<h2 id="the-request-and-response-cycle">The Request and Response Cycle</h2>
        	<p>HTTP request and response cycles are generally controlled by headers. Webflo offers the easiest way to work with headers.</p>
        	<h3 id="automatic-headers">Automatic Headers</h3>
        	<p>Request headers can always be sent by a HTTP client or browser, and <a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/event_Response">response headers</a> can always be returned by route handlers. But in Webflo, it is possible to get certain headers automatically added to these requests and responses. These <em>automatic headers</em> are defined on the command line using <a href="/tooling/webflo/docs/public/tooling/webflo/docs/cli/config#headers"><code>$ webflo config headers</code></a>.</p>
        	<p>The underlying JSON config file <code>.webqit/webflo/config/headers.json</code> may be directly edited. Entries go into the <code>entries</code> array field as shown below.</p>
        	<pre class="language-json" tabindex="0"><code class="json language-json">{
        	    "entries": [
        	        {
        	            "type": "request", // Or "response"
        	            "url": "/api/v1", // Or a glob pattern
        	            "name": "Accept", // Or any other header
        	            "value": "application/json"
        	        }
        	    ]
        	}</code></pre>
        	<p><strong>Fields</strong></p>
        	<ul>
        	<li><p><strong><code>type: String</code></strong> - The header type. This can be one of two values: <code>request</code> for request headers, <code>response</code> for response headers.</p></li>
        	<li><p><strong><code>url: String</code></strong> - The URL on which the header takes effect. This can be a glob pattern. For example, the value <code>*</code> would mean <em>any URL</em>, and the value <code>*.js</code> would mean <em>any URL ending as <code>.js</code></em>, and so on. <em>(See the <a href="https://www.npmjs.com/package/micromatch">Micromatch</a> documentation for a detailed glob syntax.)</em></p></li>
        	<li><p><strong><code>name: String</code></strong> - The header name. This can take a convention that gets the header either appended or prepended to any existing declaration in the target headers list: the prefix <code>+</code> to append; the suffix <code>+</code> to prepend.</p>
        	<p>In the example above, the name <code>Accept</code> would set the value <code>application/json</code> as the <code>Accept</code> header of the incoming request; but <code>+Accept</code> would get it rather appended to any existing <code>Accept</code> header, and <code>Accept+</code> would get it prepended.</p></li>
        	<li><p><strong><code>value: String</code></strong> - The header value.</p></li>
        	</ul>
        	<h3 id="automatic-redirects">Automatic Redirects</h3>
        	<p>A <em><a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/event_Response#redirect">redirect response header</a></em> can always be returned by route handlers. But in Webflo, it is possible to get certain URLs automatically redirected as the requests enter the application. <em>Automatic redirects</em> are defined on the command line using <a href="/tooling/webflo/docs/public/tooling/webflo/docs/cli/config#redirects"><code>$ webflo config redirects</code></a>.</p>
        	<p>The underlying JSON config file <code>.webqit/webflo/config/redirects.json</code> may be directly edited. Entries go into the <code>entries</code> array field as shown below.</p>
        	<pre class="language-json" tabindex="0"><code class="json language-json">{
        	    "entries": [
        	        {
        	            "from": "/old-url", // Or a glob pattern
        	            "to": "/api/v1",
        	            "reuseQuery": true, // false by default
        	            "code": "302" // 301 by default
        	        }
        	    ]
        	}</code></pre>
        	<p><strong>Fields</strong></p>
        	<ul>
        	<li><p><strong><code>from: String</code></strong> - The URL on which the redirect takes effect. This can be a glob pattern. For example, the value <code>*</code> would mean <em>any URL</em>, and the value <code>*.js</code> would mean <em>any URL ending as <code>.js</code></em>, and so on. <em>(See the <a href="https://www.npmjs.com/package/micromatch">Micromatch</a> documentation for a detailed glob syntax.)</em></p></li>
        	<li><p><strong><code>to: String</code></strong> - The destination URL. Where the <code>from</code> URL is a glob pattern that matches only the begining part of an incoming request URL, the final destination URL will be the <code>to</code> URL plus the rest of the incoming request URL.</p>
        	<p>For example, if the <code>from</code> URL is <code>/old-url*</code> and the <code>to</code> URL is <code>/new-url</code>, and the incoming request URL is <code>/old-url/page</code>, the final destination URL will be <code>/new-url/page</code>.</p></li>
        	<li><p><strong><code>reuseQuery: Boolean</code></strong> - A flag that specifies whether to reuse the query parameters from the incoming request URL in the destination URL. Default is false.</p>
        	<p>For example, if the incoming request URL is <code>/old-url/page?q=search-word</code>, the final destination URL will be <code>/new-url/page?q=search-word</code>.</p></li>
        	<li><p><strong><code>code: Number</code></strong> - The redirect code. This can be one of two values: <code>301</code> for a permanent redirect - the default, <code>302</code> for a temporary redirect.</p></li>
        	</ul>
        	<blockquote>
        	  <p>Webflo also supports HTTPS redirects and <code>www</code> subdomain redirect. See <a href="/tooling/webflo/docs/public/tooling/webflo/docs/cli/config#server"><code>$ webflo config server</code></a> for details.</p>
        	</blockquote>
        </div>
    </template>
    <template name="routing">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="routing">Routing</h1>
        	<p>In Webflo, routing is filesystem-based. Here, we simply create a file on the filesystem and it automatically becomes available as an URL.</p>
        	<p>The application's root URL <code>/</code>, for example, would be implemented by creating an <em>index file</em> - <code>&lt;indexFile&gt;</code> - in a chosen <em>routing directory</em> - <code>&lt;routingDirectory&gt;</code>.</p>
        	<pre class="language-text" tabindex="0"><code class="text language-text">&lt;routingDirectory&gt;
        	  ├⏤&lt;indexFile&gt;</code></pre>
        	<p>Nested URLs like <code>/shop</code> would be implemented by creating the equivalent directory structure <code>/&lt;routingDirectory&gt;/shop/&lt;indexFile&gt;</code>.</p>
        	<pre class="language-text" tabindex="0"><code class="text language-text">&lt;routingDirectory&gt;
        	  ├⏤shop
        	  │  ├⏤&lt;indexFile&gt;
        	  ├⏤&lt;indexFile&gt;</code></pre>
        	<p>The actual name for <code>&lt;routingDirectory&gt;</code> and <code>&lt;indexFile&gt;</code> will depend on the URL-handling facilities for the URL.</p>
        	<h3 id="url-handling-facilities">URL-Handling Facilities</h3>
        	<p>Depending on the type of application, a given URL can be internally handled either statically or dynamically. Webflo lets us define an application's URL-handling facilities in dedicated directories.</p>
        	<ul>
        	<li><strong><code>/public</code></strong> - for static files serving</li>
        	<li><strong><code>/server</code></strong> - for server-side routing</li>
        	<li><strong><code>/client</code></strong> - for client-side routing</li>
        	<li><strong><code>/worker</code></strong> - for worker-level routing</li>
        	</ul>
        	<h4 id="the-public-directory">The <code>/public</code> Directory</h4>
        	<p>This is where static files (like images or CSS files) are placed to be served automatically. <em>(Implement this directory for an application that serves static content.)</em></p>
        	<p>The application's homepage <code>/index.html</code>, for example, can be served statically by simply placing an <code>index.html</code> file in the <code>/public</code> directory.</p>
        	<pre class="language-html" tabindex="0"><code class="html language-html">public
        	  ├⏤index.html  -  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>Home | Co<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<blockquote>
        	  <p>Webflo automatically finds the <code>index.html</code> file where a path URL <code>/</code> is given.</p>
        	</blockquote>
        	<h4 id="the-server-directory">The <code>/server</code> Directory</h4>
        	<p>This is where JavaScript files for server-side routing are placed. <em>(Implement this directory for a server-side application, or an isomorphic application, or an API backend.)</em></p>
        	<p>The application's root URL <code>/</code>, for example, can be handled on the server by simply placing an <code>index.js</code> file in the <code>/server</code> directory.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js">server
        	  ├⏤index<span class="token punctuation">.</span>js  <span class="token operator">-</span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre>
        	<blockquote>
        	  <p>The data returned by these handlers are either <em>rendered</em> into the correspnding <code>index.html</code> page from the <code>/public</code> directory - <em><a href="#rendering">Server-Side Rendering</a></em>, or returned as a JSON response - <em><a href="#rendering">API Responses</a></em>. The <code>Accept</code> header of the request is used to determine this. (Learn more in <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/requests-and-responses">Requests and Responses</a>.)</p>
        	</blockquote>
        	<h4 id="the-client-directory">The <code>/client</code> Directory</h4>
        	<p>This is where JavaScript files for client-side routing are placed. <em>(Implement this directory for an application that will deliver a rich client-side experience.)</em></p>
        	<p>The application's root URL <code>/</code>, for example, can be handled on the client (the browser) by simply placing an <code>index.js</code> file in the <code>/client</code> directory.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js">client
        	  ├⏤index<span class="token punctuation">.</span>js  <span class="token operator">-</span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre>
        	<blockquote>
        	  <p>The data returned by these handlers are <em>rendered</em> into the already running page in the browser - <em><a href="#rendering">Client-Side Rendering</a></em>.</p>
        	</blockquote>
        	<h4 id="the-worker-directory">The <code>/worker</code> Directory</h4>
        	<p>This is where JavaScript files for service-worker-level routing are placed. <em>(Implement this directory for an application that will have special offline capabilities.)</em></p>
        	<p>The application's root URL <code>/</code>, for example, can be handled in the browser's service-worker layer by simply placing an <code>index.js</code> file in the <code>/worker</code> directory.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js">worker
        	  ├⏤index<span class="token punctuation">.</span>js  <span class="token operator">-</span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre>
        	<blockquote>
        	  <p>The data returned by these handlers are <em>rendered</em> into the already running page in the browser - <em><a href="#rendering">Client-Side Rendering</a></em>. (These handlers will also be able to intercept certain other browser-generated requests that cannot be intercepted by client-level handlers.)</p>
        	</blockquote>
        	<h3 id="url-handling-patterns">URL-Handling Patterns</h3>
        	<p>URL-handling in Webflo is like an assembly line. Route handlers that are related by a given URL are able to communicate to fullfil a request with a dynamically composed response.</p>
        	<p>Route handlers recieve a <code>next()</code> function that they can call to get a request moving in this assembly line.</p>
        	<h4 id="flow-through">Flow-Through</h4>
        	<p>In real life, the equivalent directory structure for nested URLs creates a parent-child relationship. URL handlers are implicitly subject to this relationship.</p>
        	<pre class="language-text" tabindex="0"><code class="text language-text">&lt;routingDirectory&gt;
        	  ├⏤shop
        	  │  ├⏤index.js
        	  ├⏤index.js</code></pre>
        	<p>Webflo follows an approach that gets a request going from a parent handler to a child handler. This creates a <em>flow-through</em> effect that lets us take advantage of this relationship for new routing capabilities.</p>
        	<p>A request for the URL <code>/shop</code>, for example, would <em>flow through</em> two route handlers - the first two handlers below.</p>
        	<blockquote>
        	  <p><em><code>file: /server/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token keyword">let</span> shop <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>shop<span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> shop<span class="token punctuation">.</span>title <span class="token operator">+</span> <span class="token string">' | Co'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<blockquote>
        	  <p><em><code>file: /server/shop/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Shop'</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<blockquote>
        	  <p><em><code>file: /server/shop/products/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Products'</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        	        <span class="token operator">...</span>
        	    <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<p>In the first handler, we started by asking <code>next.stepname</code> if the URL has another step ahead. For an URL like <code>/shop</code>, the answer is yes, and the request is exchanged for the child's data. The parent handler thus intercepts both the request going into the child and the response coming back from the child.</p>
        	<p>In the second handler, we again started by asking <code>next.stepname</code> if the URL has another step ahead. This time, the answer is no, and reponse data is returned here for the request.</p>
        	<p>As the URL <code>/shop</code> terminates on the second handler, an outright call to <code>next()</code> does not get the request to the third handler. Rather, a <em>fall-through</em> effect happens.</p>
        	<h4 id="fall-through">Fall-Through</h4>
        	<p>In real life, each of Webflo's routing directories above represents a point between the browser and the server across which a request flows. Put together, they give us the following URL-handling layers in the given order.</p>
        	<pre class="language-text" tabindex="0"><code class="text language-text">/client     ⥮</code></pre>
        	<pre class="language-text" tabindex="0"><code class="text language-text">/worker     ⥮</code></pre>
        	<pre class="language-text" tabindex="0"><code class="text language-text">/server     ⥮</code></pre>
        	<pre class="language-text" tabindex="0"><code class="text language-text">/public     ⥮</code></pre>
        	<p>Webflo makes it possible to intercept a request in one layer and forward it <em>down</em> to the next layer. For example, a navigation to the root URL <code>/</code> can be intercepted by the client-side handler <code>/client/index.js</code> and forwarded down - to be further intercepted by the server-side handler <code>/server/index.js</code>, where exists. This creates a <em>fall-through</em> effect that lets us combine powerful cross-stack routing capabilities on a single URL.</p>
        	<p>A request for the root URL <code>/</code>, for example, would <em>fall through</em> on a call to <code>next()</code>.</p>
        	<blockquote>
        	  <p><em>file: <code>/client/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">let</span> remoteContent <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	    <span class="token keyword">return</span> remoteContent <span class="token operator">?</span> remoteContent <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Offline Home | Co'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<blockquote>
        	  <p><em>file: <code>/server/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token keyword">let</span> shop <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>shop<span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> shop<span class="token punctuation">.</span>title <span class="token operator">+</span> <span class="token string">' | Co'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<p>Put together, requests fall through layers in the following flow:</p>
        	<pre class="language-text" tabindex="0"><code class="text language-text">-&gt; enter `/client` if exists
        	    -&gt; call `index.js`; return response here? or continue</code></pre>
        	<pre class="language-text" tabindex="0"><code class="text language-text">-&gt; enter `/worker` if exists
        	    -&gt; call `index.js`; return response here? or continue</code></pre>
        	<pre class="language-text" tabindex="0"><code class="text language-text">-&gt; enter `/server` if exists
        	    -&gt; call `index.js`; return response here? or continue</code></pre>
        	<pre class="language-text" tabindex="0"><code class="text language-text">-&gt; enter `/public` if exists; find and return `index.html`</code></pre>
        	<p>Now, with the <code>/public</code> directory being the last in the stack, a fall-through effect will be especially important for an application that will both implement dynamic routes and serve static content. Static file requests must be forwarded in order to reach the <code>/public</code> directory.</p>
        	<p>The handler below has been designed to ensure that the URL <code>/logo.png</code> and <code>/index.html</code>, and in fact, other URLs that are not exactly terminating on it, can <em>flow through</em> and <em>fall through</em>.</p>
        	<pre class="language-js" tabindex="0"><code class="js language-js">webflo<span class="token operator">-</span>app
        	  ├⏤server
        	  │  ├⏤index<span class="token punctuation">.</span>js
        	  │     <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	  │         <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token comment">/* logo.png or index.html, or other */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	  │             <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	  │         <span class="token punctuation">}</span>
        	  │         <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	  │     <span class="token punctuation">}</span>
        	  ├⏤<span class="token keyword">public</span>
        	    ├⏤index<span class="token punctuation">.</span>html
        	    ├⏤logo<span class="token punctuation">.</span>png</code></pre>
        	<p>The above also demonstrates that the URLs <code>/</code> and <code>/index.html</code> would mean two different things where a route handler exists.</p>
        	<ul>
        	<li>While the URL <code>/</code> would terminate on the handler, the URL <code>/index.html</code> would flow through and fall to the <code>/public</code> directory and a static file is served.</li>
        	<li>If the request to <code>/</code> was made with an <code>Accept</code> header that matches <code>text/html</code>, Webflo will know to <em>render</em> the handler's response into the <code>index.html</code> file of the URL and return a rendered HTML response. Otherwise, Webflo will know to return the handler's response as-is - a JSON response. This is detailed in <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/requests-and-responses">Requests and Responses</a>,</li>
        	</ul>
        	<h2 id="route-handlers">Route Handlers</h2>
        	<p>Route handlers are simple functions that are designed to handle incoming requests on an URL and return response data. The standard syntax for a route handler and their contextual parameters and return values are detailed in the <a href="/tooling/webflo/docs/public/tooling/webflo/docs/api/route-handlers">Route Handlers API</a> section; and it is all simple to reason about: route handlers use the <code>this.pathname</code> and <code>this.stepname</code> to know its place in the current URL, the <code>next.pathname</code> and <code>next.stepname</code> to ask about a forward flow, and the <code>next()</code> function to forward a request.</p>
        	<h3 id="parameter-passing">Parameter Passing</h3>
        	<p>While being used to forward a request, the <code>next()</code> function can help to pass on anything to the next handler.</p>
        	<blockquote>
        	  <p><em>file: <code>/server/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home | Co'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<blockquote>
        	  <p><em>file: <code>/server/shop/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token comment">// Show recommended products</span>
        	        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Shop Plus Recomendations'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Shop'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<p>In the first handler, we passed an object with the <code>next()</code> function. In the second handler, we received it on the <code>app</code> parameter. (The <code>app</code> parameter is always empty for root URL handlers as they have no parent handler.)</p>
        	<blockquote>
        	  <p>Parameter passing is a great way to implement one source of truth for every handler on an URL. Think authentication states, certain database or external API tokens, etc, that would be needed at different levels in the handler hierarchy.</p>
        	</blockquote>
        	<h3 id="route-bending">Route Bending</h3>
        	<p>While a call to <code>next()</code> automatically takes the request to the next handler in line for an URL, a redirect to an adjacent handler can be made. The <code>next()</code> function accepts a second parameter that specifies in which direction to go.</p>
        	<blockquote>
        	  <p><em>file: <code>/server/docs/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token comment">// Serve the highest version of the docs for /latest</span>
        	    <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname <span class="token operator">===</span> <span class="token string">'latest'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> next<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'latest'</span><span class="token punctuation">,</span> <span class="token string">'v2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	    <span class="token punctuation">}</span>
        	    <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<blockquote>
        	  <p><em>file: <code>/server/docs/v2/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Docs: V2'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<blockquote>
        	  <p><em>file: <code>/server/docs/v1/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Docs: V1'</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        	<span class="token punctuation">}</span></code></pre>
        	<h3 id="wildcard-steps">Wildcard Steps</h3>
        	<p>A handler can be designed for a step that is dynamically resolved from the request URL. This generic point in the layout is called a <em>wildcard step</em>. Wildcard steps are always a hyphen <code>-</code>. (Notice the <code>-</code> hyphen in the directory below.)</p>
        	<pre class="language-text" tabindex="0"><code class="text language-text">&lt;routingDirectory&gt;
        	  ├⏤docs
        	  │  ├⏤-
        	  │  │  ├⏤index.js
        	  │  ├⏤index.js
        	  ├⏤index.js</code></pre>
        	<p>Above, the handler at <code>/server/docs/-/index.js</code> will be called for all matching URLs - like <code>/docs/v1</code>, <code>/docs/v2/getting-started/overview</code>, etc.</p>
        	<blockquote>
        	  <p><em>file: <code>/server/docs/-/index.js</code></em></p>
        	</blockquote>
        	<pre class="language-js" tabindex="0"><code class="js language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> app<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	    <span class="token comment">// The resolved stepname from the request URL will be available as this.stepname</span>
        	    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>stepname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// v2</span>
        	    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>next<span class="token punctuation">.</span>stepname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// getting-started</span>
        	    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>next<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// getting-started/overview</span>
        	<span class="token punctuation">}</span></code></pre>
        </div>
    </template>
    <template name="templating">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="templating">Templating</h1>
        </div>
    </template>
</template>
<template name="getting-started">
    <div class="line-numbers match-braces" exportgroup="README.md">
    	<h1 id="getting-started">Getting Started</h1>
    </div>
    <template name="installation">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="installation">Installation</h1>
        	<p>Every Webflo project starts on an empty directory that you can create on your machine. The command below will make a new directory <code>webflo-app</code> from the terminal and navigate into it.</p>
        	<pre class="language-bash" tabindex="0"><code class="bash language-bash">mkdir webflo-app
        	cd webflo-app</code></pre>
        	<p>With <a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm">npm available on your terminal</a>, the following command will install Webflo to your project:</p>
        	<blockquote>
        	  <p>System Requirements: Node.js 12.0 or later</p>
        	</blockquote>
        	<pre class="language-text" tabindex="0"><code class="text language-text">$ npm i @webqit/webflo</code></pre>
        	<p>The installation automatically creates a <code>package.json</code> file at project root, containing <code>@webqit/webflo</code> as a project dependency.</p>
        	<pre class="language-json" tabindex="0"><code class="json language-json">{
        	  "dependencies": {
        	    "@webqit/webflo": &lt;webflo version&gt;
        	  }
        	}</code></pre>
        	<p>Other important definitions like project name, package type, and aliases for common Webflo commands will also belong in this file.</p>
        	<pre class="language-json" tabindex="0"><code class="json language-json">{
        	  "name": "webflo-app",
        	  "type": "module",
        	  "scripts": {
        	    "start:dev": "webflo start --dev",
        	    "build": "webflo build"
        	  },
        	  "dependencies": {
        	    "@webqit/webflo": &lt;webflo version&gt;
        	  }
        	}</code></pre>
        	<p>All is now set! The commands <a href="/tooling/webflo/docs/public/tooling/webflo/docs/cli/start"><code>npm run start:dev</code></a> and <a href="/tooling/webflo/docs/public/tooling/webflo/docs/cli/build"><code>npm run build</code></a> will be coming in often during the development process.</p>
        	<p>Other Webflo commands will also be used at some point. For these, we will be prefixing the command to run with <code>npx</code>; e.g. <code>npx webflo help</code>.</p>
        	<blockquote>
        	  <p>A global installation of Webflo wouldn't require aliases in <code>package.json</code> or the <code>npx</code> prefix to run. To install Webflo globally, run <code>npm install</code> with the <code>-g</code> (or <code>--global</code>) flag: <code>npm i -g @webqit/webflo</code>.</p>
        	</blockquote>
        	<p>To be sure Webflo is listening, run <a href="/tooling/webflo/docs/public/tooling/webflo/docs/cli/help"><code>npx webflo help</code></a>; an overview of available commands will be shown.</p>
        	<h2 id="hello-webflo">"Hello Webflo!"</h2>
        	<p>The start page of our sample app could be a simple <code>index.html</code> file served statically. This would go into the <code>/public</code> directory of the app. (More about project layout in <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/routing">Routing</a>.)</p>
        	<ul>
        	<li><code>/public</code><ul>
        	<li><code>/index.html</code> - <code>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Hello Webflo!&lt;/body&gt;&lt;/html&gt;</code></li></ul></li>
        	</ul>
        	<p>Now, when you start the Webflo server and navigate to <code>http://localhost:3000/</code> (or <code>http://localhost:3000/index.html</code>) on your browser, the start page is shown.</p>
        	<pre class="language-bash" tabindex="0"><code class="bash language-bash">$ npm run start:dev</code></pre>
        	<blockquote>
        	  <p>Be sure to give Webflo a better "Hello!" with a more beautiful start page.</p>
        	</blockquote>
        	<h2 id="common-setup">Common Setup</h2>
        	<p>As with every project that might be heading out of its local development environment, certain files, folders or parameters for Webflo applications may need to be excluded from upstream repositories. And it is good to remember these <em>environmental factors</em>  early.</p>
        	<h3 id="the-env-file">The <code>.env</code> File</h3>
        	<p>An <code>.env</code> file is commonly used to maintain environment-specific varaiables for an application. Consider using this file to keep any sensitive values that your application might need, e.g. database credentials. This file would be kept local using the <code>.gitignore</code> file below. The <em>ignore rule</em> would be: <code>.env</code>.</p>
        	<p>Consider paring the <code>.env</code> file with an <code>.env.example</code> file - written with no actual values, and for simply providing an example of what might be in the <code>.env</code> file. This file would be what goes to other deployment environments.</p>
        	<p>To edit the <code>.env</code> file from the command line, run <a href="/tooling/webflo/docs/public/tooling/webflo/docs/cli/config#variables"><code>$ webflo config variables</code></a>. Add the flag <code>--env=example</code> to explicitly edit the <code>.env.example</code> file.</p>
        	<p>When creating the <code>.env</code> file for the first time, Webflo will try to guide you using the variable names and available example values in the <code>.env.example</code> file, where exists.</p>
        	<h3 id="the-webqit-directory">The <code>.webqit</code> Directory</h3>
        	<p>All WebQit command-line interfaces maintain certain command-line edits in the WebQit-specific folder: <code>.webqit</code>. Webflo's own edits go into the <code>./.webqit/webflo</code> directory; and these files are to be kept local using the <code>.gitignore</code> file below. The <em>ignore rule</em> would be: <code>.webqit</code>.</p>
        	<p>The <code>--env=example</code> flag may be used to create <em>example copies</em> of these configurations - written with no actual values, and for simply providing an example of what might be in the actual configuration. Edits made with <code>$ webflo config variables --env=example</code>, for example, will be written to the file: <code>./.webqit/webflo/variables.example.json</code>. These <em>example copies</em> are what goes to other deployment environments. The <em>allow rule</em> would be: <code>!.webqit/**.example.json</code>.</p>
        	<h3 id="the-gitignorefile">The <code>.gitignore</code>File</h3>
        	<p>This file should now be part of your project. And an important folder to ignore is the <code>node_modules</code> folder. Together with the environment-specific files above, your <code>.gitignore</code> file could be looking similar to the below:</p>
        	<pre class="language-text" tabindex="0"><code class="text language-text">node_modules
        	.env
        	.webqit
        	!.webqit/**.example.json</code></pre>
        	<p><em>Feel free to add more rules as needed.</em></p>
        	<!--
        	Config Layout
        	-->
        	<h2 id="next-steps">Next Steps</h2>
        	<p>Continue to <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals">learning the fundamentals</a>.</p>
        </div>
    </template>
    <template name="overview">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="overview">Overview</h1>
        	<p>Webflo is the universal JavaScript framework for Web, Mobile, and API Backends, and the single tool that takes you from development, to deployment, to continous delivery. The Webflo experience is: <em>all of the possibilities</em> delivered in a <em>long-story-short approach</em>!</p>
        	<p>Take an overview!</p>
        	<h2 id="starting">Starting</h2>
        	<p>Every Webflo project starts on an empty directory that you can create on your machine. We are creating one below - named <code>webflo-app</code> - and navigating into it on the terminal.</p>
        	<pre class="language-bash" tabindex="0"><code class="bash language-bash">mkdir webflo-app
        	cd webflo-app</code></pre>
        	<p>Next is to have Webflo installed, following the <a href="/tooling/webflo/docs/public/tooling/webflo/docs/getting-started/installation">installation guide</a>. This makes the <code>webflo</code> command available on the terminal. And that is all the setup required!</p>
        	<blockquote>
        	  <p>Webflo is a command-line tool. So the installed files won't be showing up anywhere in your workspace.</p>
        	</blockquote>
        	<h2 id="project-layout">Project Layout</h2>
        	<p>Any project will normally live in files and folders. Webflo lets us follow a layout that just defines the capabilities of the application.</p>
        	<p>The following directories are used as the application's URL-handling facilities.</p>
        	<ul>
        	<li><strong><code>/public</code></strong> - for static files serving</li>
        	<li><strong><code>/server</code></strong> - for server-side routing</li>
        	<li><strong><code>/client</code></strong> - for client-side routing</li>
        	<li><strong><code>/worker</code></strong> - for worker-level routing</li>
        	</ul>
        	<p>Any other directory (e.g. <code>/src</code>) may exist here at root level for other purposes.</p>
        	<h2 id="routing">Routing</h2>
        	<blockquote>
        	  <p><strong>Main Topic:</strong> <a href="/tooling/webflo/docs/public/tooling/webflo/docs/fundamentals/routing">Routing</a></p>
        	</blockquote>
        </div>
    </template>
</template>
<template name="server-runtime">
    <div class="line-numbers match-braces" exportgroup="README.md">
    	<h1 id="server-runtime">Server Runtime</h1>
    </div>
    <template name="dns">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="hosts-resolution">Hosts Resolution</h1>
        	<!--
        	WWW
        	HTTPS redirects
        	Certs
        	vhosts
        	
        	-->
        </div>
    </template>
    <template name="processes">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="server-processes">Server Processes</h1>
        	<!--
        	Starting in command line vs running in the background
        	Starting, listing, terminating backgroud processes
        	Log files
        	process modes: fork, exec
        	-->
        </div>
    </template>
</template>
<template name="workflow">
    <div class="line-numbers match-braces" exportgroup="README.md">
    	<h1 id="workflow">Workflow</h1>
    	<!--
    	
    	Workflo
    	+ Build system
    	+ Dev mode - filesytem watch and restarts - hot reload
    	+ config --env flag
    	-->
    </div>
    <template name="dev-mode">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="dev-mode">Dev Mode</h1>
        </div>
    </template>
    <template name="git-flow">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="git-workflow">Git Workflow</h1>
        </div>
    </template>
    <template name="testing">
        <div class="line-numbers match-braces" exportgroup="README.md">
        	<h1 id="testing-workflow">Testing Workflow</h1>
        </div>
    </template>
</template>