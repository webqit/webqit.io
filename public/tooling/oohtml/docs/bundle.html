
<div exportgroup="README.md">
	<h1 id="oohtml-documentation">OOHTML Documentation</h1>
	<p>Welcome to the OOHTML documentation. We hope you find it easy to understand and navigate.</p>
	<p>If you have questions about anything related to OOHTML, you're always welcome to ask on our <a href="https://github.com/webqit/oohtml/discussions">GitHub Discussions</a>.</p>
	<h2 id="explore-the-docs">Explore the Docs</h2>
</div>
<template name="getting-started">
    <div exportgroup="README.md">
    	<h1 id="getting-started">Getting Started</h1>
    </div>
    <template name="explainer">
        <div exportgroup="README-1.md">
        	<blockquote>
        	  <p>components</p>
        	</blockquote>
        	<p>I might need direct pointers to the areas of comparison you have in mind. But OOHTML and Web Components aren't competing for the same problems. OOHTML is seeking to address aspects that (we think) do not necessarily fall in the domain of Web Components. Yet, it bases itself off Web Components to offer a higher-level feature set. And in turn, these feature set comes with a simpler way to make Web Components. (Lest the name "OOHTML" sounds like a big thing to ask, think of it as simply a codename for a set of features that solve common HTML-related difficulties.)</p>
        	<p>For example:</p>
        	<ol>
        	<li><p>Web Components gives us the <code>&lt;template&gt;</code> element for keeping reusable markup. Using standard APIs like the <code>.querySelector()</code> method, we are able to find these contents and put them to use. But in-between lies additional questions that OOHTML seeks to answer:</p>
        	<ul>
        	<li><p>Since every piece of HTML has be identified by a CSS selector in order to be accessible by <code>.querySelector()</code>, why don't we have a common naming convention for <code>&lt;template&gt;</code> elements or their contents? You'll realise that this is a component system without a proper naming system and it has all been half the feature. OOHTML introduces this missing naming convention: <code>&lt;template name="module1"&gt;&lt;/template&gt;</code> and builds on it to come off with something that works like <a href="http://webqit.io/tooling/oohtml/docs/getting-started/overview#html-modules">a module system for HTML</a>. For example it introduces nesting of these modules to make for structuring markup bundles: </p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>div<span class="token entity named-entity" title=">">&amp;gt;</span>A reusable DIV<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>

<span class="token entity named-entity" title="<">&amp;lt;</span>template name="nested_module1"<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>div<span class="token entity named-entity" title=">">&amp;gt;</span>A reusable DIV<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>/template<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>It goes further to introduce identifiers for the reusable contents in a <code>&lt;template&gt;</code> element and calls them module exports:</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="export1"<span class="token entity named-entity" title=">">&amp;gt;</span>A reusable DIV<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>

<span class="token entity named-entity" title="<">&amp;lt;</span>!-- Or to put it another way: --<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>export name="export1"<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>div<span class="token entity named-entity" title=">">&amp;gt;</span>A reusable DIV<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>/export<span class="token entity named-entity" title=">">&amp;gt;</span>

<span class="token entity named-entity" title="<">&amp;lt;</span>template name="nested_module1"<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>!-- And an identifier may not always be necessary too. We'll call the contents without an identifier as collectively the "default export" --<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>div<span class="token entity named-entity" title=">">&amp;gt;</span>A reusable DIV<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>/template<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>And lastly, OOHTML introduces an <code>src</code> attribute for referencing remote content for a <code>&lt;template&gt;</code> element. Why deal with an imperative API - <code>fetch()</code> - for this when we can simply do what we already do for remote stuffs: <code>&lt;script src=""&gt;&lt;/script&gt;</code>, <code>&lt;img src=""&gt;&lt;/img&gt;</code>, etc.!</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/bundle.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- a "load" event is fired on load --&gt;</span>
<span class="token comment">&lt;!-- --&gt;</span></code></pre>
        	<p>We might not realise it, but these are questions each developer would have to answer for himself; and well, for no extra benefit.</p></li>
        	<li><p>How do we take this JavaScript - <code>.querySelector('template[name="module1"] &gt; [div[exportgroup="export1"]')</code> - out of the picture in cases where we simply want to place a piece of markup from a <code>&lt;template&gt;</code> element into document body? OOHTML introduces <a href="http://webqit.io/tooling/oohtml/docs/getting-started/overview#html-imports">the <code>&lt;import&gt;</code> element</a>!</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>!-- Named imports --<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>import template="module1" name="export1"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/import<span class="token entity named-entity" title=">">&amp;gt;</span>

<span class="token entity named-entity" title="<">&amp;lt;</span>!-- Default exports: exports without an identifier will all be imported below --<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>import template="module1/nested_module1"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/import<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p>How do we take the CSS selectors - <code>.querySelector('template[name="module1"] &gt; [div[exportgroup="export1"]')</code> - completely out of JavaScript code where we need to programmatically reuse <em>exports</em>? OOHTML offers modules and their exports as objects and properties:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module1 <span class="token operator">=</span> document<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>module1<span class="token punctuation">;</span>
<span class="token keyword">let</span> export1 <span class="token operator">=</span> module1<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>export1<span class="token punctuation">;</span>
<span class="token keyword">let</span> deepdefaultExport <span class="token operator">=</span> module1<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>nested_module1<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>default<span class="token punctuation">;</span></code></pre></li>
        	<li><p>How does this enhance Web Components development? One scenario is when we need to use web components (or even regular elements) from remote sources (or even third-party vendors). A proper --naming-- module system makes this seamless and collision-free:</p>
        	<p>We would simply include the vendor's HTML bundles and import their elements.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>officialModule<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/bundle.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vendor1Module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://vendor1.com/bundle.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vendor2Module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://vendor2.com/bundle.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vendor1Module<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header-component<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vendor2Module/layout<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hero-component<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>And we can seamlessly use these elements within other elements.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'extended-header'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedHeader</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Get the referenced template element</span>
        <span class="token keyword">let</span> moduleDependency <span class="token operator">=</span> document<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>officialModule<span class="token punctuation">;</span> <span class="token comment">// Or document.templates.vendor1Module</span>
        <span class="token comment">// Clone its "export1" export</span>
        <span class="token keyword">let</span> shadowContent <span class="token operator">=</span> moduleDependency<span class="token punctuation">.</span>exports<span class="token punctuation">[</span><span class="token string">'header-component'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Create Shadow DOM and send in the content</span>
        <span class="token keyword">let</span> shadow <span class="token operator">=</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'open'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        shadow<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token operator">...</span>shadowContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Also, OOHTML introduces a <code>template</code> attribute that any element can use to declare its dependency on <em>module exports</em>. </p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extended-header</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>officialModule<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>extended-header</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extended-header</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vendor1Module/nested_module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>extended-header</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The <code>ExtendedHeader</code> JavaScript would simply work with whatever this declaration resolves to.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'extended-header'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedHeader</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Get the referenced template element</span>
        <span class="token keyword">let</span> moduleDependency <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">;</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul></li>
        	<li><p>Web Components lets us define custom elements. And where we need to add some reactivity, we could follow a number of approaches; e.g.:</p>
        	<p><em>Property setters/getters</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'extended-header'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedHeader</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span><span class="token comment">// Make this header fixed</span>
<span class="token keyword">set</span> <span class="token function">fixed</span><span class="token punctuation">(</span><span class="token parameter">trueOrFalse</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// Get the fixed state</span>
<span class="token keyword">get</span> <span class="token function">fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><em>Attribute-change callbacks</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'extended-header'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedHeader</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span><span class="token function">attributeChangedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Well, these cover only half of the case for reactivity. The community therefore teams with different Web Component libraries rolling out their own change-detection mechanism / reactivity system. OOHTML introduces the <a href="http://webqit.io/tooling/oohtml/docs/getting-started/overview#the-state-api">State API</a> and the <a href="http://webqit.io/tooling/observer">Observer API</a> that just make this easier! These APIs even bring the concept of state reactivity home to every other element (not just web components), and to the document object itself.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">'titleBar'</span><span class="token punctuation">,</span> <span class="token parameter">mutation</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> mutation<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">var</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>titleBar <span class="token operator">=</span> <span class="token string">'Document Title Update #'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">++</span> counter<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Elements are also able to keep state to a dedicated, reactive State Object:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'extended-header'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">ExtendedHeader</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">'menuItems'</span><span class="token punctuation">,</span> mutation <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderMenuItem</span><span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">'fixed'</span><span class="token punctuation">,</span> mutation <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'fixed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'fixed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Other code can observe element states.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> extendedHeader <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'extended-header'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>extendedHeader<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">'fixed'</span><span class="token punctuation">,</span> <span class="token parameter">mutation</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<blockquote>
        	  <p>A dedicated State Object exposed as <code>.state</code> should also save us from inadvertently overriding an element native property or method; e.g.: </p>
        	</blockquote>
<pre class="line-numbers match-braces"><code>```js
customElements.define('extended-header', class ExtendedHeader extends HTMLElement {
    set style(value) {
    }
    get style() {
    }
});
```

With the state API, that could simply belong in `.state.style`.</code></pre>
        	<p>Deep mutations can be made and observed. And all of this works even at the plain object level:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>extendedHeader<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">'dataTree'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>extendedHeader<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token parameter">mutations</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    mutations<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">mutation</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">subtree</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>extendedHeader<span class="token punctuation">.</span>state<span class="token punctuation">.</span>dataTree<span class="token punctuation">.</span>root<span class="token punctuation">.</span>deep<span class="token punctuation">,</span> <span class="token string">'prop'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// console: [ 'dataTree', 'root', 'deep',  'prop' ]</span></code></pre></li>
        	<li><p>There are also the <em><a href="http://webqit.io/tooling/oohtml/docs/getting-started/overview#namespaced-html">Namespaced HTML</a></em> and <em><a href="http://webqit.io/tooling/oohtml/docs/getting-started/overview#subscript">Subscript</a></em> features of OOHTML. These are also trying to address common problems that do not necessarily fall in the domain of Web Components but at the same time are able to simplify how we author Web Components.</p></li>
        	</ol>
        	<p>Overall, "OOHTML" is simply  an umbrella name for a feature-set that saves us of unnecessary JavaScript, help us write better HTML and simplify how we author web components.</p>
        </div>
        <div exportgroup="README.md">
        	<h1 id="explainer-todo">Explainer [TODO]</h1>
        </div>
        <div exportgroup="README1.md">
        	<h1 id="explainer-oohtml">Explainer: OOHTML</h1>
        	<p>This information is being gathered to present OOHTML's design and architectural choices in the light of the problem space. We intend to maintain this as a living document; watch this space, or help us improve it by submitting a pull request or by <a href="https://github.com/webqit/oohtml/issues">filing an issue</a>.</p>
        	<h2 id="object-oriented-markup">Object-Oriented Markup</h2>
        	<p><em>Naming and finding things</em> is hard; modular design makes it easier! This isn't necessarily some modern wisdom, we just couldn't before now address HTML's old idea of one global scope for IDs and CSS selectors. Here's how we currently struggle with creating modular markup and how OOHTML makes it a lot easier.</p>
        	<ul>
        	<li><p><strong><a href="https://getbem.com">BEM</a></strong> has been an agreeable workaround for many people. It's, however, clunky.</p>
        	<ul>
        	<li>Compare that with the more succinct <strong><a href="/tooling/oohtml/docs/getting-started/namespaced-html#namespaced-selectors">Namespaced Selectors</a></strong> in <a href="/tooling/oohtml/docs/getting-started/namespaced-html">Namespaced HTML</a>.</li></ul>
        	<p><em>BEM also doesn't really go beyond usage in CSS. Namespaced HTML, on the other hand, is able to translate Namespaces in markup into namespace objects in JavaScript by means of the Namespace API.</em></p></li>
        	<li><p><strong><a href="https://github.com/stuartpb/pwalls-spec">Stuart P.'s Parts and Walls</a></strong> proposal from 2015 also points to the same need for a modular naming that's accessible in JavaScript.</p>
        	<ul>
        	<li>But while the above is based on programmatic DOM traversal, Namespaced HTML let's us access the same elements declaratively as live DOM properties. In other words, instead of having to query the DOM each time to access named elements, the DOM exposes them as properties and let's us receive updates when any of the properties change. <em>See details in the <a href="/tooling/oohtml/docs/getting-started/namespaced-html#api">Namespace API</a> of <a href="/tooling/oohtml/docs/getting-started/namespaced-html">Namespaced HTML</a>.</em></li></ul>
        	<p><em>And just for fun, it also looks like the DOM itself likes the idea of exposing strategic UI objects in JavaScript as DOM properties. See <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/head"><code>document.head</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/body"><code>document.body</code></a>. These are indeed more concise than <code>document.querySelector('head')</code> and <code>document.querySelector('body')</code>.</em></p></li>
        	</ul>
        	<p>Overall, <a href="/tooling/oohtml/docs/getting-started/namespaced-html">Namespaced HTML</a> is the far-reaching solution to authoring modular HTML and CSS.</p>
        	<h2 id="html-modules-and-imports">HTML Modules and Imports</h2>
        	<p>We currently have HTML's standard <code>&lt;template&gt;</code> elements for defining reusable HTML snippets. But it still feels difficult getting things to work without a standard templating system.</p>
        	<p>For so many reasons, we often have to deal with application data at the document and element levels. We either want to render data on an element or pass it down its subtree to be eventually rendered. The state of this data may be changing, and we may have to maintain some of it at each level. These are modern UI development paradigms that have not particularly been welcomed natively.</p>
        	<hr>
        	<p>On the expansive subject of <a href="https://github.com/WICG/webcomponents/issues/645"><em>HTML Modules</em></a>, OOHTML takes a very, very different approach from the many existing opinions to how reusable markup should be delivered and consumed in the browser - <em><a href="/tooling/oohtml/docs/getting-started/html-modules">OOHTML's HTML Modules</a></em>. What is the most important difference?</p>
        	<ul>
        	<li>OOHTML sees HTML Modules as simply a way to ship and consume <strong>static, inert content</strong>, and is thus more oriented towards HTML's standard primitive for <em>static, inert content</em> - the <code>&lt;template&gt;</code> element. OOHTML simply introduces <a href="/tooling/oohtml/docs/getting-started/html-modules#remote-content">the <strong>src</strong> attribute</a> as a way to <em>load a template's content from a remote HTML file</em>.</li>
        	<li><a href="https://github.com/WICG/webcomponents/blob/gh-pages/proposals/html-modules-explainer.md">This explainer</a>, among others, however, follows the JavaScript route of using ES6 module infrastructure to load <strong>both static content and active script elements</strong>.</li>
        	</ul>
        	<p>How do these compare?</p>
        	<ul>
        	<li><p><strong>OOHTML's approach let's us <em>author and deliver HTML in HTML</em>.</strong> And it's as declarative as this:</p>
        	<p><em>Remote File: /bundle.html</em></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blogPost<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Content...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>Main Document:</em></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bundle<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/bundle.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>See also: <a href="https://discourse.wicg.io/t/add-src-attribute-to-template/2721">[proposal - <strong>src</strong> attribute]</a>, <a href="https://github.com/whatwg/html/issues/2791">[proposal - <strong>src</strong> attribute]</a></em></p>
        	<p><strong>But, the other approach gets us to deal with JavaScript code to import remote HTML</strong></p>
        	<p><em>Remote File: /import.html</em></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blogPost<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Content...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> blogPost <span class="token operator">=</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#blogPost"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token punctuation">{</span> blogPost <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>Main Document:</em>`</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"module"</span><span class="token operator">&gt;</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span> blogPost <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"import.html"</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></code></pre></li>
        	<li><p><strong>OOHTML's approach provides for consuming the imported HTML <em>both in JavaScript and in HTML</em>.</strong> And it's as declarative as the following two cases:</p>
        	<p><em>In JavaScript - as detailed in <a href="/tooling/oohtml/docs/getting-started/html-modules#api">HTML Modules API</a></em></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> <span class="token punctuation">[</span> blogPost <span class="token punctuation">]</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>bundle<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>blogPost<span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>blogPost<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>See also: <a href="https://discourse.wicg.io/t/document-templates/1057">[proposal - <code>document.templates</code>]</a></em></p>
        	<p><em>In HTML - as detailed in <a href="/tooling/oohtml/docs/getting-started/html-imports">OOHTML Imports</a></em></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blogPost<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bundle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><strong>But, the other approach remains based <em>only in JavaScript</em></strong></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">import</span> <span class="token punctuation">{</span> blogPost <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"import.html"</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>blogPost<span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>But <a href="https://github.com/WICG/webcomponents/issues/863">the new direction</a> of this approach is having an afterthought toward a declarative way to place imported content in markup.</em></p></li>
        	<li><p><strong>OOHTML's approach follows <em>lazy-loading of remote modules and lazy rendering of <code>&lt;import&gt;</code> elements, as driven by module events</em>.</strong> This makes <code>&lt;import&gt;</code> elements work just like elements like <code>&lt;img&gt;</code>: 'display whenever you can load', as seen below:</p>
        	<p><em>In HTML - as detailed in <a href="/tooling/oohtml/docs/getting-started/html-imports">OOHTML Imports</a></em></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Resolves whenever module loads --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blogPost<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bundle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><strong>But, the other approach simply does not.</strong></p></li>
        	</ul>
        	<p>Overall, it seems more traditional to us to implement HTML Modules in HTML than in JavaScript, letting us do all HTML concerns in HTML (templates) and all JavaScript concerns in JavaScript (ES6 modules).</p>
        	<p>But then, it is a common pattern today for some reusable HTML has to go with some logic. And it is interesting how another of OOHTML's features - <a href="/tooling/oohtml/docs/getting-started/subscript">Subscript</a> - lets us add such non-global JavaScript to HTML markup, with everything working happily:</p>
        	<p><em>Remote File: /bundle.html</em></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blogPost<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Content...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- previous syntax: &lt;script type="scoped"&gt;&lt;/script&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>Main Document:</em></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bundle<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/bundle.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Resolves whenever module loads, and the slotted element's scoped script activates --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blogPost<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bundle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>And how far can this go? We run this in production with webqit.io. Our real life success with this pattern is something we want to eagerly publish.</p>
        	<h2 id="state-observability-and-reactivity">State, Observability and Reactivity</h2>
        	<p>Primitives for building <em>reactive</em> applications and keeping track of very dynamic state have not particularly found their way to native web languages.</p>
        	<ul>
        	<li><p><strong>State:</strong> We indeed have some primitives related to the concept of <em>state</em>, but they have very limited usecases. An example is <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElement/dataset">HTML5's DataSet API</a> that lets us keep state with HTML elements. But, it turns out to be tied to just HTML data <code>(data-*)</code> attributes - making it less useful as a general way to work with application state in the UI.</p>
        	<p>Compare OOHTML's <a href="/tooling/oohtml/docs/getting-started/the-state-api">State API</a> which gives us robust <em>state management</em> - covering both document-level and element-level state, with automatic support for observability.</p></li>
        	<li><p><strong>Observability:</strong> Much engineering still goes into using JavaScript's change-detection mechanisms for <em>reactive</em> UI development, and some things don't even scale. Check out a consideration of some of those difficulties in <a href="https://webqit.io/tooling/observer/explainer">this explainer</a>.</p>
        	<p>Compare the <a href="https://github.com/webqit/observer">Observer API</a> which provides generic functions for observing and intercepting JavaScript objects. See its <em>universal</em> role across the rest of OOHTML, and potentially other technologies.</p></li>
        	<li><p><strong>Reactivity:</strong> A Reactuve UI binding language? See <a href="/tooling/oohtml/docs/getting-started/subscript">Subscript</a>. It comes bringing the full power of JavaScript for the job.</p>
        	<p>Compare <a href="https://discourse.wicg.io/t/extension-of-template/447">this early idea for a template syntax by Jonathan Kingston</a> from 2014, <a href="https://github.com/whatwg/html/issues/2254">this proposal</a> from 2017, and <a href="https://github.com/w3c/webcomponents/blob/gh-pages/proposals/Template-Instantiation.md">Apple's proposal</a> from 2017.</p></li>
        	</ul>
        </div>
    </template>
    <template name="overview">
        <div exportgroup="README.md">
        	<h1 id="overview">Overview</h1>
        	<p>OOHTML offers a set of five features that make common UI development paradigms possible as native web platform features. These features may be used individually or together for some great UI-authoring capabilites. Here is an overview:</p>
        	<ul>
        	<li><a href="#html-modules">HTML Modules</a></li>
        	<li><a href="#html-imports">HTML Imports</a></li>
        	<li><a href="#namespaced-html">Namespaced HTML</a></li>
        	<li><a href="#the-state-api">The State API</a></li>
        	<li><a href="#subscript">Subscript</a></li>
        	</ul>
        	<h2 id="html-modules">HTML Modules</h2>
        	<p><em>HTML Modules</em> is a templating feature that lets us write reusable HTML markup using the <em>module</em>, <em>export</em> and  <em>import</em> paradigm. This feature establishes the standard <code>&lt;template&gt;</code> element as the foundation of a module infrastructure for HTML and introduces new attributes, properties and events that together closes the loop.</p>
        	<p>A module is a regular <code>&lt;template&gt;</code> element with a <code>name</code> attribute - <em>the module ID</em> - and its contents are simply the <em>exports</em>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How old are you?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Exports may be more properly wrapped within an <code>&lt;export&gt;</code> element of a designated name.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>export</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>question<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How old are you?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>export</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>This is another export<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Or they may be individually <em>tagged</em> to an export identifier using the <code>exportgroup</code> attribute.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>question<span class="token punctuation">"</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How old are you?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>question<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>This is another export<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Either way, they are accessed the same way using the <em>Modules API</em>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Access module1 from document.templates</span>
<span class="token keyword">let</span> module1 <span class="token operator">=</span> document<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>module1<span class="token punctuation">;</span>

<span class="token comment">// Import module1's exports</span>
<span class="token keyword">let</span> questionExport <span class="token operator">=</span> module1<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>question<span class="token punctuation">;</span> <span class="token comment">// Array</span>

<span class="token comment">// Clone the elements in the export</span>
<span class="token keyword">let</span> questionExportClone <span class="token operator">=</span> questionExport<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Taking things further, template elements may reference remote content using the <code>src</code> attribute.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module-remote<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/bundle.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The contents of the remote file automatically become the template's content on load.</p>
        	<p><strong>Details are in the <a href="/tooling/oohtml/docs/spec/html-modules">HTML Modules</a> specification. Learn more about the convention, API, events, and the polyfill support.</strong></p>
        	<h2 id="html-imports">HTML Imports</h2>
        	<p><em>HTML Imports</em> is a declarative way to use the <em>exports</em> of an <em>HTML Module</em> from anywhere in the main document.</p>
        	<blockquote>
        	  <p>Note that this is different from the HTML Imports that was spec'd with an early version of Web Components.</p>
        	</blockquote>
        	<p>Here, an <code>&lt;import&gt;</code> element in the <code>&lt;body&gt;</code> area is used to <em>place</em> a corresponing <em>export</em> of an HTML module.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Import question here from module1 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>question<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Resolution takes place and the <code>&lt;import&gt;</code> element is replaced by all of the imported contents.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- import element replaced --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How old are you?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Also, multiple <code>&lt;import&gt;</code> elements within a block can be scoped to just one <em>module ID</em> declaration.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Point to a module; one module ID for all imports within --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- Import question here from module1 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>question<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- Import another export here from module1 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>On resolution, an <code>&lt;import&gt;</code> element will stand by somewhere with a view to returning to its slot on any event that gets the slot empty. In fact, <code>&lt;import&gt;</code> elements maintain a <em>live</em> relationship with the modules they point to and with the contents that go into their slot.</p>
        	<p>So, if we dynamically changed the module ID declaration above to point to another module, <em>imports</em> will be resolved again, this time, from the new module.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Changing the module ID on the DIV container above will see all associated imports resolved again</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div[template="module1"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'template'</span><span class="token punctuation">,</span> <span class="token string">'module2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>This opens up new simple ways to create very dynamic applications.</p>
        	<p><strong>Details are in the <a href="/tooling/oohtml/docs/spec/html-imports">HTML Imports</a> specification. Learn more about the convention, dynamicity, Slot Inheritance, isomorphic rendering, and the polyfill support.</strong></p>
        	<h2 id="namespaced-html">Namespaced HTML</h2>
        	<p>Namespacing provides a way to let an element establish its own naming context for descendant elements. This makes it possible to keep IDs scoped to a context other than the document's global scope; thus the ability to write collision-free IDs across a page.</p>
        	<p>The following modular markup implements its IDs in namespaces:</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continents<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>europe<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>about<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>About Europe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>countries<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Countries in Europe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>asia<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>about<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>About Asia<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>countries<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Countries in Asia<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The above gives us a conceptual model of repeating objects; each encapsulating its IDs:</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html">continents
 europe
    about
    countries
 asia
     about
     countries</code></pre>
        	<p>And beyond the point of giving us collision-free IDs, <em>Namespaced HTML</em> features an API that translates namespace models into real object trees:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Get the "continents" article</span>
<span class="token keyword">let</span> continents <span class="token operator">=</span> document<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>continents<span class="token punctuation">;</span>

<span class="token comment">// Access scoped IDs with the new "namespace" DOM property</span>
<span class="token keyword">let</span> europe <span class="token operator">=</span> continents<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>europe<span class="token punctuation">;</span>
<span class="token keyword">let</span> asia <span class="token operator">=</span> continents<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>asia<span class="token punctuation">;</span>

<span class="token comment">// And for deeply-nested IDs...</span>
<span class="token keyword">let</span> aboutAsia <span class="token operator">=</span> continents<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>asia<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>about<span class="token punctuation">;</span></code></pre>
        	<p>We get a document structure that translates to a bankable API for building great functionalities.</p>
        	<blockquote>
        	  <p>Much of our code in the examples below will now use the <code>namespace</code> attribute in markup and the <code>.namespace</code> property in JavaScript.</p>
        	</blockquote>
        	<p><strong>Details are in the <a href="/tooling/oohtml/docs/spec/namespaced-html">Namespaced HTML</a> specification. Learn more about the convention, Namespaced Selectors, API, observability, and the polyfill support.</strong></p>
        	<h2 id="the-state-api">The State API</h2>
        	<p>The State API is a DOM API that lets us maintain application state at the document level and at individual element levels. It brings application state closer to the UI and makes it easy to keep the UI in sync with all the changes taking place.</p>
        	<p>This API exposes a document-level <em>state object</em> on a <code>document.state</code> property, and an element-level <em>state object</em> on an <code>element.state</code> property. Arbitrary values can be set and retrieved on <em>state objects</em> the same way we would with regular objects.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// At the document level</span>
document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageTitle <span class="token operator">=</span> <span class="token string">'Hello World!'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageTitle<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello World!</span>

<span class="token comment">// At the element level</span>
element<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre>
        	<p>But state objects are unique in that they support <em>observability</em>. They are <em>live objects</em> that can be observed for changes using the <a href="/tooling/oohtml/docs/spec/the-observer-api">Observer API</a>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">'pageTitle'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'New Page Title: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Or we could reflect this state on the document title element</span>
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> e<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>This lets us build very reactive applications natively.</p>
        	<p>Using an element's state API, here's how we could make a <em>collapsible</em> component.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-collapsible</span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>control<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Toggle Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 0px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
        Some content
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-collapsible</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'my-collapsible'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> HTMLElement <span class="token punctuation">{</span>

    <span class="token comment">/**
     * Creates the Shadow DOM
     */</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Observe state and get the UI synced</span>
        Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">'collapsed'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>content<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> e<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">'0px'</span> <span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-collapsed'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">'true'</span> <span class="token operator">:</span> <span class="token string">'false'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Implement the logic for toggling collapsion</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>control<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Other parts of the application are also able to access the state of this element.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> collapsible <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'my-collapsible'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>collapsible<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">'collapsed'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">'element collapsed'</span> <span class="token operator">:</span> <span class="token string">'element expanded'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><strong>Details are in the <a href="/tooling/oohtml/docs/spec/the-state-api">State API</a> specification. Learn more about the API, deep observability, and the polyfill support.</strong></p>
        	<h2 id="subscript">Subscript</h2>
        	<p><a href="/tooling/subscript">Subscript</a> is a special language feature for JavaScript that lets us write <em>reactive</em> JavaScript code in plain JavaScript. <em>Subscript UI</em> is a &lt;1KB extension of Subscript that further simplifies the concept of reactivity for UI development.</p>
        	<p>There are two approaches to using Subscript:</p>
        	<h3 id="a-subscriptelement">(A): SubscriptElement</h3>
        	<p><em>SubscriptElement</em> is an extension of <a href="/tooling/subscript/docs/spec/api#subscriptclass"><code>SubscriptClass</code></a> - a base class <em>Mixin</em> for designating <em>reactive</em> class methods.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token keyword">extends</span> <span class="token class-name">SubscriptElement</span><span class="token punctuation">(</span> HTMLElement <span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">subscriptMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span> <span class="token string">'render'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
        	<p><strong>An <em>alert</em> element</strong>:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'my-alert'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Alert</span> <span class="token keyword">extends</span> <span class="token class-name">SubscriptElement</span><span class="token punctuation">(</span> HTMLElement <span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">subscriptMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// The list of methods to make reactive methods</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span> <span class="token string">'render'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Initial rendering</span>
        <span class="token comment">// after which automatic selective rendering kicks in</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> messageElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'.message'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        messageElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> globalMessage<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">var</span> globalMessage <span class="token operator">=</span> <span class="token string">'This site uses cookies!'</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-alert</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-alert</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<h3 id="b-scopedsubscript">(B): ScopedSubscript</h3>
        	<p><em>ScopedSubscript</em> is a <code>&lt;script&gt;</code>-based flavour of Subscript that lets us write <em>reactive</em> <code>&lt;script&gt;</code> elements right within an HTML document; each scoped to their host element instead of the global browser scope.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// alert</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The <code>&lt;script&gt;</code> above is scoped to the <code>#alert</code> element - its host element; the <code>this</code> variable is a reference to the script's host element.</p>
        	<p>This lets us have reactive UI logic jsut where they are needed, without involving any JavaScript classes or files.</p>
        	<p><strong>An <em>alert</em> element</strong>:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">var</span> globalMessage <span class="token operator">=</span> <span class="token string">'This site uses cookies!'</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- Scoped Subscript --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
            <span class="token keyword">let</span> messageElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'.message'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            messageElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> globalMessage<span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><strong>Details are in the <a href="/tooling/oohtml/docs/spec/subscript">Subscript</a> specification. Learn more about the reactivity and observability concepts and the polyfill support.</strong></p>
        	<h2 id="getting-started">Getting Started</h2>
        	<p>You definitely want to visit the documentation for each of OOHTML's features and try everything out by pasting the code examples and running them right in your browser. Simply include the <a href="/tooling/oohtml/docs/getting-started/polyfill">OOHTML polyfill</a> on your page and get away with writing modular, reusable, reactive HTML without a tool! </p>
        	<p>We're putting together a collection of examples in the <a href="/tooling/oohtml/docs/learn/examples">examples</a> section.</p>
        </div>
    </template>
    <template name="polyfill">
        <div exportgroup="README.md">
        	<h1 id="the-oohtml-polyfill">The OOHTML Polyfill</h1>
        	<p>This library is the official polyfill for OOHTML. It can be used either from a CDN or as an npm package.</p>
        	<h2 id="option-1-from-a-cdn">Option 1: From a CDN</h2>
        	<p>Add the following script tag to your page to include the all-in-one OOHTML build:</p>
        	<blockquote>
        	  <p>With the script below, OOHTML will take effect on the page automatically. Two other APIs - <a href="/tooling/oohtml/docs/resources/the-observer-api">The Observer API</a> and <a href="/tooling/subscript">Subscript</a> - will also be exposed as <code>window.WebQit.Observer</code> and <code>window.WebQit.Subscript</code> respectively.</p>
        	</blockquote>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/@webqit/oohtml/dist/main.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Or embed individual OOHTML features via their respective build:</p>
        	<ul>
        	<li><strong><a href="/tooling/oohtml/docs/spec/html-modules">HTML Modules</a></strong> - <code>&lt;script src="https://unpkg.com/@webqit/oohtml/dist/html-modules.js"&gt;&lt;/script&gt;</code></li>
        	<li><strong><a href="/tooling/oohtml/docs/spec/html-imports">HTML Imports</a></strong> - <code>&lt;script src="https://unpkg.com/@webqit/oohtml/dist/html-imports.js"&gt;&lt;/script&gt;</code></li>
        	<li><strong><a href="/tooling/oohtml/docs/spec/namespaced-html">Namespaced HTML</a></strong> - <code>&lt;script src="https://unpkg.com/@webqit/oohtml/dist/namespaced-html.js"&gt;&lt;/script&gt;</code></li>
        	<li><strong><a href="/tooling/oohtml/docs/spec/the-state-api">The State API</a></strong> - <code>&lt;script src="https://unpkg.com/@webqit/oohtml/dist/state-api.js"&gt;&lt;/script&gt;</code></li>
        	<li><strong><a href="/tooling/oohtml/docs/spec/subscript">Subscript</a></strong> - <code>&lt;script src="https://unpkg.com/@webqit/oohtml/dist/subscript.js"&gt;&lt;/script&gt;</code></li>
        	</ul>
        	<h2 id="option-2-as-an-npm-package">Option 2: As an npm Package</h2>
        	<p>With <a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm">npm available on your terminal</a>, run the following command to install OOHTML:</p>
<pre class="line-numbers match-braces language-text" tabindex="0"><code class="text language-text">$ npm i -g npm
$ npm i --save @webqit/oohtml</code></pre>
        	<p>Import and initialize the installed package with a <em>window</em> object in the current browser or server evironment.</p>
        	<p>You may initialize the all-in-one OOHTML module:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Import</span>
<span class="token keyword">import</span> <span class="token constant">OOHTML</span> <span class="token keyword">from</span> <span class="token string">'@webqit/oohtml'</span><span class="token punctuation">;</span>
<span class="token comment">// Initialize</span>
<span class="token constant">OOHTML</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Or a specific feature module:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Import</span>
<span class="token keyword">import</span> State <span class="token keyword">from</span> <span class="token string">'@webqit/oohtml/src/state/index.js'</span><span class="token punctuation">;</span>
<span class="token comment">// Initialize</span>
<span class="token function">State</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<h3 id="server-side-initialization">Server-Side Initialization</h3>
        	<p>To use OOHTML for server-side rendering, a library like <a href="https://github.com/jsdom/jsdom">jsdom</a> would be used to create a DOM instance. Now, the instance's <code>window</code> object would be used to initialize OOHTML.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Import OOHTML</span>
<span class="token keyword">import</span> <span class="token constant">OOHTML</span> <span class="token keyword">from</span> <span class="token string">'@webqit/oohtml'</span><span class="token punctuation">;</span>
<span class="token comment">// Import jsDom</span>
<span class="token keyword">import</span> jsdom <span class="token keyword">from</span> <span class="token string">'jsdom'</span><span class="token punctuation">;</span>
<span class="token comment">// Utilities we'll need</span>
<span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">'fs'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">'path'</span><span class="token punctuation">;</span>

<span class="token comment">// Read the HTML document file from the server</span>
<span class="token keyword">const</span> documentFile <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./index.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Instantiate jsdom so we can obtain the "window" for OOHTML</span>
<span class="token comment">// Detailed instruction on setting up jsdom is available in the jsdom docs</span>
<span class="token keyword">const</span> <span class="token constant">JSDOM</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">jsdom<span class="token punctuation">.</span>JSDOM</span><span class="token punctuation">(</span>documentFile<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Initialize OOHTML...</span>
<span class="token constant">OOHTML</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token constant">JSDOM</span><span class="token punctuation">.</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// And we can use OOHTML as normal</span>
<span class="token keyword">const</span> document <span class="token operator">=</span> <span class="token constant">JSDOM</span><span class="token punctuation">.</span>window<span class="token punctuation">.</span>document<span class="token punctuation">;</span>
<span class="token comment">// The document's templates object...</span>
<span class="token keyword">let</span> template1 <span class="token operator">=</span> document<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>template1<span class="token punctuation">;</span>
<span class="token comment">// etc</span></code></pre>
        	<h2 id="next-steps">Next Steps</h2>
        	<p>You want to visit each of <a href="/tooling/oohtml/docs/spec">OOHTML's features</a>.</p>
        </div>
    </template>
</template>
<template name="learn">
    <div exportgroup="README.md">
    	<h1 id="using-oohtml">Using OOHTML</h1>
    </div>
    <template name="examples">
        <div exportgroup="README.md">
        	<h1 id="examples">Examples</h1>
        	<p>Here are a few examples that you can try right now. You can simply copy and paste these codes to view on your browser.</p>
        </div>
        <template name="spa">
            <div exportgroup="README.md">
            	<h1 id="an-spa-in-oohtml">An SPA In OOHTML</h1>
            	<p>This example makes a Single Page Application (SPA) out of <a href="/tooling/oohtml/docs/spec/html-modules">HTML Modules</a> and <a href="/tooling/oohtml/docs/spec/html-imports">HTML Imports</a>.</p>
            	<p>Below, we're using the two <code>&lt;template&gt;</code> elements to each represent a route - a page. Then we point the <code>&lt;body&gt;</code>'s template attribute to either of the <code>&lt;template&gt;</code>s, depending on the current URL.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>An SPA In OOHTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>element.import=html-import<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/@webqit/oohtml@1.8.19/dist/main.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pages<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

            <span class="token comment">&lt;!-- "home" page module --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>home<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>headline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    Welcome Home!
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#/about<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>About Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

            <span class="token comment">&lt;!-- "about" page module --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>about<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>headline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    About Me!
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#/home<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Back to Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pages/home<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html-import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>headline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>404<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html-import</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html-import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Page not Found!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html-import</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
            window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'popstate'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> path <span class="token operator">=</span> document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'template'</span><span class="token punctuation">,</span> <span class="token string">'pages'</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
            	<p>Navigate to a route that does not begin with <code>#/home</code> or <code>#/about</code>, you should see the default content showing <em>404</em>.</p>
            	<p><a href="/html/tooling/oohtml/docs/learn/examples/spa.html" target="_blank">Check the live demo here</a> or copy and paste the code in a blank HTML page and view in your browser.</p>
            </div>
        </template>
        <template name="todo">
            <div exportgroup="README.md">
            	<h1 id="a-todo-list-in-oohtml">A TODO List In OOHTML</h1>
            	<p>Below is a TODO list application we made out of a plain JavaScript array bound to <a href="/tooling/oohtml/docs/spec/the-state-api#document-level-state"><code>document.state</code></a>.</p>
            	<p>It features the ability to add items and toggle the active state of each item.</p>
            	<ul>
            	<li><strong>For the <em>add</em> feature</strong> - When the <em>add</em> button in the TODO container is clicked, an item is added to the array - effectively becoming a new item in the UI.</li>
            	<li><strong>For the <em>toggle</em> feature</strong> - When the <em>toggle</em> button of an item in the UI is clicked, the corresponding entry in the array gets its <code>active</code> property toggled between <code>true</code> and <code>false</code>.</li>
            	</ul>
            	<blockquote>
            	  <p>Note that we're involving the <em>Observer API</em> to reactively mutate the todo list. Also, we're using the jQuery-like <em>Play UI</em> to manipulate the DOM.</p>
            	</blockquote>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>A TODO List in OOHTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.id=data-id<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/@webqit/playui-js@0.3.15/dist/main.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/@webqit/oohtml@1.8.19/dist/main.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
            <span class="token comment">// Make PlayUI available globally</span>
            window<span class="token punctuation">.</span>$ <span class="token operator">=</span> window<span class="token punctuation">.</span>WebQit<span class="token punctuation">.</span>$<span class="token punctuation">;</span>
            window<span class="token punctuation">.</span>Observer <span class="token operator">=</span> window<span class="token punctuation">.</span>WebQit<span class="token punctuation">.</span>Observer<span class="token punctuation">;</span>

            <span class="token comment">// Create the app</span>
            <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'My TODO'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">todo</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span><span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">'Task-1'</span><span class="token punctuation">,</span> <span class="token literal-property property">active</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span><span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">'Task-2'</span><span class="token punctuation">,</span> <span class="token literal-property property">active</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span><span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">'Task-3'</span><span class="token punctuation">,</span> <span class="token literal-property property">active</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>items<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>desc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toggle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Toggle Active<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
                    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>desc<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>desc<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>active <span class="token operator">?</span> <span class="token string">'1'</span> <span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>toggle<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>active <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>active<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>items<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>items<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            You can also add items from the console directly.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
            Open your console and type: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>Observer.proxy(document.state.todo).push({desc:"New Item", active: true})<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
                <span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>title<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
                <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>items<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>todo<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    Observer<span class="token punctuation">.</span><span class="token function">proxy</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>todo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'Task description'</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token string">'Task-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>todo<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">active</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
            	<p><a href="/html/tooling/oohtml/docs/learn/examples/todo.html" target="_blank">Check the live demo here</a> or copy and paste the code in a blank HTML page and view in your browser.</p>
            </div>
        </template>
        <template name="tooling">
            <div exportgroup="README.md">
            	<h1 id="tooling-in-oohtml">Tooling In OOHTML</h1>
            	<p>This example shows how we could use a DOM abstraction library, like jQuery, from within Subscript code.</p>
            	<p>Turns out that this is naturally possible!</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Tooling In OOHTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.id=data-id<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/@webqit/oohtml@1.8.19/dist/main.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
                <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message <span class="token operator">||</span> <span class="token string">'Task pending...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
            <span class="token comment">// The alert</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#alert'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'This task is now complete!'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
            	<p>Tooling can also help us acheive more efficient DOM manipulation. Generally, surgically updating the DOM may have performance implications on the UI, as arising from layout thrashing (see <a href="https://developers.google.com/web/fundamentals/performance/rendering/avoid-large-complex-layouts-and-layout-thrashing">this article</a> on Web Fundamentals). But we also don't need as much as a <em>Virtual DOM</em> for this. A technique like that of <a href="https://github.com/wilsonpage/fastdom">fast DOM</a> could just suffice.</p>
            	<p>This technique is natively implemented by the <a href="/tooling/play-ui">Play UI</a> library which has a jQuery-like API. We will now use Play UI as a drop-in replacement for jQuery in the code above.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Tooling In OOHTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.id=data-id<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/@webqit/playui-js@0.3.15/dist/main.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/@webqit/oohtml@1.8.19/dist/main.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
                <span class="token comment">// The .html() method is asynchronous</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">htmlAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token comment">// Do something sync</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
            <span class="token comment">// Make Play UI available globally</span>
            window<span class="token punctuation">.</span>$ <span class="token operator">=</span> window<span class="token punctuation">.</span>WebQit<span class="token punctuation">.</span>$<span class="token punctuation">;</span>

            <span class="token comment">// The alert</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#alert'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'This task is now complete!'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
            	<p><a href="/html/tooling/oohtml/docs/learn/examples/tooling.html" target="_blank">Check the live demo here</a> or copy and paste the code in a blank HTML page and view in your browser.</p>
            </div>
        </template>
    </template>
</template>
<template name="resources">
    <div exportgroup="README.md">
    	
    </div>
    <template name="ecosystem">
        <div exportgroup="README.md">
        	<h1 id="ecosystem">Ecosystem</h1>
        	<p>Available Tools for developing OOHTML-based UIs.</p>
        	<ul>
        	<li><p><strong><a href="/tooling/play-ui">Play UI</a></strong> - The <a href="/tooling/play-ui/docs/getting-started/overview#play-ui-javascript">Play UI JavaScript</a> library - a jQuery-like DOM and UI manipulation library - offers certain methods, e.g. <a href="/tooling/play-ui/docs/api/data/list"><strong><code>.list()</code></strong></a>, that operate on OOHTML-based UIs.</p>
        	<p>Also, the <a href="/tooling/play-ui/docs/getting-started/overview#play-ui-command-line">Play UI Command-Line Interface</a> - a command-line tool for UI development - offers certain commands, e.g. <a href="/tooling/play-ui/docs/cli/bundle"><strong><code>playui bundle</code></strong></a>, that make a build system for OOHTML-based UIs.</p></li>
        	</ul>
        </div>
    </template>
    <template name="meta-tag">
        <div exportgroup="README.md">
        	<h1 id="the-oohtml-meta-tag">The OOHTML Meta Tag</h1>
        	<p>OOHTML provides a meta tag for customizing its syntax or behaviour. It generally looks like this:</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prop1=val1; prop2=val2;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>The actual configurable properties are documented alongside the various OOHTML features.</em></p>
        	<p>It is recommended (but not required) that you configure your usage of OOHTML using this meta tag. As an example, below is how the default OOHTML syntax looks like for the <em>HTML module, import and export</em> feature. What we want to do is <a href="/tooling/oohtml/docs/spec/html-imports#polyfill">use a custom <em>import</em> element</a> instead of the default <em>import</em> element.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export1<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>On the meta tag, we would set the <code>element.import</code> directive to a custom element name.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>element.import=html-import;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html-import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export1<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html-import</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>As another example, below is how the default OOHTML syntax looks like for the <em>scoped IDs</em> feature. What we want to do is <a href="/tooling/oohtml/docs/spec/namespaced-html#polyfill">use a custom attribute name</a> instead of the default <em>id</em> attribute.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scoped-id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scoped-id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>On the meta tag, we would set the <code>attr.id</code> directive to a custom attribute name.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.id=data-id;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scoped-id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scoped-id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>This way, even if the default syntax for these features should change on a future update (as should be expected of a new and fast-evolving technology like OOHTML), your configurations will keep your pages wokring.</p>
        	<p>Customization also lets you explore around the whole new idea. Feel free to bring your findings to OOHTML's <a href="https://github.com/webqit/oohtml/discussions">GitHub Discussions</a>.</p>
        </div>
    </template>
    <template name="the-observer-api">
        <div exportgroup="README.md">
        	<h1 id="the-observer-api">The Observer API</h1>
        	<p>The Observer API is a web-native reactivity API for JavaScript. Visit this project <a href="/tooling/observer">in WebQit</a> or <a href="https://github.com/webqit/observer">on github</a>.</p>
        </div>
    </template>
</template>
<template name="spec">
    <div exportgroup="README.md">
    	<h1 id="oohtml-specifications">OOHTML Specifications</h1>
    </div>
    <template name="html-imports">
        <div exportgroup="README.md">
        	<h1 id="html-imports">HTML Imports</h1>
        	<p>HTML Imports are a declarative way to use the <em>exports</em> of an <em><a href="/tooling/oohtml/docs/spec/html-modules">HTML Module</a></em> from anywhere in the main document.</p>
        	<blockquote>
        	  <p>Note that this is different from the HTML Imports that was spec'd with an early version of Web Components.</p>
        	</blockquote>
        	<p><em>HTML Imports</em> introduces an <code>&lt;import&gt;</code> element that lets us place <em>module exports</em> into any location on the DOM.</p>
        	<blockquote>
        	  <p>OOHTML is <a href="https://discourse.wicg.io/t/proposal-chtml/4716">being proposed as a native browser technology</a> while currently available through a polyfill. Be sure to check the <a href="#polyfill-support">Polyfill Support</a> section below for the features described on this page.</p>
        	</blockquote>
        	<h2 id="convention">Convention</h2>
        	<p>An <code>&lt;import&gt;</code> element is used to place a <em>module export</em> using the <code>name</code> attribute as <em>import identifier</em>, and the <code>template</code> attribute as <em>module identifier</em>.</p>
        	<p>Below are some <em>module exports</em>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>export</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo.png<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>export</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>export</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Enter your email address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>export</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo.png<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- part of export-1 --&gt;</span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Enter your email address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- part of export-2 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- part of export-2 --&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>And here's a typical <code>&lt;import&gt;</code> element that imports a corresponding <em>module export</em>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Place all of export-1 here --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>Resolution</em> takes place and the <code>&lt;import&gt;</code> element is replaced by the contents of the matched <em>module export</em>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo.png<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- &lt;import&gt; element replaced --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>All elements in the matched <em>module export</em> go together into the same <em>import slot</em>. Below, the <em>import ID</em> would match two elements.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>question-element</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Place all of export-2 here --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>question-element</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>question-element</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Enter your email address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- &lt;import&gt; element replaced --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>question-element</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Taking things further, multiple <code>&lt;import&gt;</code> elements within a block can be scoped to just one <em>module ID</em> declaration. And any element may declare a <em>module ID</em> this way (using the <code>template</code> attribute) and thus serve as a <em>resolution scope</em> for the <code>&lt;import&gt;</code> elements within its subtree.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Place all of export-1 here --&gt;</span>
    &lt;import name="export-1"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>question-element</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Place all of export-2 here --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>question-element</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>At the same time, other <code>&lt;import&gt;</code> elements within a <em>resolution scope</em> may still reference their own module.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Place all of export-1 here --&gt;</span>
    &lt;import name="export-1"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>question-element</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Place all of export-2 here --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>question-element</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<h3 id="default-exports-and-imports">Default Exports and Imports</h3>
        	<p>HTML Modules are allowed to have contents without an <em>export identifier</em> and these are known <a href="/tooling/oohtml/docs/spec/html-modules#default-exports">Default Exports</a>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Enter your email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- This is part of the default export --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- This is part of the default export --&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Now, these arbitrary contents are also imported without an identifier.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Place all of the default export here --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<h3 id="dynamic-module-references">Dynamic Module References</h3>
        	<p>HTML Imports supports certain conventions that let us dynamically match modules.</p>
        	<ul>
        	<li><p><strong>The <code>exportsearch</code> attribute:</strong> <code>&lt;import&gt;</code> elements that reference nested modules may define a search expression using the <code>exportsearch</code> attribute. A search expression allows the import resolution to look into ancestor modules to find the specified <em>export</em>.</p>
        	<p>The expression below is to go up to 2 steps from the right to find <code>export-2</code>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>import name="export-2" template="module1/nonexistent/nonexistent" exportsearch="-2"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/import<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<blockquote>
        	  <p>Above, the path <code>module1/nonexistent/nonexistent</code> is tried first, then, the parent path <code>module1/nonexistent</code>, then, the parent's parent path <code>module1</code>; whichever level produces <code>export-2</code> first.</p>
        	</blockquote>
        	<p>In the same way, the expression below is to go up to 2 steps from the right, to at most 1 step from the left, to find <code>export-2</code>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>import name="export-2" template="module1/nonexistent/nonexistent/nonexistent" exportsearch="1-2"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/import<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<blockquote>
        	  <p>Above, the resolution stops at <code>module1/nonexistent</code> which is still <em>nonexisitent</em>. The <code>&lt;import&gt;</code> element is left unresolved.</p>
        	</blockquote></li>
        	<li><p><strong>Wildcards:</strong> While the <code>+</code> character is <a href="/tooling/oohtml/docs/spec/html-modules#module-referencing">forbidden in module IDs</a>, it can be used as wildcard modifiers in the module reference on <code>&lt;import&gt;</code> elements. The <code>+</code> character is used to match </p></li>
        	</ul>
        	<h2 id="dynamicity">Dynamicity</h2>
        	<p><em>Import slots</em> are resolved in realtime in response to a number of events.</p>
        	<ul>
        	<li><p>When the module reference - the <code>template</code> attribute - is changed, the <code>&lt;import&gt;</code> element is resolved again.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'import[template="module1"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'template'</span><span class="token punctuation">,</span> <span class="token string">'module2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>This also applies to all <code>&lt;import&gt;</code> elements within resolution scopes. Below, all <code>&lt;import&gt;</code> elements scoped to <code>&lt;body&gt;</code> will be resolved again.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'template'</span><span class="token punctuation">,</span> <span class="token string">'module2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	<li><p>On any event that gets its slot empty (i.e on deleting the last of its slotted elements), an <code>&lt;import&gt;</code> element is automatically restored.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Remove the first element slotted</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Remove the last element slotted</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// The original &lt;import&gt; element should now be restored</span></code></pre></li>
        	<li><p>When exports and modules are added to the document or removed, all <code>&lt;import&gt;</code> elements referencing them are reevaluated accordingly.</p>
        	<p>With the module addition below, all <code>&lt;import&gt;</code> elements referencing <code>module1/nonexistent</code> will now be resolved.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> nestedModule <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
nestedModule<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'nonexistent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
nestedModule<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> module1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'template[name="module1"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module1<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>nestedModule<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>With the module removal below, all <code>&lt;import&gt;</code> elements currently <em>resolved</em> from <code>module1</code> and its nested modules will now be restored.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">module1<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	<li><p>When the external contents of a remote module become available, all <code>&lt;import&gt;</code> elements that depend on the loaded content will be resolved. (See <a href="/tooling/oohtml/docs/spec/html-modules#module-events">Module Events</a>.)</p>
        	<p><strong>Remote file: /bundle.html</strong></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module-loaded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><strong>Document:</strong></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>template name="module1"<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="export-1"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>template name="module-remote" src="/bundle.html"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/template<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>/template<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>!-- This is resolved immediately --<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>import name="export-1" template="module1"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/import<span class="token entity named-entity" title=">">&amp;gt;</span>

<span class="token entity named-entity" title="<">&amp;lt;</span>!-- This is resolved as the targetted export becomes available --<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>import name="export-2" template="module1/module-remote"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/import<span class="token entity named-entity" title=">">&amp;gt;</span>

<span class="token entity named-entity" title="<">&amp;lt;</span>!-- This is resolved as the targetted export becomes available --<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>import name="export-3" template="module1/module-remote/module-loaded"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/import<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	</ul>
        	<h2 id="slot-inheritance">Slot Inheritance</h2>
        	<p>An <code>&lt;import&gt;</code> element is rendered as a regular element until it is resolved, that is, replaced. Useful default content, along with attributes, may be displayed on its slot this way.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- An ixport element with default attribute and content --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">max-width</span><span class="token punctuation">:</span>50px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>No image<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>An <code>&lt;import&gt;</code> element's attributes and default content may also be inheritted by slotted elements to persist the semantics of the slot.</p>
        	<ul>
        	<li><p><strong>Attributes</strong> - All attributes of an <code>&lt;import&gt;</code> element (other than the <code>name</code>, <code>template</code> and <code>exportsearch</code> attributes) are inheritted by slotted elements.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>div template="module1"<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>!-- The slotted element now inherits the style attribute  --<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>img exportgroup="export-1" src="logo.png" style="max-width:50px" /<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>When the attribute to inherit already exists on the element being slotted, one of the following happens:</p>
        	<ul>
        	<li>If the attribute is of space-delimitted attributes, like the <code>class</code> attribute, inheritted non-duplicate values are placed after existing values on the element being slotted.</li>
        	<li>If the attribute is of key/value attributes, like the <code>style</code> attribute, inheritted declarations are placed after existing declarations on the element being slotted (making CSS cascading work for the <code>style</code> attribute).</li>
        	<li>If the attribute is of single-value attributes, like the <code>id</code> attribute, the inheritted attribute value is made to replace exisiting value on the element being slotted.</li>
        	<li>All other attribute types are treated as single-value attributes.</li></ul></li>
        	<li><p><strong>Content</strong> - To inherit the default content of an <code>&lt;import&gt;</code> element, we would again use the regular import/export convention. Here the elements inheriting the default contents of the slot will implement its own <code>&lt;import&gt;</code> elements that would pull up the specific part of the contents being inherited.</p>
        	<p>These second-level <em>imports</em> set their <code>template</code> attribute to the tilde <code>~</code> character to reference their destination slot as their source module.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>template name="module2"<span class="token entity named-entity" title=">">&amp;gt;</span>

    <span class="token entity named-entity" title="<">&amp;lt;</span>!--
    The element being slotted pointing to its destination slot
    --<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="export-1"<span class="token entity named-entity" title=">">&amp;gt;</span>
        <span class="token entity named-entity" title="<">&amp;lt;</span>!--
        The <span class="token entity named-entity" title="<">&amp;lt;</span>import<span class="token entity named-entity" title=">">&amp;gt;</span> element that actually imports the contents of its destination slot
        --<span class="token entity named-entity" title=">">&amp;gt;</span>
        <span class="token entity named-entity" title="<">&amp;lt;</span>import name="default-content" template="~"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/import<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>

<span class="token entity named-entity" title="<">&amp;lt;</span>/template<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>On the slot side, the <code>&lt;import&gt;</code> element will be acting as a module and its contents can be defined as <em>module exports</em>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>div template="module2"<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>!--
    The <span class="token entity named-entity" title="<">&amp;lt;</span>import<span class="token entity named-entity" title=">">&amp;gt;</span> element as a module
    --<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>import name="export-1"<span class="token entity named-entity" title=">">&amp;gt;</span>
        <span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="default-content"<span class="token entity named-entity" title=">">&amp;gt;</span>No results<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>/import<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The default content is thus persisted on resolving the above.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="<">&amp;lt;</span>div template="module2"<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="export-1" template="@slot"<span class="token entity named-entity" title=">">&amp;gt;</span>
        <span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="default-content"<span class="token entity named-entity" title=">">&amp;gt;</span>No results<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
<span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	</ul>
        	<h2 id="isomorphic-rendering">Isomorphic Rendering</h2>
        	<p>When rendering happens on the server and has to be serialized for the browser to take over, <code>&lt;import&gt;</code> elements that are replaced on the server will need to be kept in some way in the serialized HTML output. This would enable the browser, on load, to <em>hydrate</em> the original <code>&lt;import&gt;</code> elements and map them in their replaced state to their currently slotted contents. With this, deleting a slot's contents, for example, should still trigger the restoration of the hydrated <code>&lt;import&gt;</code> element.</p>
        	<p>HTML Imports makes it possible to serialize <code>&lt;import&gt;</code> elements into <em>comment nodes</em> (<code>&lt;!-- &lt;import&gt;&lt;/import&gt; --&gt;</code>) when rendering on the server. HTML Imports in the browser can also be told to rehydrate the resolved <code>&lt;!-- &lt;import&gt;&lt;/import&gt; --&gt;</code> elements found in the server's serialized HTML output. This feature is turned on by setting the <code>isomorphic</code> directive to <code>1</code> or <code>true</code> on the <a href="/tooling/oohtml/docs/resources/meta-tag">OOHTML META tag</a>.</p>
        	<p><strong>HTML to be rendered on the server</strong></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isomorphic=true;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>headline<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>Default Headline<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>blue</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><strong>The serialized HTML output</strong></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isomorphic=true;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>headline<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- &lt;import name="export-1" id="headline" style="color:red"&gt;Default Headline&lt;/import&gt; --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>blue</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- &lt;import template="module1" name="export-1" style="color:blue"&gt;&lt;/import&gt; --&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><strong>Hydrated slots in the browser</strong></p>
        	<p>On loading the above serialized HTML output in the browser, find and delete the server-slotted element with ID <code>#headline</code>. The original <code>&lt;import&gt;</code> element should now be restored.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isomorphic=true;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slot-1<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>headline<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>Default Headline<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- &lt;import name="slot-1" id="headline" style="color:red"&gt;Default Headline&lt;/import&gt; --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">import</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slot-1<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>blue</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- &lt;import template="module1" name="slot-1" style="color:blue"&gt;&lt;/import&gt; --&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<h2 id="polyfill-support">Polyfill Support</h2>
        	<p>The current <a href="/tooling/oohtml/docs/getting-started/polyfill">OOHTML polyfill implementation</a> has full support for HTML Imports. The polyfill additionally makes it possible to customise the following areas of its implementation of the syntax using the <a href="/tooling/oohtml/docs/resources/meta-tag">OOHTML META tag</a>:</p>
        	<ul>
        	<li><p><strong><a href="#convention">element.import</a></strong> - The tag name for the <code>&lt;import&gt;</code> element. The standard <code>&lt;import&gt;</code> element is <code>&lt;import&gt;</code>. This can be changed where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>element.import=html-import;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html-import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html-import</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong><a href="#convention">attr.importid</a></strong> - The <em>import ID</em> attribute. The standard attribute is <code>name</code>, but you may use a custom attribute name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.importid=data-name;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong><a href="#module-reference-specificity">attr.templatespec</a></strong> - The <em>module specificity</em> attribute. The standard attribute is <code>exportsearch</code>, but you may use a custom attribute name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.templatespec=module-specificity;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span> <span class="token attr-name">module-specificity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	</ul>
        	<p>Learn more about customization and the OOHTML META tag <a href="/tooling/oohtml/docs/resources/meta-tag">here</a>.</p>
        </div>
    </template>
    <template name="html-modules">
        <div exportgroup="README.md">
        	<h1 id="html-modules">HTML Modules</h1>
        	<p><em>HTML Modules</em> is a templating feature that lets us write reusable HTML markup using the <em>module</em>, <em>export</em> and  <em>import</em> paradigm. This feature establishes the standard <code>&lt;template&gt;</code> element as the foundation of a module infrastructure for HTML and introduces new attributes, properties and events that together closes the loop.</p>
        	<blockquote>
        	  <p>OOHTML is <a href="https://discourse.wicg.io/t/proposal-chtml/4716">being proposed as a native browser technology</a> while currently available through a polyfill. Be sure to check the <a href="#polyfill-support">Polyfill Support</a> section below for the features on this page.</p>
        	</blockquote>
        	<h2 id="convention">Convention</h2>
        	<p>An HTML module is a standard <code>&lt;template&gt;</code> element with a <code>name</code> attribute - which serves as the <em>module identifier</em>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How old are you?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The contents of a module are simply the <em>module exports</em>.</p>
        	<p>Now, exports may be more properly wrapped within an <code>&lt;export&gt;</code> element of a designated name - the <em>export identifier</em>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>export</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>question<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How old are you?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>export</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>This is another export<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Or they may be individually <em>tagged</em> to an export identifier using the <code>exportgroup</code> attribute.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>question<span class="token punctuation">"</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How old are you?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>question<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>This is another export<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Contents not associated with an export identifier are regarded as <em>default exports</em>. They implicitly have 'default' as their export identifier.</p>
        	<h3 id="module-naming-guide">Module-Naming Guide</h3>
        	<ul>
        	<li>A module ID must not contain any special characters (e.g <code>~</code>, <code>#</code>, <code>/</code>, <code>&amp;</code>, <code>!</code>, <code>^</code>, <code>%</code>, <code>+</code>, <code>.</code>, etc) except the following: <code>@</code>, <code>-</code>, <code>_</code>.</li>
        	</ul>
        	<h3 id="module-nesting">Module Nesting</h3>
        	<p>For organizational purposes, modules may be nested.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>This is snippet 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>This is snippet 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_nested<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>This is snippet 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>This is snippet 4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The full <em>module ID</em> of a nested module would be a path expression, e.g <code>module1/module_nested</code>.</p>
        	<p>Unnested modules are called <em>top-level modules</em>.</p>
        	<h3 id="module-referencing">Module Referencing</h3>
        	<p>Modules can be referenced by their module ID from anywhere in a page using the <code>template</code> attribute. Think Custom Elements that often depend on templates for their Shadow DOM's source markup. These dependencies would be simply declared using the <code>template</code> attribute.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-prompt</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-prompt</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Or in the case of a nested module.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-prompt</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1/module_nested<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-prompt</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The internal JavaScript code for <code>&lt;my-prompt&gt;</code> would simply get a copy of the referenced module delivered via the <a href="#api">modules API</a>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">const</span> myPrompt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'my-prompt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myPrompt<span class="token punctuation">.</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// HTMLTemplateElement {}</span></code></pre>
        	<blockquote>
        	  <p>The <code>template</code> attribute supports all of <a href="#module-reference-expressions">Module Reference Expressions</a>.</p>
        	</blockquote>
        	<h2 id="remote-content">Remote Content</h2>
        	<p>Template elements may reference remote content using the <code>src</code> attribute.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_nested<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_remote<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/bundle.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><strong>Remote file: /bundle.html</strong></p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_loaded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Remote contents automatically become the template's content on load.</p>
        	<blockquote>
        	  <p>The <code>src</code> attribute isn't honoured when a template already has content.</p>
        	</blockquote>
        	<h2 id="api">API</h2>
        	<p><em>HTML Modules</em> offers a set of APIs that lets us access modules, imports and exports as JavaScript objects and properties. One advantage this gives us is that it minimizes selector-based queries.</p>
        	<ul>
        	<li><p><strong>document.templatesQuery(query): HTMLTemplateElement</strong> - This is a method on the <code>document</code> object for querying the document's module tree using a query expression. </p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// module1 = "copy" of document.templates.module1</span>
<span class="token comment">// console.log(module1 === document.templates.module1); // false</span></code></pre>
        	<blockquote>
        	  <p>This method supports all of <a href="#module-reference-expressions">Module Reference Expressions</a>.</p>
        	</blockquote></li>
        	<li><p><strong>document.templates: Object</strong> - This is a <em>readonly</em> property on the <code>document</code> object that gives the document's top-level templates as an object.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module1 <span class="token operator">=</span> document<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>module1<span class="token punctuation">;</span> <span class="token comment">// Returns the "module1" element in the markup somewhere above</span></code></pre></li>
        	<li><p><strong>HTMLTemplateElement.prototype.templates: Object</strong> - This is a <em>readonly</em> property on the <code>&lt;template&gt;</code> element that gives the template's own nested templates as an object.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module1 <span class="token operator">=</span> document<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>module1<span class="token punctuation">;</span>
<span class="token keyword">let</span> module_nested <span class="token operator">=</span> module1<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>module_nested<span class="token punctuation">;</span> <span class="token comment">// Returns the nested "module_nested" element above</span></code></pre></li>
        	<li><p><strong>HTMLTemplateElement.prototype.exports: Object</strong> - This is a <em>readonly</em> property on the <code>&lt;template&gt;</code> element that gives the template's <em>exports</em> as an object. Each export is given as an <em>array</em> of elements.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module1 <span class="token operator">=</span> document<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>module1<span class="token punctuation">;</span>

<span class="token comment">// Named exports</span>
<span class="token keyword">let</span> questionExport <span class="token operator">=</span> module1<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>question<span class="token punctuation">;</span> <span class="token comment">// Returns the "label" and "input" elements above</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>questionExport<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

<span class="token keyword">let</span> defaultExport <span class="token operator">=</span> module1<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>default<span class="token punctuation">;</span> <span class="token comment">// Returns the "default" export in the markup somewhere above</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>defaultExport<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></code></pre></li>
        	<li><p><strong>Element.prototype.template: HTMLTemplateElement</strong> - This is a <em>readonly</em> property of any element that returns <em>a copy</em> of the element's referenced module - the <code>&lt;template&gt;</code> element that is referenced in its <code>template</code> attribute.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-prompt</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-prompt</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> templateDependency <span class="token operator">=</span> myPrompt<span class="token punctuation">.</span>template<span class="token punctuation">;</span>
<span class="token comment">// A copy of module1</span></code></pre>
        	<p>Here's how this could be used in the internal JavaScript code of the <code>&lt;my-prompt&gt;</code> custom element.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'my-prompt'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> HTMLElement <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Get the referenced template element</span>
        <span class="token keyword">let</span> moduleReference <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">;</span>
        <span class="token comment">// Clone its "question" export</span>
        <span class="token keyword">let</span> shadowContent <span class="token operator">=</span> moduleReference<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>question<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Create Shadow DOM and send in the content</span>
        <span class="token keyword">let</span> shadow <span class="token operator">=</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'open'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        shadow<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token operator">...</span>shadowContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Here's how the HTML consuming the component could look.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Flavour 1 of &lt;my-prompt&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-prompt</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-prompt</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Flavour 2 of &lt;my-prompt&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-prompt</span> <span class="token attr-name">template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-prompt</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	</ul>
        	<h3 id="module-events">Module Events</h3>
        	<p>The following events are fired on <code>&lt;template&gt;</code> elements that load remote content.</p>
        	<ul>
        	<li><strong>load: Event</strong> - This event is fired on the <code>&lt;template&gt;</code> element on loading its remote content.</li>
        	<li><strong>loaderror: Event</strong> - This event is fired on the <code>&lt;template&gt;</code> element when there is an error loading its remote content.</li>
        	</ul>
        	<p>The following events are fired on the document object when the document's modules or their composition change.</p>
        	<ul>
        	<li><p><strong>templatemutation: Event</strong> - This event is fired on the <code>document</code> object when templates are added to or removed from the document, or when exports are added to or removed from a module. The <em>event</em> object has a <code>.detail</code> property that gives the details of the event.</p>
        	<ul>
        	<li><strong>event.detail.path: String</strong> - This gives the path to the event source, the module under which the event is fired. This is empty when top-level modules are added to or removed from the document.</li>
        	<li><strong>event.detail.addedExports: Array</strong> - This gives the list of exports added to a module. Each <em>entry</em> is an object describing the added export.<ul>
        	<li><strong>entry.name: String</strong> - The name of the export.</li>
        	<li><strong>entry.items: Array</strong> - Elements in the export.</li></ul></li>
        	<li><strong>event.detail.removedExports: Array</strong> - This gives the list of exports removed from a module. Each <em>entry</em> is an object describing the removed export.<ul>
        	<li><strong>entry.name: String</strong> - The name of the export.</li>
        	<li><strong>entry.items: Array</strong> - Elements in the export.</li></ul></li>
        	<li><strong>event.detail.addedTemplates: Array</strong> - This gives the list of templates added to a module or the top-level scope. Each <em>entry</em> is an object describing the added template.<ul>
        	<li><strong>entry.name: String</strong> - The name of the template.</li>
        	<li><strong>entry.item: HTMLTemplateElement</strong> - The template element.</li></ul></li>
        	<li><strong>event.detail.removedTemplates: Array</strong> - This gives the list of templates removed from a module or the top-level scope. Each <em>entry</em> is an object describing the removed template.<ul>
        	<li><strong>entry.name: String</strong> - The name of the template.</li>
        	<li><strong>entry.item: HTMLTemplateElement</strong> - The template element.</li></ul></li></ul>
        	<p>With the listener below, adding a new template to the document, or removing one, will be reported in the console.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'templatemutation'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>With the code below, the fired event's <code>.detail.path</code> property will be empty, while its <code>.detail.addedTemplates</code> property will give a list of one added template whose <em>name</em> is <code>module2</code>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> template <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
template<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'module2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>With the code below, when the nested module is done loading its contents, its exports are given in a <code>templatemutation</code> event on its <code>.detail.addedExports</code> property. If loaded contents include template elements themselves, they will be given in the event's <code>.detail.addedTemplates</code> property. The event's <code>.detail.path</code> property itself will be <code>module2/module_remote</code>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="export5"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="export6"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>template name="module_remote" src="/bundle.html"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/template<span class="token entity named-entity" title=">">&amp;gt;</span>

<span class="token entity named-entity" title="<">&amp;lt;</span>/template<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong>templatecontentloaded: Event</strong> - This event is fired on the <code>document</code> object when a template completes loading its remote content. The event object has a <code>.detail</code> property that gives the template element and its path.</p>
        	<p>With the code below, when the nested template is done loading its contents, a report is logged to the console with path being <code>module2/module_remote</code>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'templatecontentloaded'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>path<span class="token punctuation">,</span> event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="export5"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>div exportgroup="export6"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/div<span class="token entity named-entity" title=">">&amp;gt;</span>
    <span class="token entity named-entity" title="<">&amp;lt;</span>template name="module_remote" src="/bundle.html"<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token entity named-entity" title="<">&amp;lt;</span>/template<span class="token entity named-entity" title=">">&amp;gt;</span>

<span class="token entity named-entity" title="<">&amp;lt;</span>/template<span class="token entity named-entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong>templatecontentloaderror: Event</strong> - This event is fired on the <code>document</code> object when a template fails loading its remote content. The event object has a <code>.detail</code> property that gives the template element and its path.</p></li>
        	</ul>
        	<h3 id="module-reference-expressions">Module Reference Expressions</h3>
        	<p>OOHTML supports expressions that make it easier to get to modules and their exports.</p>
        	<ul>
        	<li><p>Path expressions supported: <strong>/</strong>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module_nested <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module1/module_nested'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// module_nested = "copy" of document.templates.module1.templates.module_nested</span>
<span class="token comment">// console.log(module_nested === document.templates.module1.templates.module_nested); // false</span></code></pre></li>
        	<li><p>Filters supported: <strong>:having()</strong>, <strong>:not-having()</strong>.</p>
        	<p><em>Assert that a module has an export.</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module_nested <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module1:having(:export5)/module_nested'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><em>Assert that a module has a nested module.</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> moduleRemote <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module1:having(module_nested)/module_remote'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	<li><p>Logical and mathematical operators supported: <strong>|</strong>, <strong>+</strong>, <strong>*</strong>.</p>
        	<p><em>Return the first module if exists, otherwise, second module.</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> moduleRemote <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module1/module_nonexistent|module_remote'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><em>Return the joint contents of first module and second module. (Contents = both modules and exports.)</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> moduleJoint <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module1/module_nonexistent+module_remote'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><em>Return the joint contents of all modules at given level. (Contents = both modules and exports.)</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> moduleJoint <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module1/*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	<li><p>Find a module deeply: <strong>:deep()</strong>, <strong>:deepest()</strong>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_nested<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_nested_middle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_nested<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>Return the deeply-first <code>module_nested</code>.</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module_nested_Deep <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module_nested:deep()'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><em>Return the deeply-last <code>module_nested</code>.</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module_nested_Deepest <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module_remote:deepest()'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	<li><p>Optional chaining supported. <strong>?/</strong>.</p>
        	<p><em>Return the deeply-last module. (Expects: <code>module_nested_middle</code>)</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module_nested_middle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'root?/module_nested?/module_nested_middle?/module_nonexistent?/module_nonexistent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><em>(Equivalent accessor syntax)</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">var</span> segement<span class="token punctuation">,</span> path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'module_nested'</span><span class="token punctuation">,</span> <span class="token string">'module_nested_middle'</span><span class="token punctuation">,</span> <span class="token string">'module_nonexistent'</span><span class="token punctuation">,</span> <span class="token string">'module_nonexistent'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> documents<span class="token punctuation">.</span>templates<span class="token punctuation">.</span>root<span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>segement <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> module<span class="token punctuation">.</span>templates<span class="token punctuation">[</span>segement<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    module <span class="token operator">=</span> module<span class="token punctuation">.</span>templates<span class="token punctuation">[</span>segement<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
module_nested_middle <span class="token operator">=</span> module<span class="token punctuation">;</span></code></pre></li>
        	<li><p>Complex expression supported.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_nested<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_nested_middle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_nested<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_near_leaf_a<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_leaf_a<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_near_leaf_b<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module_leaf_b<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p><em>Return the deeply-last <code>module_nested:having(module_nested_middle)</code>.</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module_nested_Deep <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module_remote:having(module_nested_middle):deepest()'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><em>Return the deeply-last <code>module_nested</code> if <code>:having(module_nested_middle)</code>.</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> not_found <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module_remote:deepest():having(module_nested_middle)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Not found. The order of the assertions matters</span></code></pre>
        	<p><em>Return <code>module_nested_middle</code>.</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module_nested_middle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module_remote:having(module_nested_middle):deep()/module_nested_middle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><em>Skip and skip until the level: <code>module_near_leaf_</code>, join their contents and return <code>module_leaf_a</code>.</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module_leaf_a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">templatesQuery</span><span class="token punctuation">(</span><span class="token string">'module_nested_middle:deep()/module_near_leaf_a:deep()+module_near_leaf_b:deep()/module_leaf_a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	</ul>
        	<h2 id="polyfill-support">Polyfill Support</h2>
        	<p>The current <a href="/tooling/oohtml/docs/getting-started/polyfill">OOHTML polyfill implementation</a> has full support for the HTML Modules specification. The polyfill additionally makes it possible to customise the following areas of its implementation of the syntax using the <a href="/tooling/oohtml/docs/resources/meta-tag">OOHTML META tag</a>:</p>
        	<ul>
        	<li><p><strong><a href="#convention">attr.moduleid</a></strong> - The <em>module ID</em> attribute. The standard attribute is <code>name</code>, but you may use a custom attribute name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.moduleid=data-name;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong><a href="#convention">element.export</a></strong> - The tag name for the <code>&lt;export&gt;</code> element. The standard <code>&lt;export&gt;</code> element is <code>&lt;export&gt;</code>. This can be changed where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>element.export=html-export;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html-export</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html-export</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong><a href="#convention">attr.exportid</a></strong> - The <em>export ID</em> attribute. The standard attribute is <code>name</code>, but you may use a custom attribute name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.exportid=data-name;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>export</span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>export</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>export</span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>export</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong><a href="#convention">attr.exportgroup</a></strong> - The <em>exportgroup</em> attribute. The standard attribute is <code>exportgroup</code>, but you may use a custom attribute name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.exportgroup=data-exportgroup;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-exportgroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong><a href="#convention">attr.moduleref</a></strong> - The <em>module reference</em> attribute. The standard attribute is <code>template</code>, but you may use a custom attribute name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.moduleref=data-template;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-template</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>export-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong><a href="#api">api.templates</a></strong> - The <em>templates</em> property exposed on the document object and on HTML template elements. The standard property is <code>templates</code>, but you may use a custom property name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>api.templates=templatelist;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> module1 <span class="token operator">=</span> document<span class="token punctuation">.</span>templatelist<span class="token punctuation">.</span>module1<span class="token punctuation">;</span></code></pre></li>
        	<li><p><strong><a href="#api">api.exports</a></strong> - The <em>exports</em> property exposed on HTML template elements. The standard property is <code>templates</code>, but you may use a custom property name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>api.exports=exportlist;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> export1 <span class="token operator">=</span> module1<span class="token punctuation">.</span>exportlist<span class="token punctuation">.</span>export1<span class="token punctuation">;</span></code></pre></li>
        	<li><p><strong><a href="#api">api.moduleref</a></strong> - The <em>module reference</em> property exposed on HTML elements. The standard property is <code>template</code>, but you may use a custom property name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>api.moduleref=tpl;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> templateDependency <span class="token operator">=</span> myPrompt<span class="token punctuation">.</span>tpl<span class="token punctuation">;</span></code></pre></li>
        	</ul>
        	<p>Learn more about customization and the OOHTML meta tag <a href="/tooling/oohtml/docs/resources/meta-tag">here</a>.</p>
        </div>
    </template>
    <template name="namespaced-html">
        <div exportgroup="README.md">
        	<h1 id="namespaced-html">Namespaced HTML</h1>
        	<p>Namespacing provides a way to let an element establish its own naming context for descendant elements. This makes it possible to keep IDs scoped to a context other than the document's global scope; thus the ability to write collision-free IDs across a page.</p>
        	<p>Namespaced HTML is a document that is structured as a hierarchy of <em>scopes</em> and <em>subscopes</em>.</p>
        	<blockquote>
        	  <p>OOHTML is <a href="https://discourse.wicg.io/t/proposal-chtml/4716">being proposed as a native browser technology</a> while currently available through a polyfill. Be sure to check the <a href="#polyfill-support">Polyfill Support</a> section below for the features on this page.</p>
        	</blockquote>
        	<h2 id="convention">Convention</h2>
        	<p>Namespaces are designated with the <code>namespace</code> <em>Boolean</em> attribute.</p>
        	<p>In the code below, the given ID is scoped to the element with the <code>namespace</code> attribute.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>some-id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>And below is a <strong>hierarchy of <em>namespaces</em> and <em>sub namespaces</em></strong>.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continents<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>europe<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>about<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>About Europe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>countries<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Countries in Europe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>asia<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>about<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>About Asia<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>countries<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Countries in Asia<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The above gives us a conceptual model of repeating objects, each encapsulating its IDs:</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html">continents
 europe
    about
    countries
 asia
     about
     countries</code></pre>
        	<h2 id="namespaced-selectors">Namespaced Selectors</h2>
        	<p>Being able to layout elements in namespaces makes it possible to write collision-free CSS selectors. OOHTML introduces the concept of <em>Namespaced Selectors</em> which are regular CSS expressions written with a path notation.</p>
        	<p>Namespaced Selectors use the forward slash <code>/</code> to denote a namespace boundary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#continents / #europe / #countries</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> darkblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#continents / #asia / div</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>And this convention can be used with existing DOM Selector APIs.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> aboutAsia <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#continents / #asia / #about'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> divsAsia <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'#continents / #asia / div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<h2 id="api">API</h2>
        	<p><em>Namespaced HTML</em> offers an API for traversing namespaces as object trees. One advantage this gives us is that it minimizes selector-based queries.</p>
        	<ul>
        	<li><p><strong>document.namespace: Object</strong> - This <em>readonly</em> property gives the document's namespaced IDs - IDs scoped to the document - as an object.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> continents <span class="token operator">=</span> document<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>continents<span class="token punctuation">;</span> <span class="token comment">// Returns the "#continents" element in the markup above</span></code></pre></li>
        	<li><p><strong>Element.prototype.namespace: Object</strong> - This <em>readonly</em> property gives an element's namespaced IDs - IDs scoped to the element - as an object.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Get the "continents" article</span>
<span class="token keyword">let</span> continents <span class="token operator">=</span> document<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>continents<span class="token punctuation">;</span>

<span class="token comment">// Access scoped IDs with the new "namespace" DOM property</span>
<span class="token keyword">let</span> europe <span class="token operator">=</span> continents<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>europe<span class="token punctuation">;</span>
<span class="token keyword">let</span> asia <span class="token operator">=</span> continents<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>asia<span class="token punctuation">;</span>

<span class="token comment">// And for deeply-nested IDs...</span>
<span class="token keyword">let</span> aboutAsia <span class="token operator">=</span> continents<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>asia<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>about<span class="token punctuation">;</span></code></pre></li>
        	</ul>
        	<h2 id="namespace-observability">Namespace Observability</h2>
        	<p>The <code>document.namespace</code> property and the <code>Element.prototype.namespace</code> property are implemented as <em>live objects</em> that can be observed for realtime changes in the namespace tree. Live objects are observed using the <a href="/tooling/oohtml/docs/the-observer-api">Observer API</a>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Obtain the Observer API and use the Observer.observe() method</span>
Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>continents<span class="token punctuation">.</span>namespace<span class="token punctuation">,</span> <span class="token parameter">events</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    events<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>path<span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>We could as well specify just the path to observe on the function's second parameter.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>continents<span class="token punctuation">.</span>namespace<span class="token punctuation">,</span> <span class="token string">'africa'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// We're now also logging the event's value, that is, the element</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>With the code above, adding a new ID - <code>africa</code> - to the <code>continents</code> namespace would be reported in the console.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> section <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'section'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
section<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'africa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
continents<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>section<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Removing this element would trigger our observer in the same way.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">continents<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>africa<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>To observe changes down the namespace hierarchy, we would set the observer's <code>params.subtree</code> to <code>true</code>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>continents<span class="token punctuation">.</span>namespace<span class="token punctuation">,</span> <span class="token parameter">events</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    events<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>path<span class="token comment">/*watch this*/</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">subtree</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>We could as well specify just the path to observe.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>continents<span class="token punctuation">.</span>namespace<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'africa'</span><span class="token punctuation">,</span> <span class="token string">'namespace'</span><span class="token punctuation">,</span> <span class="token string">'countries'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> e<span class="token punctuation">.</span>path<span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>Other possibilities can be found in the Observer API documentation.</p>
        	<h2 id="polyfill-support">Polyfill Support</h2>
        	<p>The current <a href="/tooling/oohtml/docs/getting-started/polyfill">OOHTML polyfill implementation</a> has good support for the Namespaced HTML Specification. With the exception of <a href="#namespaced-selectors">Namespaced Selectors</a>, all aspects of the specification are supported. The polyfill additionally makes it possible to customise the following areas of its implementation of the syntax using the <a href="/tooling/oohtml/docs/resources/meta-tag">OOHTML META tag</a>:</p>
        	<ul>
        	<li><p><strong><a href="#convention">attr.namespace</a></strong> - The <em>namespace keyword</em> attribute. The standard <em>namespace keyword</em> attribute is <code>namespace</code>, but you may use a custom attribute name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.namespace=data-namespace;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id01<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id02<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong><a href="#convention">attr.id</a></strong> - The <em>namespaced-ID</em> attribute. The standard <em>namespaced-ID</em> attribute is <code>id</code>, but you may use a custom attribute name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>attr.id=data-id;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id01<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id02<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	<li><p><strong><a href="#api">api.namespace</a></strong> - The <em>namespace</em> property exposed on the document object and on elements. The standard <em>namespace</em> property is <code>namespace</code>, but you may use a custom property name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>api.namespace=ns;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Get the "continents" article</span>
<span class="token keyword">let</span> continents <span class="token operator">=</span> document<span class="token punctuation">.</span>ns<span class="token punctuation">.</span>continents<span class="token punctuation">;</span></code></pre></li>
        	</ul>
        	<p>Learn more about customization and the OOHTML meta tag <a href="/tooling/oohtml/docs/spec/meta-tag">here</a>.</p>
        </div>
    </template>
    <template name="subscript">
        <div exportgroup="README.md">
        	<h1 id="subscript">Subscript</h1>
        	<p><a href="/tooling/subscript">Subscript</a> is a special language feature for JavaScript that lets us write <em>reactive</em> JavaScript code in plain JavaScript. <em>Subscript UI</em> is a &lt;1KB extension of Subscript that further simplifies the concept of reactivity for UI development.</p>
        	<blockquote>
        	  <p>OOHTML is <a href="https://discourse.wicg.io/t/proposal-chtml/4716">being proposed as a native browser technology</a> while currently available through a polyfill. Be sure to check the <a href="#polyfill-support">Polyfill Support</a> section below for the features on this page.</p>
        	</blockquote>
        	<h2 id="convention">Convention</h2>
        	<h3 id="subscriptelement">SubscriptElement</h3>
        	<p><em>SubscriptElement</em> is an extension of <a href="/tooling/subscript/docs/spec/api#subscriptclass"><code>SubscriptClass</code></a> - a base class <em>Mixin</em> for designating <em>reactive</em> class methods.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// If loaded as a script tag...</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> SubscriptElement <span class="token punctuation">}</span> <span class="token operator">=</span> window<span class="token punctuation">.</span>WebQit<span class="token punctuation">.</span><span class="token constant">OOHTML</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// If installed as an NPM package...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> SubscriptElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@webqit/oohtml'</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token keyword">extends</span> <span class="token class-name">SubscriptElement</span><span class="token punctuation">(</span> HTMLElement <span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">subscriptMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span> <span class="token string">'render'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
        	<h4 id="usage">Usage</h4>
        	<p><strong>An <em>alert</em> element</strong>:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'my-alert'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Alert</span> <span class="token keyword">extends</span> <span class="token class-name">SubscriptElement</span><span class="token punctuation">(</span> HTMLElement <span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">subscriptMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// The list of methods to make reactive methods</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span> <span class="token string">'render'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Initial rendering</span>
        <span class="token comment">// after which automatic selective rendering kicks in</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> messageElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'.message'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        messageElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> globalMessage<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">var</span> globalMessage <span class="token operator">=</span> <span class="token string">'This site uses cookies!'</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-alert</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-alert</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<h3 id="scopedsubscript">ScopedSubscript</h3>
        	<p><em>ScopedSubscript</em> is a <code>&lt;script&gt;</code>-based flavour of Subscript that lets us write <em>reactive</em> <code>&lt;script&gt;</code> elements right within an HTML document; each scoped to their host element instead of the global browser scope.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// alert</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>The <code>&lt;script&gt;</code> above is scoped to the <code>#alert</code> element - its host element; the <code>this</code> variable is a reference to the script's host element.</p>
        	<p>This lets us have reactive UI logic jsut where they are needed, without involving any JavaScript classes or files.</p>
        	<h4 id="usage-1">Usage</h4>
        	<p><strong>An <em>alert</em> element</strong>:</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">var</span> globalMessage <span class="token operator">=</span> <span class="token string">'This site uses cookies!'</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- Scoped Subscript --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
            <span class="token keyword">let</span> messageElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'.message'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            messageElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> globalMessage<span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<h3 id="class-based-or-script-based-or-both">Class-Based Or Script-Based Or Both!</h3>
        	<p>One difference between <em>class</em>-based Subscript and <code>&lt;script&gt;</code>-based Subscript is that while you'd explicitly call the class methods initially in the case of the former, you'd have the code run automatically in the case of the latter.</p>
        	<p>And it can be either <em>class</em>-based or <code>&lt;script&gt;</code>-based, or both! (For power users. )</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-alert</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!------------ managed at &lt;my-alert&gt;'s render() method --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!------------ introducing an icon, managed below --&gt;</span>

    <span class="token comment">&lt;!-- Scoped Subscript --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">let</span> iconElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'.icon'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        iconElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> <span class="token string">'icon-alert'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-alert</span><span class="token punctuation">&gt;</span></span></code></pre>
        	<p>Also, <em>class</em>-based Subscript is primarily imperative, whereas <code>&lt;script&gt;</code>-based Subscript is primarily declarative! But interestingly, an equivalent imperative API is offered in both cases via a <code>.subscripts</code> property.</p>
        	<p><em>For the <code>#alert</code> element</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Retreive the "alert" elements</span>
<span class="token keyword">let</span> alertElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'#alert'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Obtain the first embedded script. (Indexes are zero-based.)</span>
<span class="token keyword">let</span> scopedSubscript1 <span class="token operator">=</span> alertElement<span class="token punctuation">.</span>subscripts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Call for a full rerun</span>
<span class="token function">scopedSubscript1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Call for a reactive rerun. (Details ahead!)</span>
scopedSubscript1<span class="token punctuation">.</span><span class="token function">thread</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">'globalMessage'</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><em>For the <code>my-alert</code> element</em></p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Retreive the "alert" elements</span>
<span class="token keyword">let</span> myAlertElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'my-alert'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Obtain the render method in either of two ways</span>
<span class="token keyword">let</span> renderMethod <span class="token operator">=</span> myAlertElement<span class="token punctuation">.</span>subscripts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> <span class="token string">'render'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Similar to: myAlertElement.render.bind( myAlertElement );</span>
<span class="token comment">// Obtain the first embedded script. (Indexes are zero-based.)</span>
<span class="token keyword">let</span> scopedSubscript1 <span class="token operator">=</span> myAlertElement<span class="token punctuation">.</span>subscripts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Call for a full rerun</span>
<span class="token function">renderMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scopedSubscript1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Call for a reactive rerun. (Details ahead!)</span>
renderMethod<span class="token punctuation">.</span><span class="token function">thread</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">'globalMessage'</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
scopedSubscript1<span class="token punctuation">.</span><span class="token function">thread</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">'globalMessage'</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<h2 id="reactivity-and-observability">Reactivity And Observability</h2>
        	<p>Subscript offers a unique approach to reactivity that stands out for its simplicity and performance! Whether <em>class</em>-based or <code>&lt;script&gt;</code>-based, reactivity is implicit with Subscript; requiring nothing of a framework-specific syntax!</p>
        	<p>All we do when something changes is to fire up Subscript with the list of variables or properties that have changed, and Subscript will re-run just the statement (or a selection of statements, called a <em>dependency thread</em>) that has a <em>binding</em> to the variables; every other statement is skipped!</p>
        	<p>In the two-line JavaScript code that defines the <em>alert</em> elements above, only the second statement is re-run when we <em>run a thread for <code>globalMessage</code></em>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">globalMessage <span class="token operator">+=</span> <span class="token string">' Click the botton below to make your cookie choices.'</span><span class="token punctuation">;</span>
renderMethod<span class="token punctuation">.</span><span class="token function">thread</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">'globalMessage'</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>The <code>.thread()</code> method is Subscript's unique one-liner approach to perfect, granular, performant reactivity; without concerning itself with how the supposed changes are made or how anything is observed!</p>
        	<p>Subscript UI takes this further to introduce <em>automatic observability</em> over the <code>document</code> object and over each element that implements Subscript - <em>class</em>-based or <code>&lt;script&gt;</code>-based. It uses the <a href="/tooling/oohtml/docs/resources/the-observer-api">Observer API</a> under the hood. </p>
        	<p>Thus, property mutations on the <code>document</code> object or an element instance are reactive!</p>
        	<p><strong>An <em>alert</em> element</strong>, this time, based on a custom <code>document.message</code> property:</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Scoped Subscript --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">let</span> messageElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'.message'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        messageElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> document<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> document<span class="token punctuation">,</span> <span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token string">'This site uses cookies!'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> document<span class="token punctuation">,</span> <span class="token string">'message'</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span>message <span class="token operator">+</span> <span class="token string">' Click the botton below to make your cookie choices.'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p><strong>A <em>counter</em> element</strong>:</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>counter<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>count<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Scoped Subscript --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">let</span> countElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'.count'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        countElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> counterElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'#counter'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
Observer<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> counterElement<span class="token punctuation">,</span> <span class="token string">'count'</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    Observer<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> counterElement<span class="token punctuation">,</span> <span class="token string">'count'</span><span class="token punctuation">,</span> counterElement<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<h2 id="keeping-it-neat-with-the-state-api-and-the-namespace-api">Keeping It Neat With the State API and the Namespace API</h2>
        	<p>So we don't litter the <code>document</code> object and element instances with custom properties everywhere, we're rewriting the above examples to leverage the <a href="/tooling/oohtml/docs/spec/the-state-api"><code>.state</code> API</a>, which natively uses the Observer API under the hood.</p>
        	<p>And to simplify our access to the DOM, we're also rewriting the <code>querySelector()</code> calls to leverage the <a href="/tooling/oohtml/docs/spec/namespaced-html">Namespace API</a>.</p>
        	<p><strong>The <em>alert</em> element</strong>:</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Scoped Subscript --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">let</span> messageElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
        messageElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'This site uses cookies!'</span><span class="token punctuation">;</span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>message <span class="token operator">+=</span> <span class="token string">' Click the botton below to make your cookie choices.'</span><span class="token punctuation">;</span></code></pre>
        	<p><strong>The <em>counter</em> element</strong>:</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>counter<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>count<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Scoped Subscript --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">let</span> countElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>namespace<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
        countElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> counterElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span> <span class="token string">'#counter'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
counterElement<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    counterElement<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<h2 id="polyfill-support">Polyfill Support</h2>
        	<p>The current <a href="/tooling/oohtml/docs/getting-started/polyfill">OOHTML polyfill implementation</a> has good support for Subscript. The polyfill additionally makes it possible to customise the follwoing areas of its implementation of the syntax using the <a href="/tooling/oohtml/docs/resources/meta-tag">OOHTML META tag</a>:</p>
        	<ul>
        	<li><p><strong><a href="#convention">selector.script</a></strong> - The CSS selector for matching the script element. The default selector is <code>script[type="subscript"]</code>. You may use a custom selector, like <code>script[is="my-script"][type="subscript"]</code>, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selector.script=script[is=<span class="token punctuation">'</span>my-script<span class="token punctuation">'</span>][type=<span class="token punctuation">'</span>reflex<span class="token punctuation">'</span>];<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-script<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-script<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre></li>
        	</ul>
        	<p>Learn more about customization and the OOHTML meta tag <a href="/tooling/oohtml/docs/resources/meta-tag">here</a>.</p>
        </div>
    </template>
    <template name="the-state-api">
        <div exportgroup="README.md">
        	<h1 id="the-state-api">The State API</h1>
        	<p>The State API is a DOM API that lets us maintain application state at the document level and at individual element levels. It brings application state closer to the UI and makes it easy to keep the UI in sync with all the changes taking place.</p>
        	<blockquote>
        	  <p>OOHTML is <a href="https://discourse.wicg.io/t/proposal-chtml/4716">being proposed as a native browser technology</a> while currently available through a polyfill. Be sure to check the <a href="#polyfill-support">Polyfill Support</a> section below for the features on this page.</p>
        	</blockquote>
        	<h2 id="api">API</h2>
        	<p>This API exposes a document-level <em>state object</em> on a <code>document.state</code> property, and an element-level <em>state object</em> on an <code>element.state</code> property. Arbitrary values can be set and retrieved on <em>state objects</em> the same way we would with regular objects.</p>
        	<h3 id="document-level-state">Document-Level State</h3>
        	<p>Document-level state represents the global state of an application.</p>
        	<ul>
        	<li><p><strong>document.state: Object</strong> - This <em>readonly</em> property exposes a <em>state object</em> whose properties can be written to and read from - from any part of the page.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Assign properties</span>
document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageTitle <span class="token operator">=</span> <span class="token string">'Hello World!'</span><span class="token punctuation">;</span>
<span class="token comment">// Access properties</span>
<span class="token keyword">let</span> pageTitle <span class="token operator">=</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageTitle<span class="token punctuation">;</span> <span class="token comment">// Hello World!</span></code></pre></li>
        	<li><p><strong>document.setState(state[, params]): Void</strong> - This method provides a programmatic way to set data on the <code>document.state</code> property. It lets us set multiple properties in a call, and gives us control over state mutation.</p>
        	<p><strong>Parameters:</strong></p>
        	<ul>
        	<li><code>state: Object</code> - The object to set as state or whose properties to update existing state with.</li>
        	<li><code>params: Object</code> - (Optional) Parameters for controlling state mutation:<ul>
        	<li><code>update: Boolean</code> - Specifies whether to simply update properties of existing state or to establish the given object as new state. Default: <code>false</code> - establish object as new state.</li></ul></li></ul>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Set object as state</span>
document<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">pageTitle</span><span class="token operator">:</span> <span class="token string">'Hello World!'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Access properties</span>
<span class="token keyword">let</span> pageTitle <span class="token operator">=</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageTitle<span class="token punctuation">;</span> <span class="token comment">// Hello World!</span>

<span class="token comment">// ----------</span>

<span class="token comment">// Update existing state object</span>
document<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">pageContent</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">'Thanks for visiting.'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">aside</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">update</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Access properties</span>
<span class="token keyword">let</span> pageTitle <span class="token operator">=</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageTitle<span class="token punctuation">;</span> <span class="token comment">// Hello World!</span>
<span class="token keyword">let</span> pageContent <span class="token operator">=</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageContent<span class="token punctuation">;</span> <span class="token comment">// {main, aside}</span>

<span class="token comment">// ----------</span>

<span class="token comment">// Set new state object</span>
document<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">pageTitle</span><span class="token operator">:</span> <span class="token string">'Bonjour le Monde!'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Access properties</span>
<span class="token keyword">let</span> pageTitle <span class="token operator">=</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageTitle<span class="token punctuation">;</span> <span class="token comment">// Bonjour le Monde!</span>
<span class="token keyword">let</span> pageContent <span class="token operator">=</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageContent<span class="token punctuation">;</span> <span class="token comment">// undefined</span></code></pre></li>
        	<li><p><strong>document.clearState(): Void</strong> - This method provides a programmatic way to clear existing data from the document's state object.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Clear existing data</span>
document<span class="token punctuation">.</span><span class="token function">clearState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	</ul>
        	<h3 id="element-level-state">Element-Level State</h3>
        	<p>Element-level state represents the local state of an element.</p>
        	<ul>
        	<li><p><strong>Element.prototype.state: Object</strong> - This <em>readonly</em> property exposes a <em>state object</em> for the element whose properties can written to and read as-is.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Assign properties</span>
myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">// Access properties</span>
<span class="token keyword">let</span> isCollapsed <span class="token operator">=</span> myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// -------</span>

<span class="token comment">// Example usage - a simple toggle</span>
myCollapsible<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        myCollapsible<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'auto'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        myCollapsible<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'0px'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed <span class="token operator">=</span> <span class="token operator">!</span>myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li>
        	<li><p><strong>Element.prototype.setState(state[, params]): Void</strong> - This method provides a programmatic way to set data on an element's <code>.state</code> property. It lets us set multiple properties in a call, and gives us control over state mutation.</p>
        	<p><strong>Parameters:</strong></p>
        	<ul>
        	<li><code>state: Object</code> - The object to set as state or whose properties to update existing state with.</li>
        	<li><code>params: Object</code> - (Optional) Parameters for controlling state mutation:<ul>
        	<li><code>update: Boolean</code> - Specifies whether to simply update properties of existing state or to establish the given object as new state. Default: <code>false</code> - establish object as new state.</li></ul></li></ul>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Set object as state</span>
myCollapsible<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">collapsed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Access properties</span>
<span class="token keyword">let</span> isCollapsed <span class="token operator">=</span> myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// ----------</span>

<span class="token comment">// Update existing state object</span>
myCollapsible<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">inView</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">update</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Access properties</span>
<span class="token keyword">let</span> isCollapsed <span class="token operator">=</span> myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">let</span> inView <span class="token operator">=</span> myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>inView<span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// ----------</span>

<span class="token comment">// Set new state object</span>
myCollapsible<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">collapsed</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Access properties</span>
<span class="token keyword">let</span> isCollapsed <span class="token operator">=</span> myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">let</span> inView <span class="token operator">=</span> myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>inView<span class="token punctuation">;</span> <span class="token comment">// undefined</span></code></pre></li>
        	<li><p><strong>Element.prototype.clearState(): Void</strong> - This method provides a programmatic way to clear existing data from an element's state object.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Clear existing data</span>
myCollapsible<span class="token punctuation">.</span><span class="token function">clearState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	</ul>
        	<h2 id="state-observability">State Observability</h2>
        	<p>State objects are a special kind of objects in that they support <em>observability</em>. The <code>document.state</code> property and the <code>Element.prototype.state</code> property are implemented as <em>live objects</em> that can be observed for property changes using the <a href="/tooling/oohtml/docs/spec/the-observer-api">Observer API</a>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// Obtain the Observer API and use the Observer.observe() method</span>
Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token parameter">events</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    events<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>path<span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>We could as well specify just the path to observe on the function's second parameter.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token string">'pageTitle'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>path<span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>With the code above, adding or updating the <code>pageTitle</code> property on the document's state object would be reported in the console.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageTitle <span class="token operator">=</span> <span class="token string">'Bonjour!'</span><span class="token punctuation">;</span></code></pre>
        	<p>Deleting this property would trigger our observer in the same way.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">delete</span> document<span class="token punctuation">.</span>state<span class="token punctuation">.</span>pageTitle<span class="token punctuation">;</span></code></pre>
        	<p>To observe changes down the state tree, we would set the observer's <code>params.subtree</code> to <code>true</code>.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token parameter">events</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    events<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>path<span class="token comment">/*watch this*/</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">subtree</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>We could as well specify just the path to observe.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'pageContent'</span><span class="token punctuation">,</span> <span class="token string">'aside'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>path<span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>With the code above, mutating a nested property would trigger the observer.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token comment">// State object</span>
<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">pageTitle</span><span class="token operator">:</span> <span class="token string">'Hello World!'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pageContent</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">'Thanks for visiting.'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">aside</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Mutate pageContent afterwards...</span>
Observer<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>pageContent<span class="token punctuation">,</span> <span class="token string">'aside'</span><span class="token punctuation">,</span> <span class="token string">'Related content...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<h3 id="a-custom-element-example">A Custom Element Example</h3>
        	<p>The following example demonstrates state observability in a custom element. Our logic below helps keep the UI and application state in sync. Noteworthy is that we are reflecting the <code>collapsed</code> state in the <code>data-collapsed</code> attribute and keeping a part of that state - <code>content</code> - <em>bound</em> to a descendant element.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'my-collapsible'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> HTMLElement <span class="token punctuation">{</span>

    <span class="token comment">/**
     * Creates the Shadow DOM
     */</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> contentElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Observe state and get the UI synced</span>
        Observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token parameter">events</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            events<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> <span class="token string">'collapsed'</span><span class="token operator">:</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> event<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">'0px'</span> <span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">;</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-active'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">'true'</span> <span class="token operator">:</span> <span class="token string">'false'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> <span class="token string">'inView'</span><span class="token operator">:</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>animation <span class="token operator">=</span> event<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">'fadein 440ms'</span> <span class="token operator">:</span> <span class="token string">'fadeout 440ms'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> <span class="token string">'content'</span><span class="token operator">:</span>
                        contentElement<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Implement the logic for toggling collapsion</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Implement the logic for detecting when in view</span>
        <span class="token keyword">let</span> io <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">entries</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>entries<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isIntersecting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>inView <span class="token operator">=</span> entries<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>intersectionRatio<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        io<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        	<p>External code gets a standard way to infer the state of the <code>&lt;my-collapsible&gt;</code> element.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js"><span class="token keyword">let</span> myCollapsible <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'my-collapsible'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> isCollapsed <span class="token operator">=</span> myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed<span class="token punctuation">;</span>
<span class="token keyword">let</span> inView <span class="token operator">=</span> myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>inView<span class="token punctuation">;</span></code></pre>
        	<p>External code gets a standard way to control state.</p>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">myCollapsible<span class="token punctuation">.</span>state<span class="token punctuation">.</span>collapsed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code></pre>
        	<h2 id="polyfill-support">Polyfill Support</h2>
        	<p>The current <a href="/tooling/oohtml/docs/getting-started/polyfill">OOHTML polyfill implementation</a> has full support for The State API. The polyfill additionally makes it possible to customise following areas of its implementation of the API using the <a href="/tooling/oohtml/docs/resources/meta-tag">OOHTML META tag</a>:</p>
        	<ul>
        	<li><p><strong><a href="#api">api.state</a></strong> - The property name for exposing the <em>state object</em> on DOM elements and the document object. The standard property name is <code>state</code>, but you may use a custom property name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>api.state=stateObject;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">myCollapsible<span class="token punctuation">.</span>stateObject<span class="token punctuation">.</span>collapsed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code></pre></li>
        	<li><p><strong><a href="#api">api.setState</a></strong> - The <em>method name</em> for setting data on <em>state objects</em>. The standard <em>method name</em> is <code>setState</code>, but you may use a custom method name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>api.setState=setStateObject;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">document<span class="token punctuation">.</span><span class="token function">setStateObject</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	<li><p><strong><a href="#api">api.clearState</a></strong> - The <em>method name</em> for clearing data from <em>state objects</em>. The standard <em>method name</em> is <code>clearState</code>, but you may use a custom method name, where necessary.</p>
<pre class="line-numbers match-braces language-html" tabindex="0"><code class="html language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>oohtml<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>api.clearState=clearStateObject;<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
<pre class="line-numbers match-braces language-js" tabindex="0"><code class="js language-js">document<span class="token punctuation">.</span><span class="token function">clearStateObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
        	</ul>
        	<p>Learn more about customization and the OOHTML meta tag <a href="/tooling/oohtml/docs/resources/meta-tag">here</a>.</p>
        </div>
    </template>
</template>