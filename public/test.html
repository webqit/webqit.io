<!DOCTYPE html>
<html>
    <head>
        <title data-id="title">Test</title>
        <script>
            OOHTML_META = {attr: {id: 'data-id'},};
        </script>
        <script src="http://unpkg2.com:9000/@webqit/oohtml/dist/-main.js"></script>
        <script src="http://unpkg2.com:9000/@webqit/browser-pie/dist/apis.js"></script>
        <script src="http://unpkg2.com:9000/@webqit/observer/dist/main.js"></script>
        <meta name="oohtml" content="attr.id=data-id;" />
        <template name="aaaa">
            <div export="div-a">aaaa</div>
            <template name="bbbb">
                <div export="div-b">Local content</div>
                <template name="cccc" src="test-b.html"></template>
            </template>
        </template>
        <style>
            #box {
                width:600px;
                height: 400px;
                background-color: yellow;
            }
        </style>
        <script type="scoped" binding>
            document.namespace.title.innerHTML = document.state.title;
        </script>
    </head>
    <body>
        <div id="box" namespace>
            <div class="cl" id="idddddd"></div>
        </div>
        <div class="cl" id="id">Classssssssssssssss</div>
        <oo-import name="div-b" template="aaaa/bbbb" template-fallback="0">expor-1</oo-import>
        <oo-import name="div-b" template="aaaa/bbbb/cccc/dddd" template-fallback="4">expor-2</oo-import>
        <script src="http://unpkg2.com:9000/@webqit/play-ui/dist/main.js"></script>
        <script>

            /**
            console.log([document.querySelector('#id')]);
            var respondeToTemplateEvent = e => {
                console.log(e.type, e.detail)
            };
            document.addEventListener('templateadded', respondeToTemplateEvent);
            document.addEventListener('templateremoved', respondeToTemplateEvent);
            document.addEventListener('templatecontentloaded', respondeToTemplateEvent);

            var temp = document.querySelector('template');
            setTimeout(() => {
                var childTemp = temp.templates.bbbb;
                
                console.log(childTemp);

                childTemp.remove();
                temp.remove();

            }, 600);
            */
            setTimeout(() => {
                
                var Obs = window.WQ.Observer;
                var obj = {};
                
                Obs.observe(obj, e => {
                    console.log(e);
                });

                Obs.set(obj, 'key1', 'val1');
                setTimeout(() => {
                    Obs.set(obj, {key2: 'val2', key3: 'val3'});
                }, 600);

            }, 600);

            /**
            document.state.title = 'Document Title2222';
            setTimeout(() => {
            }, 0);
            var bodx = document.querySelector('#box');
            var query1 = '(right > 50%) and not(some-literal) using (some-var: some-val), (some-var2: some-val2)';
            var query2 = '(300px > intersection-top > 250px) using (intersection-root: viewport)';
            var fffffffff = WQ.APIS.matchRect(box, query1);
            console.log('matches', fffffffff.matches);
            fffffffff.addEventListener('change', e => {
                console.log('change', fffffffff.matches);
            });
            */
        </script>
    </body>
</html>